var dM=Object.defineProperty,fM=Object.defineProperties;var pM=Object.getOwnPropertyDescriptors;var RE=Object.getOwnPropertySymbols;var hM=Object.prototype.hasOwnProperty,mM=Object.prototype.propertyIsEnumerable;var FE=(n,e,t)=>e in n?dM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,I=(n,e)=>{for(var t in e||={})hM.call(e,t)&&FE(n,t,e[t]);if(RE)for(var t of RE(e))mM.call(e,t)&&FE(n,t,e[t]);return n},V=(n,e)=>fM(n,pM(e));var LE=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),da=class n{element=null;classNames=[];attrs=[];notSelectors=[];static parse(e){let t=[],i=(l,u)=>{u.notSelectors.length>0&&!u.element&&u.classNames.length==0&&u.attrs.length==0&&(u.element="*"),l.push(u)},r=new n,o,s=r,a=!1;for(LE.lastIndex=0;o=LE.exec(e);){if(o[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,s=new n,r.notSelectors.push(s)}let l=o[2];if(l){let d=o[3];d==="#"?s.addAttribute("id",l.slice(1)):d==="."?s.addClassName(l.slice(1)):s.setElement(l)}let u=o[4];if(u&&s.addAttribute(s.unescapeAttribute(u),o[6]),o[7]&&(a=!1,s=r),o[8]){if(a)throw new Error("Multiple selectors in :not are not supported");i(t,r),r=s=new n}}return i(t,r),t}unescapeAttribute(e){let t="",i=!1;for(let r=0;r<e.length;r++){let o=e.charAt(r);if(o==="\\"){i=!0;continue}if(o==="$"&&!i)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);i=!1,t+=o}return t}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+=`.${t}`),this.attrs)for(let t=0;t<this.attrs.length;t+=2){let i=this.escapeAttribute(this.attrs[t]),r=this.attrs[t+1];e+=`[${i}${r?"="+r:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}},Od=class n{static createNotMatcher(e){let t=new n;return t.addSelectables(e,null),t}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(e,t){let i=null;e.length>1&&(i=new fg(e),this._listContexts.push(i));for(let r=0;r<e.length;r++)this._addSelectable(e[r],t,i)}_addSelectable(e,t,i){let r=this,o=e.element,s=e.classNames,a=e.attrs,l=new pg(e,t,i);if(o&&(a.length===0&&s.length===0?this._addTerminal(r._elementMap,o,l):r=this._addPartial(r._elementPartialMap,o)),s)for(let u=0;u<s.length;u++){let d=a.length===0&&u===s.length-1,p=s[u];d?this._addTerminal(r._classMap,p,l):r=this._addPartial(r._classPartialMap,p)}if(a)for(let u=0;u<a.length;u+=2){let d=u===a.length-2,p=a[u],h=a[u+1];if(d){let v=r._attrValueMap,x=v.get(p);x||(x=new Map,v.set(p,x)),this._addTerminal(x,h,l)}else{let v=r._attrValuePartialMap,x=v.get(p);x||(x=new Map,v.set(p,x)),r=this._addPartial(x,h)}}}_addTerminal(e,t,i){let r=e.get(t);r||(r=[],e.set(t,r)),r.push(i)}_addPartial(e,t){let i=e.get(t);return i||(i=new n,e.set(t,i)),i}match(e,t){let i=!1,r=e.element,o=e.classNames,s=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(i=this._matchTerminal(this._elementMap,r,e,t)||i,i=this._matchPartial(this._elementPartialMap,r,e,t)||i,o)for(let a=0;a<o.length;a++){let l=o[a];i=this._matchTerminal(this._classMap,l,e,t)||i,i=this._matchPartial(this._classPartialMap,l,e,t)||i}if(s)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1],d=this._attrValueMap.get(l);u&&(i=this._matchTerminal(d,"",e,t)||i),i=this._matchTerminal(d,u,e,t)||i;let p=this._attrValuePartialMap.get(l);u&&(i=this._matchPartial(p,"",e,t)||i),i=this._matchPartial(p,u,e,t)||i}return i}_matchTerminal(e,t,i,r){if(!e||typeof t!="string")return!1;let o=e.get(t)||[],s=e.get("*");if(s&&(o=o.concat(s)),o.length===0)return!1;let a,l=!1;for(let u=0;u<o.length;u++)a=o[u],l=a.finalize(i,r)||l;return l}_matchPartial(e,t,i,r){if(!e||typeof t!="string")return!1;let o=e.get(t);return o?o.match(i,r):!1}},fg=class{selectors;alreadyMatched=!1;constructor(e){this.selectors=e}},pg=class{selector;cbContext;listContext;notSelectors;constructor(e,t,i){this.selector=e,this.cbContext=t,this.listContext=i,this.notSelectors=e.notSelectors}finalize(e,t){let i=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(i=!Od.createNotMatcher(this.notSelectors).match(e,null)),i&&t&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),i}},Vd=class{registry;constructor(e){this.registry=e}match(e){return this.registry.has(e)?this.registry.get(e):[]}};var Do=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Do||{}),F0=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(F0||{}),jl=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(jl||{}),OE={name:"custom-elements"},VE={name:"no-errors-schema"};var Ge=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Ge||{});function gM(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return[n.element&&n.element!=="*"?n.element:"",...n.attrs,...e]}function vM(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return n.element?[5,n.element,...n.attrs,...e]:n.attrs.length?[3,...n.attrs,...e]:n.classNames&&n.classNames.length?[9,...n.classNames]:[]}function _M(n){let e=gM(n),t=n.notSelectors&&n.notSelectors.length?n.notSelectors.map(i=>vM(i)):[];return e.concat(...t)}function L0(n){return n?da.parse(n).map(_M):[]}var ar=(function(n){return n[n.Directive=0]="Directive",n[n.Component=1]="Component",n[n.Injectable=2]="Injectable",n[n.Pipe=3]="Pipe",n[n.NgModule=4]="NgModule",n})(ar||{});var Bd;function yM(n){return wM(xM(n.nodes).join("")+`[${n.meaning}]`)}function CM(n){return n.id||Iw(n)}function Iw(n){let e=new hg,t=n.nodes.map(i=>i.visit(e,null));return Dw(t.join(""),n.meaning)}var qd=class{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(i=>i.visit(this)).join(", ")}]`}visitIcu(e,t){let i=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expression}, ${e.type}, ${i.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(i=>i.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,t){return`<ph block name="${e.startName}">${e.children.map(i=>i.visit(this)).join(", ")}</ph name="${e.closeName}">`}},EM=new qd;function xM(n){return n.map(e=>e.visit(EM,null))}var hg=class extends qd{visitIcu(e){let t=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.type}, ${t.join(", ")}}`}};function wM(n){Bd??=new TextEncoder;let e=[...Bd.encode(n)],t=bM(e,O0.Big),i=e.length*8,r=new Uint32Array(80),o=1732584193,s=4023233417,a=2562383102,l=271733878,u=3285377520;t[i>>5]|=128<<24-i%32,t[(i+64>>9<<4)+15]=i;for(let d=0;d<t.length;d+=16){let p=o,h=s,v=a,x=l,b=u;for(let N=0;N<80;N++){N<16?r[N]=t[d+N]:r[N]=Gm(r[N-3]^r[N-8]^r[N-14]^r[N-16],1);let k=SM(N,s,a,l),U=k[0],$=k[1],H=[Gm(o,5),U,u,$,r[N]].reduce(Qs);u=l,l=a,a=Gm(s,30),s=o,o=H}o=Qs(o,p),s=Qs(s,h),a=Qs(a,v),l=Qs(l,x),u=Qs(u,b)}return $l(o)+$l(s)+$l(a)+$l(l)+$l(u)}function $l(n){return(n>>>0).toString(16).padStart(8,"0")}function SM(n,e,t,i){return n<20?[e&t|~e&i,1518500249]:n<40?[e^t^i,1859775393]:n<60?[e&t|e&i|t&i,2400959708]:[e^t^i,3395469782]}function BE(n){Bd??=new TextEncoder;let e=Bd.encode(n),t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=qE(t,e.length,0),r=qE(t,e.length,102072);return i==0&&(r==0||r==1)&&(i=i^319790063,r=r^-1801410264),BigInt.asUintN(32,BigInt(i))<<BigInt(32)|BigInt.asUintN(32,BigInt(r))}function Dw(n,e=""){let t=BE(n);return e&&(t=BigInt.asUintN(64,t<<BigInt(1))|t>>BigInt(63)&BigInt(1),t+=BE(e)),BigInt.asUintN(63,t).toString()}function qE(n,e,t){let i=2654435769,r=2654435769,o=0,s=e-12;for(;o<=s;o+=12){i+=n.getUint32(o,!0),r+=n.getUint32(o+4,!0),t+=n.getUint32(o+8,!0);let l=UE(i,r,t);i=l[0],r=l[1],t=l[2]}let a=e-o;return t+=e,a>=4?(i+=n.getUint32(o,!0),o+=4,a>=8?(r+=n.getUint32(o,!0),o+=4,a>=9&&(t+=n.getUint8(o++)<<8),a>=10&&(t+=n.getUint8(o++)<<16),a===11&&(t+=n.getUint8(o++)<<24)):(a>=5&&(r+=n.getUint8(o++)),a>=6&&(r+=n.getUint8(o++)<<8),a===7&&(r+=n.getUint8(o++)<<16))):(a>=1&&(i+=n.getUint8(o++)),a>=2&&(i+=n.getUint8(o++)<<8),a===3&&(i+=n.getUint8(o++)<<16)),UE(i,r,t)[2]}function UE(n,e,t){return n-=e,n-=t,n^=t>>>13,e-=t,e-=n,e^=n<<8,t-=n,t-=e,t^=e>>>13,n-=e,n-=t,n^=t>>>12,e-=t,e-=n,e^=n<<16,t-=n,t-=e,t^=e>>>5,n-=e,n-=t,n^=t>>>3,e-=t,e-=n,e^=n<<10,t-=n,t-=e,t^=e>>>15,[n,e,t]}var O0=(function(n){return n[n.Little=0]="Little",n[n.Big=1]="Big",n})(O0||{});function Qs(n,e){return TM(n,e)[1]}function TM(n,e){let t=(n&65535)+(e&65535),i=(n>>>16)+(e>>>16)+(t>>>16);return[i>>>16,i<<16|t&65535]}function Gm(n,e){return n<<e|n>>>32-e}function bM(n,e){let t=n.length+3>>>2,i=[];for(let r=0;r<t;r++)i[r]=IM(n,r*4,e);return i}function $E(n,e){return e>=n.length?0:n[e]}function IM(n,e,t){let i=0;if(t===O0.Big)for(let r=0;r<4;r++)i+=$E(n,e+r)<<24-8*r;else for(let r=0;r<4;r++)i+=$E(n,e+r)<<8*r;return i}var Aw=(function(n){return n[n.None=0]="None",n[n.Const=1]="Const",n})(Aw||{}),Ud=class{modifiers;constructor(e=Aw.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},_r=(function(n){return n[n.Dynamic=0]="Dynamic",n[n.Bool=1]="Bool",n[n.String=2]="String",n[n.Int=3]="Int",n[n.Number=4]="Number",n[n.Function=5]="Function",n[n.Inferred=6]="Inferred",n[n.None=7]="None",n})(_r||{}),Vi=class extends Ud{name;constructor(e,t){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}},Zn=class extends Ud{value;typeParams;constructor(e,t,i=null){super(t),this.value=e,this.typeParams=i}visitType(e,t){return e.visitExpressionType(this,t)}};var ec=new Vi(_r.Dynamic),Mn=new Vi(_r.Inferred),DM=new Vi(_r.Bool),wJ=new Vi(_r.Int),V0=new Vi(_r.Number),B0=new Vi(_r.String),SJ=new Vi(_r.Function),Bi=new Vi(_r.None),su=(function(n){return n[n.Minus=0]="Minus",n[n.Plus=1]="Plus",n})(su||{}),q=(function(n){return n[n.Equals=0]="Equals",n[n.NotEquals=1]="NotEquals",n[n.Assign=2]="Assign",n[n.Identical=3]="Identical",n[n.NotIdentical=4]="NotIdentical",n[n.Minus=5]="Minus",n[n.Plus=6]="Plus",n[n.Divide=7]="Divide",n[n.Multiply=8]="Multiply",n[n.Modulo=9]="Modulo",n[n.And=10]="And",n[n.Or=11]="Or",n[n.BitwiseOr=12]="BitwiseOr",n[n.BitwiseAnd=13]="BitwiseAnd",n[n.Lower=14]="Lower",n[n.LowerEquals=15]="LowerEquals",n[n.Bigger=16]="Bigger",n[n.BiggerEquals=17]="BiggerEquals",n[n.NullishCoalesce=18]="NullishCoalesce",n[n.Exponentiation=19]="Exponentiation",n[n.In=20]="In",n[n.AdditionAssignment=21]="AdditionAssignment",n[n.SubtractionAssignment=22]="SubtractionAssignment",n[n.MultiplicationAssignment=23]="MultiplicationAssignment",n[n.DivisionAssignment=24]="DivisionAssignment",n[n.RemainderAssignment=25]="RemainderAssignment",n[n.ExponentiationAssignment=26]="ExponentiationAssignment",n[n.AndAssignment=27]="AndAssignment",n[n.OrAssignment=28]="OrAssignment",n[n.NullishCoalesceAssignment=29]="NullishCoalesceAssignment",n})(q||{});function AM(n,e){return n==null||e==null?n==e:n.isEquivalent(e)}function Mw(n,e,t){let i=n.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function Pn(n,e){return Mw(n,e,(t,i)=>t.isEquivalent(i))}var Ve=class{type;sourceSpan;constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new Rn(this,e,null,t)}key(e,t,i){return new hr(this,e,t,i)}callFn(e,t,i){return new Cn(this,e,null,t,i)}instantiate(e,t,i){return new lu(this,e,t,i)}conditional(e,t=null,i){return new qi(this,e,t,null,i)}equals(e,t){return new Se(q.Equals,this,e,null,t)}notEquals(e,t){return new Se(q.NotEquals,this,e,null,t)}identical(e,t){return new Se(q.Identical,this,e,null,t)}notIdentical(e,t){return new Se(q.NotIdentical,this,e,null,t)}minus(e,t){return new Se(q.Minus,this,e,null,t)}plus(e,t){return new Se(q.Plus,this,e,null,t)}divide(e,t){return new Se(q.Divide,this,e,null,t)}multiply(e,t){return new Se(q.Multiply,this,e,null,t)}modulo(e,t){return new Se(q.Modulo,this,e,null,t)}power(e,t){return new Se(q.Exponentiation,this,e,null,t)}and(e,t){return new Se(q.And,this,e,null,t)}bitwiseOr(e,t){return new Se(q.BitwiseOr,this,e,null,t)}bitwiseAnd(e,t){return new Se(q.BitwiseAnd,this,e,null,t)}or(e,t){return new Se(q.Or,this,e,null,t)}lower(e,t){return new Se(q.Lower,this,e,null,t)}lowerEquals(e,t){return new Se(q.LowerEquals,this,e,null,t)}bigger(e,t){return new Se(q.Bigger,this,e,null,t)}biggerEquals(e,t){return new Se(q.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(RM,e)}nullishCoalesce(e,t){return new Se(q.NullishCoalesce,this,e,null,t)}toStmt(){return new Xn(this,null)}},Kn=class n extends Ve{name;constructor(e,t,i){super(t,i),this.name=e}isEquivalent(e){return e instanceof n&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}clone(){return new n(this.name,this.type,this.sourceSpan)}set(e){return new Se(q.Assign,this,e,null,this.sourceSpan)}},fa=class n extends Ve{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},$d=class n extends Ve{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitVoidExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},ye=class n extends Ve{node;constructor(e,t,i){super(t,i),this.node=e}isEquivalent(e){return e instanceof n&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}clone(){return new n(this.node,this.type,this.sourceSpan)}},Cn=class n extends Ve{fn;args;pure;constructor(e,t,i,r,o=!1){super(i,r),this.fn=e,this.args=t,this.pure=o}get receiver(){return this.fn}isEquivalent(e){return e instanceof n&&this.fn.isEquivalent(e.fn)&&Pn(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}clone(){return new n(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},au=class n extends Ve{tag;template;constructor(e,t,i,r){super(i,r),this.tag=e,this.template=t}isEquivalent(e){return e instanceof n&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(e,t){return e.visitTaggedTemplateLiteralExpr(this,t)}clone(){return new n(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},lu=class n extends Ve{classExpr;args;constructor(e,t,i,r){super(i,r),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof n&&this.classExpr.isEquivalent(e.classExpr)&&Pn(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}clone(){return new n(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},Vt=class n extends Ve{value;constructor(e,t,i){super(t,i),this.value=e}isEquivalent(e){return e instanceof n&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}clone(){return new n(this.value,this.type,this.sourceSpan)}},uu=class n extends Ve{elements;expressions;constructor(e,t,i){super(null,i),this.elements=e,this.expressions=t}isEquivalent(e){return e instanceof n&&Mw(this.elements,e.elements,(t,i)=>t.text===i.text)&&Pn(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(e,t){return e.visitTemplateLiteralExpr(this,t)}clone(){return new n(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},Hd=class n extends Ve{text;rawText;constructor(e,t,i){super(B0,t),this.text=e,this.rawText=i??mg(kd(e))}visitExpression(e,t){return e.visitTemplateLiteralElementExpr(this,t)}isEquivalent(e){return e instanceof n&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new n(this.text,this.sourceSpan,this.rawText)}},Oo=class{text;sourceSpan;constructor(e,t){this.text=e,this.sourceSpan=t}},sa=class{text;sourceSpan;associatedMessage;constructor(e,t,i){this.text=e,this.sourceSpan=t,this.associatedMessage=i}},MM="|",HE="@@",kM="\u241F",zd=class n extends Ve{metaBlock;messageParts;placeHolderNames;expressions;constructor(e,t,i,r,o){super(B0,o),this.metaBlock=e,this.messageParts=t,this.placeHolderNames=i,this.expressions=r}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,t){return e.visitLocalizedString(this,t)}clone(){return new n(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${MM}${e}`),this.metaBlock.customId&&(e=`${e}${HE}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(t=>{e=`${e}${kM}${t}`}),zE(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let t=this.placeHolderNames[e-1],i=this.messageParts[e],r=t.text;return t.associatedMessage?.legacyIds.length===0&&(r+=`${HE}${Dw(t.associatedMessage.messageString,t.associatedMessage.meaning)}`),zE(r,i.text,this.getMessagePartSourceSpan(e))}},kd=n=>n.replace(/\\/g,"\\\\"),NM=n=>n.replace(/^:/,"\\:"),PM=n=>n.replace(/:/g,"\\:"),mg=n=>n.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function zE(n,e,t){return n===""?{cooked:e,raw:mg(NM(kd(e))),range:t}:{cooked:`:${n}:${e}`,raw:mg(`:${PM(kd(n))}:${kd(e)}`),range:t}}var zo=class n extends Ve{value;typeParams;constructor(e,t,i=null,r){super(t,r),this.value=e,this.typeParams=i}isEquivalent(e){return e instanceof n&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}clone(){return new n(this.value,this.type,this.typeParams,this.sourceSpan)}};var qi=class n extends Ve{condition;falseCase;trueCase;constructor(e,t,i=null,r,o){super(r||t.type,o),this.condition=e,this.falseCase=i,this.trueCase=t}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&AM(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}clone(){return new n(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}};var cu=class n extends Ve{condition;constructor(e,t){super(DM,t),this.condition=e}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}clone(){return new n(this.condition.clone(),this.sourceSpan)}},Tt=class n{name;type;constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}clone(){return new n(this.name,this.type)}},Gr=class n extends Ve{params;statements;name;constructor(e,t,i,r,o){super(i,r),this.params=e,this.statements=t,this.name=o}isEquivalent(e){return(e instanceof n||e instanceof du)&&Pn(this.params,e.params)&&Pn(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t){return new du(e,this.params,this.statements,this.type,t,this.sourceSpan)}clone(){return new n(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},Go=class n extends Ve{params;body;constructor(e,t,i,r){super(i,r),this.params=e,this.body=t}isEquivalent(e){return!(e instanceof n)||!Pn(this.params,e.params)?!1:this.body instanceof Ve&&e.body instanceof Ve?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?Pn(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,t){return e.visitArrowFunctionExpr(this,t)}clone(){return new n(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,t){return new Ct(e,this,Mn,t,this.sourceSpan)}},Wo=class n extends Ve{operator;expr;parens;constructor(e,t,i,r,o=!0){super(i||V0,r),this.operator=e,this.expr=t,this.parens=o}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,t){return e.visitUnaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},mi=class n extends Ve{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitParenthesizedExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},Se=class n extends Ve{operator;rhs;lhs;constructor(e,t,i,r,o){super(r||t.type,o),this.operator=e,this.rhs=i,this.lhs=t}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan)}isAssignment(){let e=this.operator;return e===q.Assign||e===q.AdditionAssignment||e===q.SubtractionAssignment||e===q.MultiplicationAssignment||e===q.DivisionAssignment||e===q.RemainderAssignment||e===q.ExponentiationAssignment||e===q.AndAssignment||e===q.OrAssignment||e===q.NullishCoalesceAssignment}},Rn=class n extends Ve{receiver;name;constructor(e,t,i,r){super(i,r),this.receiver=e,this.name=t}get index(){return this.name}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new Se(q.Assign,this.receiver.prop(this.name),e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},hr=class n extends Ve{receiver;index;constructor(e,t,i,r){super(i,r),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new Se(q.Assign,this.receiver.key(this.index),e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},gi=class n extends Ve{entries;constructor(e,t,i){super(t,i),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof n&&Pn(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}clone(){return new n(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},pa=class n{key;value;quoted;constructor(e,t,i){this.key=e,this.value=t,this.quoted=i}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new n(this.key,this.value.clone(),this.quoted)}},Ui=class n extends Ve{entries;valueType=null;constructor(e,t,i){super(t,i),this.entries=e,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof n&&Pn(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}clone(){let e=this.entries.map(t=>t.clone());return new n(e,this.type,this.sourceSpan)}};var ha=new Vt(null,null,null),RM=new Vt(null,Mn,null),Ft=(function(n){return n[n.None=0]="None",n[n.Final=1]="Final",n[n.Private=2]="Private",n[n.Exported=4]="Exported",n[n.Static=8]="Static",n})(Ft||{}),gg=class{text;multiline;trailingNewline;constructor(e,t,i){this.text=e,this.multiline=t,this.trailingNewline=i}toString(){return this.multiline?` ${this.text} `:this.text}},Gd=class extends gg{tags;constructor(e){super("",!0,!0),this.tags=e}toString(){return BM(this.tags)}},Qo=class{modifiers;sourceSpan;leadingComments;constructor(e=Ft.None,t=null,i){this.modifiers=e,this.sourceSpan=t,this.leadingComments=i}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},Ct=class n extends Qo{name;value;type;constructor(e,t,i,r,o,s){super(r,o,s),this.name=e,this.value=t,this.type=i||t&&t.type||null}isEquivalent(e){return e instanceof n&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}},du=class n extends Qo{name;params;statements;type;constructor(e,t,i,r,o,s,a){super(o,s,a),this.name=e,this.params=t,this.statements=i,this.type=r||null}isEquivalent(e){return e instanceof n&&Pn(this.params,e.params)&&Pn(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}},Xn=class n extends Qo{expr;constructor(e,t,i){super(Ft.None,t,i),this.expr=e}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}},Lt=class n extends Qo{value;constructor(e,t=null,i){super(Ft.None,t,i),this.value=e}isEquivalent(e){return e instanceof n&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}},Wd=class n extends Qo{condition;trueCase;falseCase;constructor(e,t,i=[],r,o){super(Ft.None,r,o),this.condition=e,this.trueCase=t,this.falseCase=i}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&Pn(this.trueCase,e.trueCase)&&Pn(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}};function FM(n=[]){return new Gd(n)}function ge(n,e,t){return new Kn(n,e,t)}function Y(n,e=null,t){return new zo(n,null,e,t)}function Ot(n,e,t){return new Zn(n,e,t)}function tc(n){return new fa(n)}function Ne(n,e,t){return new gi(n,e,t)}function an(n,e=null){return new Ui(n.map(t=>new pa(t.key,t.value,t.quoted)),e,null)}function LM(n,e){return new cu(n,e)}function Qr(n,e,t,i,r){return new Gr(n,e,t,i,r)}function vi(n,e,t,i){return new Go(n,e,t,i)}function Jf(n,e,t,i,r){return new Wd(n,e,t,i,r)}function OM(n,e,t,i){return new au(n,e,t,i)}function M(n,e,t){return new Vt(n,e,t)}function VM(n,e,t,i,r){return new zd(n,e,t,i,r)}function GE(n){let e="";if(n.tagName&&(e+=` @${n.tagName}`),n.text){if(n.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+n.text.replace(/@/g,"\\@")}return e}function BM(n){if(n.length===0)return"";if(n.length===1&&n[0].tagName&&!n[0].text)return`*${GE(n[0])} `;let e=`*
`;for(let t of n)e+=" *",e+=GE(t).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var qM="_c",WE=ge("<unknown>"),UM={},$M=50,Qd=class n extends Ve{resolved;original;shared=!1;constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===UM?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},jd=class{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(e=!1){this.isClosureCompilerEnabled=e}getConstLiteral(e,t){if(e instanceof Vt&&!QE(e)||e instanceof Qd)return e;let i=aa.INSTANCE.keyOf(e),r=this.literals.get(i),o=!1;if(r||(r=new Qd(e),this.literals.set(i,r),o=!0),!o&&!r.shared||o&&t){let s=this.freshName(),a,l;this.isClosureCompilerEnabled&&QE(e)?(a=new Gr([],[new Lt(e)]),l=ge(s).callFn([])):(a=e,l=ge(s)),this.statements.push(new Ct(s,a,Mn,Ft.Final)),r.fixup(l)}return r}getSharedConstant(e,t){let i=e.keyOf(t);if(!this.sharedConstants.has(i)){let r=this.freshName();this.sharedConstants.set(i,ge(r)),this.statements.push(e.toSharedConstantDeclaration(r,t))}return this.sharedConstants.get(i)}getLiteralFactory(e){if(e instanceof gi){let t=e.entries.map(r=>r.isConstant()?r:WE),i=aa.INSTANCE.keyOf(Ne(t));return this._getLiteralFactory(i,e.entries,r=>Ne(r))}else{let t=an(e.entries.map(r=>({key:r.key,value:r.value.isConstant()?r.value:WE,quoted:r.quoted}))),i=aa.INSTANCE.keyOf(t);return this._getLiteralFactory(i,e.entries.map(r=>r.value),r=>an(r.map((o,s)=>({key:e.entries[s].key,value:o,quoted:e.entries[s].quoted}))))}}getSharedFunctionReference(e,t,i=!0){let r=e instanceof Go;for(let s of this.statements)if(r&&s instanceof Ct&&s.value?.isEquivalent(e)||!r&&s instanceof du&&e instanceof Gr&&e.isEquivalent(s))return ge(s.name);let o=i?this.uniqueName(t):t;return this.statements.push(e instanceof Gr?e.toDeclStmt(o,Ft.Final):new Ct(o,e,Mn,Ft.Final,e.sourceSpan)),ge(o)}_getLiteralFactory(e,t,i){let r=this.literalFactories.get(e),o=t.filter(s=>!s.isConstant());if(!r){let s=t.map((d,p)=>d.isConstant()?this.getConstLiteral(d,!0):ge(`a${p}`)),a=s.filter(HM).map(d=>new Tt(d.name,ec)),l=vi(a,i(s),Mn),u=this.freshName();this.statements.push(new Ct(u,l,Mn,Ft.Final)),r=ge(u),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:o}}uniqueName(e,t=!0){let i=this._claimedNames.get(e)??0,r=i===0&&!t?`${e}`:`${e}${i}`;return this._claimedNames.set(e,i+1),r}freshName(){return this.uniqueName(qM)}},aa=class n{static INSTANCE=new n;keyOf(e){if(e instanceof Vt&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof Vt)return String(e.value);if(e instanceof gi){let t=[];for(let i of e.entries)t.push(this.keyOf(i));return`[${t.join(",")}]`}else if(e instanceof Ui){let t=[];for(let i of e.entries){let r=i.key;i.quoted&&(r=`"${r}"`),t.push(r+":"+this.keyOf(i.value))}return`{${t.join(",")}}`}else{if(e instanceof zo)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof Kn)return`read(${e.name})`;if(e instanceof fa)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function HM(n){return n instanceof Kn}function QE(n){return n instanceof Vt&&typeof n.value=="string"&&n.value.length>=$M}var D="@angular/core",w=(()=>{class n{static NEW_METHOD="factory";static TRANSFORM_METHOD="transform";static PATCH_DEPS="patchedDeps";static core={name:null,moduleName:D};static namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:D};static namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:D};static namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:D};static element={name:"\u0275\u0275element",moduleName:D};static elementStart={name:"\u0275\u0275elementStart",moduleName:D};static elementEnd={name:"\u0275\u0275elementEnd",moduleName:D};static domElement={name:"\u0275\u0275domElement",moduleName:D};static domElementStart={name:"\u0275\u0275domElementStart",moduleName:D};static domElementEnd={name:"\u0275\u0275domElementEnd",moduleName:D};static domElementContainer={name:"\u0275\u0275domElementContainer",moduleName:D};static domElementContainerStart={name:"\u0275\u0275domElementContainerStart",moduleName:D};static domElementContainerEnd={name:"\u0275\u0275domElementContainerEnd",moduleName:D};static domTemplate={name:"\u0275\u0275domTemplate",moduleName:D};static domListener={name:"\u0275\u0275domListener",moduleName:D};static advance={name:"\u0275\u0275advance",moduleName:D};static syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:D};static syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:D};static attribute={name:"\u0275\u0275attribute",moduleName:D};static classProp={name:"\u0275\u0275classProp",moduleName:D};static elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:D};static elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:D};static elementContainer={name:"\u0275\u0275elementContainer",moduleName:D};static styleMap={name:"\u0275\u0275styleMap",moduleName:D};static classMap={name:"\u0275\u0275classMap",moduleName:D};static styleProp={name:"\u0275\u0275styleProp",moduleName:D};static interpolate={name:"\u0275\u0275interpolate",moduleName:D};static interpolate1={name:"\u0275\u0275interpolate1",moduleName:D};static interpolate2={name:"\u0275\u0275interpolate2",moduleName:D};static interpolate3={name:"\u0275\u0275interpolate3",moduleName:D};static interpolate4={name:"\u0275\u0275interpolate4",moduleName:D};static interpolate5={name:"\u0275\u0275interpolate5",moduleName:D};static interpolate6={name:"\u0275\u0275interpolate6",moduleName:D};static interpolate7={name:"\u0275\u0275interpolate7",moduleName:D};static interpolate8={name:"\u0275\u0275interpolate8",moduleName:D};static interpolateV={name:"\u0275\u0275interpolateV",moduleName:D};static nextContext={name:"\u0275\u0275nextContext",moduleName:D};static resetView={name:"\u0275\u0275resetView",moduleName:D};static templateCreate={name:"\u0275\u0275template",moduleName:D};static defer={name:"\u0275\u0275defer",moduleName:D};static deferWhen={name:"\u0275\u0275deferWhen",moduleName:D};static deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:D};static deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:D};static deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:D};static deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:D};static deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:D};static deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:D};static deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:D};static deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:D};static deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:D};static deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:D};static deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:D};static deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:D};static deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:D};static deferHydrateWhen={name:"\u0275\u0275deferHydrateWhen",moduleName:D};static deferHydrateNever={name:"\u0275\u0275deferHydrateNever",moduleName:D};static deferHydrateOnIdle={name:"\u0275\u0275deferHydrateOnIdle",moduleName:D};static deferHydrateOnImmediate={name:"\u0275\u0275deferHydrateOnImmediate",moduleName:D};static deferHydrateOnTimer={name:"\u0275\u0275deferHydrateOnTimer",moduleName:D};static deferHydrateOnHover={name:"\u0275\u0275deferHydrateOnHover",moduleName:D};static deferHydrateOnInteraction={name:"\u0275\u0275deferHydrateOnInteraction",moduleName:D};static deferHydrateOnViewport={name:"\u0275\u0275deferHydrateOnViewport",moduleName:D};static deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:D};static conditionalCreate={name:"\u0275\u0275conditionalCreate",moduleName:D};static conditionalBranchCreate={name:"\u0275\u0275conditionalBranchCreate",moduleName:D};static conditional={name:"\u0275\u0275conditional",moduleName:D};static repeater={name:"\u0275\u0275repeater",moduleName:D};static repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:D};static repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:D};static repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:D};static componentInstance={name:"\u0275\u0275componentInstance",moduleName:D};static text={name:"\u0275\u0275text",moduleName:D};static enableBindings={name:"\u0275\u0275enableBindings",moduleName:D};static disableBindings={name:"\u0275\u0275disableBindings",moduleName:D};static getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:D};static textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:D};static textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:D};static textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:D};static textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:D};static textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:D};static textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:D};static textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:D};static textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:D};static textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:D};static textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:D};static restoreView={name:"\u0275\u0275restoreView",moduleName:D};static pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:D};static pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:D};static pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:D};static pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:D};static pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:D};static pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:D};static pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:D};static pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:D};static pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:D};static pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:D};static pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:D};static pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:D};static pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:D};static pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:D};static pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:D};static domProperty={name:"\u0275\u0275domProperty",moduleName:D};static ariaProperty={name:"\u0275\u0275ariaProperty",moduleName:D};static property={name:"\u0275\u0275property",moduleName:D};static animationEnterListener={name:"\u0275\u0275animateEnterListener",moduleName:D};static animationLeaveListener={name:"\u0275\u0275animateLeaveListener",moduleName:D};static animationEnter={name:"\u0275\u0275animateEnter",moduleName:D};static animationLeave={name:"\u0275\u0275animateLeave",moduleName:D};static i18n={name:"\u0275\u0275i18n",moduleName:D};static i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:D};static i18nExp={name:"\u0275\u0275i18nExp",moduleName:D};static i18nStart={name:"\u0275\u0275i18nStart",moduleName:D};static i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:D};static i18nApply={name:"\u0275\u0275i18nApply",moduleName:D};static i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:D};static pipe={name:"\u0275\u0275pipe",moduleName:D};static projection={name:"\u0275\u0275projection",moduleName:D};static projectionDef={name:"\u0275\u0275projectionDef",moduleName:D};static reference={name:"\u0275\u0275reference",moduleName:D};static inject={name:"\u0275\u0275inject",moduleName:D};static injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:D};static directiveInject={name:"\u0275\u0275directiveInject",moduleName:D};static invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:D};static invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:D};static templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:D};static forwardRef={name:"forwardRef",moduleName:D};static resolveForwardRef={name:"resolveForwardRef",moduleName:D};static replaceMetadata={name:"\u0275\u0275replaceMetadata",moduleName:D};static getReplaceMetadataURL={name:"\u0275\u0275getReplaceMetadataURL",moduleName:D};static \u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:D};static declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:D};static InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:D};static resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:D};static resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:D};static resolveBody={name:"\u0275\u0275resolveBody",moduleName:D};static getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:D};static defineComponent={name:"\u0275\u0275defineComponent",moduleName:D};static declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:D};static setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:D};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:D};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:D};static ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:D};static FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:D};static declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:D};static FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:D};static defineDirective={name:"\u0275\u0275defineDirective",moduleName:D};static declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:D};static DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:D};static InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:D};static InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:D};static defineInjector={name:"\u0275\u0275defineInjector",moduleName:D};static declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:D};static NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:D};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:D};static defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:D};static declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:D};static setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:D};static registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:D};static PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:D};static definePipe={name:"\u0275\u0275definePipe",moduleName:D};static declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:D};static declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:D};static declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:D};static setClassMetadata={name:"\u0275setClassMetadata",moduleName:D};static setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:D};static setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:D};static queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:D};static viewQuery={name:"\u0275\u0275viewQuery",moduleName:D};static loadQuery={name:"\u0275\u0275loadQuery",moduleName:D};static contentQuery={name:"\u0275\u0275contentQuery",moduleName:D};static viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:D};static contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:D};static queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:D};static twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:D};static twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:D};static twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:D};static declareLet={name:"\u0275\u0275declareLet",moduleName:D};static storeLet={name:"\u0275\u0275storeLet",moduleName:D};static readContextLet={name:"\u0275\u0275readContextLet",moduleName:D};static attachSourceLocations={name:"\u0275\u0275attachSourceLocations",moduleName:D};static NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:D};static InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:D};static CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:D};static ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:D};static HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:D};static ExternalStylesFeature={name:"\u0275\u0275ExternalStylesFeature",moduleName:D};static listener={name:"\u0275\u0275listener",moduleName:D};static getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:D};static sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:D};static sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:D};static sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:D};static sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:D};static sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:D};static sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:D};static trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:D};static trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:D};static validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:D};static inputDecorator={name:"Input",moduleName:D};static outputDecorator={name:"Output",moduleName:D};static viewChildDecorator={name:"ViewChild",moduleName:D};static viewChildrenDecorator={name:"ViewChildren",moduleName:D};static contentChildDecorator={name:"ContentChild",moduleName:D};static contentChildrenDecorator={name:"ContentChildren",moduleName:D};static InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:D};static UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:D};static unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:D};static assertType={name:"\u0275assertType",moduleName:D}}return n})(),zM=/-+([a-z0-9])/g;function GM(n){return n.replace(zM,(...e)=>e[1].toUpperCase())}function WM(n,e){return kw(n,":",e)}function QM(n,e){return kw(n,".",e)}function kw(n,e,t){let i=n.indexOf(e);return i==-1?t:[n.slice(0,i).trim(),n.slice(i+1).trim()]}function jM(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i>=55296&&i<=56319&&n.length>t+1){let r=n.charCodeAt(t+1);r>=56320&&r<=57343&&(t++,i=(i-55296<<10)+r-56320+65536)}i<=127?e.push(i):i<=2047?e.push(i>>6&31|192,i&63|128):i<=65535?e.push(i>>12|224,i>>6&63|128,i&63|128):i<=2097151&&e.push(i>>18&7|240,i>>12&63|128,i>>6&63|128,i&63|128)}return e}function Nw(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Nw).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;if(!n.toString)return"object";let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}var vg=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},eu=globalThis,YM=/^([1-9]|1[0-8])\./;function Pw(n){return n.startsWith("0.")?!0:!YM.test(n)}var JM=3,ZM="# sourceMappingURL=data:application/json;base64,",_g=class{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(e=null){this.file=e}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,i,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(t!=null&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(i==null||r==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:i,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,t=[],i=[];Array.from(this.sourcesContent.keys()).forEach((u,d)=>{e.set(u,d),t.push(u),i.push(this.sourcesContent.get(u)||null)});let r="",o=0,s=0,a=0,l=0;return this.lines.forEach(u=>{o=0,r+=u.map(d=>{let p=gd(d.col0-o);return o=d.col0,d.sourceUrl!=null&&(p+=gd(e.get(d.sourceUrl)-s),s=e.get(d.sourceUrl),p+=gd(d.sourceLine0-a),a=d.sourceLine0,p+=gd(d.sourceCol0-l),l=d.sourceCol0),p}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:JM,sourceRoot:"",sources:t,sourcesContent:i,mappings:r}}toJsComment(){return this.hasMappings?"//"+ZM+KM(JSON.stringify(this,null,0)):""}};function KM(n){let e="",t=jM(n);for(let i=0;i<t.length;){let r=t[i++],o=i<t.length?t[i++]:null,s=i<t.length?t[i++]:null;e+=Yl(r>>2),e+=Yl((r&3)<<4|(o===null?0:o>>4)),e+=o===null?"=":Yl((o&15)<<2|(s===null?0:s>>6)),e+=o===null||s===null?"=":Yl(s&63)}return e}function gd(n){n=n<0?(-n<<1)+1:n<<1;let e="";do{let t=n&31;n=n>>5,n>0&&(t=t|32),e+=Yl(t)}while(n>0);return e}var XM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Yl(n){if(n<0||n>=64)throw new Error("Can only encode value in the range [0, 63]");return XM[n]}var ek=/'|\\|\n|\r|\$/g,tk=/^[$A-Z_][0-9A-Z_$]*$/i,yg="  ",Yd=class{indent;partsLength=0;parts=[];srcSpans=[];constructor(e){this.indent=e}},nk=new Map([[q.And,"&&"],[q.Bigger,">"],[q.BiggerEquals,">="],[q.BitwiseOr,"|"],[q.BitwiseAnd,"&"],[q.Divide,"/"],[q.Assign,"="],[q.Equals,"=="],[q.Identical,"==="],[q.Lower,"<"],[q.LowerEquals,"<="],[q.Minus,"-"],[q.Modulo,"%"],[q.Exponentiation,"**"],[q.Multiply,"*"],[q.NotEquals,"!="],[q.NotIdentical,"!=="],[q.NullishCoalesce,"??"],[q.Or,"||"],[q.Plus,"+"],[q.In,"in"],[q.AdditionAssignment,"+="],[q.SubtractionAssignment,"-="],[q.MultiplicationAssignment,"*="],[q.DivisionAssignment,"/="],[q.RemainderAssignment,"%="],[q.ExponentiationAssignment,"**="],[q.AndAssignment,"&&="],[q.OrAssignment,"||="],[q.NullishCoalesceAssignment,"??="]]),Cg=class n{_indent;static createRoot(){return new n(0)}_lines;constructor(e){this._indent=e,this._lines=[new Yd(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*yg.length+this._currentLine.partsLength}print(e,t,i=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),i&&this._lines.push(new Yd(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?jE(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,t=0){let i=new _g(e),r=!1,o=()=>{r||(i.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let s=0;s<t;s++)i.addLine(),o();return this.sourceLines.forEach((s,a)=>{i.addLine();let l=s.srcSpans,u=s.parts,d=s.indent*yg.length,p=0;for(;p<l.length&&!l[p];)d+=u[p].length,p++;for(p<l.length&&a===0&&d===0?r=!0:o();p<l.length;){let h=l[p],v=h.start.file,x=h.start.line,b=h.start.col;for(i.addSource(v.url,v.content).addMapping(d,v.url,x,b),d+=u[p].length,p++;p<l.length&&(h===l[p]||!l[p]);)d+=u[p].length,p++}}),i}spanOf(e,t){let i=this._lines[e];if(i){let r=t-jE(i.indent).length;for(let o=0;o<i.parts.length;o++){let s=i.parts[o];if(s.length>r)return i.srcSpans[o];r-=s.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},Eg=class{_escapeDollarInStrings;lastIfCondition=null;constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,t){if(e.leadingComments!==void 0)for(let i of e.leadingComments)i instanceof Gd?t.print(e,`/*${i.toString()}*/`,i.trailingNewline):i.multiline?t.print(e,`/* ${i.text} */`,i.trailingNewline):i.text.split(`
`).forEach(r=>{t.println(e,`// ${r}`)})}visitExpressionStmt(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),this.lastIfCondition=e.condition,e.condition.visitExpression(this,t),this.lastIfCondition=null,t.print(e,") {");let i=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!i?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),i&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitInvokeFunctionExpr(e,t){let i=e.fn instanceof Go;return i&&t.print(e.fn,"("),e.fn.visitExpression(this,t),i&&t.print(e.fn,")"),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,t){return e.tag.visitExpression(this,t),e.template.visitExpression(this,t),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let i=0;i<e.elements.length;i++){e.elements[i].visitExpression(this,t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){t.print(e,e.rawText)}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitVoidExpr(e,t){t.print(e,"void "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){return t.print(e,e.name),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){let i=e.value;return typeof i=="string"?t.print(e,No(i,this._escapeDollarInStrings)):t.print(e,`${i}`),null}visitLocalizedString(e,t){let i=e.serializeI18nHead();t.print(e,"$localize `"+i.raw);for(let r=1;r<e.messageParts.length;r++)t.print(e,"${"),e.expressions[r-1].visitExpression(this,t),t.print(e,`}${e.serializeI18nTemplatePart(r).raw}`);return t.print(e,"`"),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitDynamicImportExpr(e,t){t.print(e,`import(${e.url})`)}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitUnaryOperatorExpr(e,t){let i;switch(e.operator){case su.Plus:i="+";break;case su.Minus:i="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}let r=e!==this.lastIfCondition;return r&&t.print(e,"("),t.print(e,i),e.expr.visitExpression(this,t),r&&t.print(e,")"),null}visitBinaryOperatorExpr(e,t){let i=nk.get(e.operator);if(!i)throw new Error(`Unknown operator ${e.operator}`);let r=e!==this.lastIfCondition;return r&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${i} `),e.rhs.visitExpression(this,t),r&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(i=>{t.print(e,`${No(i.key,this._escapeDollarInStrings,i.quoted)}:`),i.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitParenthesizedExpr(e,t){e.expr.visitExpression(this,t)}visitAllExpressions(e,t,i){this.visitAllObjects(r=>r.visitExpression(this,t),e,t,i)}visitAllObjects(e,t,i,r){let o=!1;for(let s=0;s<t.length;s++)s>0&&(i.lineLength()>80?(i.print(null,r,!0),o||(i.incIndent(),i.incIndent(),o=!0)):i.print(null,r,!1)),e(t[s]);o&&(i.decIndent(),i.decIndent())}visitAllStatements(e,t){e.forEach(i=>i.visitStatement(this,t))}};function No(n,e,t=!0){if(n==null)return null;let i=n.replace(ek,(...o)=>o[0]=="$"?e?"\\$":"$":o[0]==`
`?"\\n":o[0]=="\r"?"\\r":`\\${o[0]}`);return t||!tk.test(i)?`'${i}'`:i}function jE(n){let e="";for(let t=0;t<n;t++)e+=yg;return e}function Zf(n,e){if(e===0)return Ot(n);let t=[];for(let i=0;i<e;i++)t.push(ec);return Ot(n,void 0,t)}function ik(n,e){let t=No(e,!1,!1);return t!==e?`${n}[${t}]`:`${n}.${e}`}function rk(n){return ok("ngJitMode",n)}function ok(n,e){let t=new zo({name:n,moduleName:null}),i=new Se(q.Identical,new fa(t),M("undefined")),r=new Se(q.Or,i,t,void 0,void 0);return new Se(q.And,r,e)}function _t(n){let e=new ye(n);return{value:e,type:e}}function Po(n,e){let t=Ne(n.map(i=>i.value));return e?vi([],t):t}function q0(n,e){return{expression:n,forwardRef:e}}function sk({expression:n,forwardRef:e}){switch(e){case 0:case 1:return n;case 2:return ak(n)}}function ak(n){return Y(w.forwardRef).callFn([vi([],n)])}var Jd=(function(n){return n[n.Class=0]="Class",n[n.Function=1]="Function",n})(Jd||{});function Ao(n){let e=ge("__ngFactoryType__"),t=null,i=JE(n)?e:new Se(q.Or,e,n.type.value),r=null;n.deps!==null?n.deps!=="invalid"&&(r=new lu(i,YE(n.deps,n.target))):(t=ge(`\u0275${n.name}_BaseFactory`),r=t.callFn([i]));let o=[],s=null;function a(u){let d=ge("__ngConditionalFactory__");o.push(new Ct(d.name,ha,Mn));let p=r!==null?d.set(r).toStmt():Y(w.invalidFactory).callFn([]).toStmt();return o.push(Jf(e,[p],[d.set(u).toStmt()])),d}if(JE(n)){let u=YE(n.delegateDeps,n.target),d=new(n.delegateType===Jd.Class?lu:Cn)(n.delegate,u);s=a(d)}else fk(n)?s=a(n.expression):s=r;if(s===null)o.push(Y(w.invalidFactory).callFn([]).toStmt());else if(t!==null){let u=Y(w.getInheritedFactory).callFn([n.type.value]),d=new Se(q.Or,t,t.set(u));o.push(new Lt(d.callFn([i])))}else o.push(new Lt(s));let l=Qr([new Tt(e.name,ec)],o,Mn,void 0,`${n.name}_Factory`);return t!==null&&(l=vi([],[new Ct(t.name),new Lt(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:lk(n)}}function lk(n){let e=n.deps!==null&&n.deps!=="invalid"?ck(n.deps):Bi;return Ot(Y(w.FactoryDeclaration,[Zf(n.type.type,n.typeArgumentCount),e]))}function YE(n,e){return n.map((t,i)=>uk(t,e,i))}function uk(n,e,t){if(n.token===null)return Y(w.invalidFactoryDep).callFn([M(t)]);if(n.attributeNameType===null){let i=0|(n.self?2:0)|(n.skipSelf?4:0)|(n.host?1:0)|(n.optional?8:0)|(e===ar.Pipe?16:0),r=i!==0||n.optional?M(i):null,o=[n.token];r&&o.push(r);let s=pk(e);return Y(s).callFn(o)}else return Y(w.injectAttribute).callFn([n.token])}function ck(n){let e=!1,t=n.map(i=>{let r=dk(i);return r!==null?(e=!0,r):M(null)});return e?Ot(Ne(t)):Bi}function dk(n){let e=[];return n.attributeNameType!==null&&e.push({key:"attribute",value:n.attributeNameType,quoted:!1}),n.optional&&e.push({key:"optional",value:M(!0),quoted:!1}),n.host&&e.push({key:"host",value:M(!0),quoted:!1}),n.self&&e.push({key:"self",value:M(!0),quoted:!1}),n.skipSelf&&e.push({key:"skipSelf",value:M(!0),quoted:!1}),e.length>0?an(e):null}function JE(n){return n.delegateType!==void 0}function fk(n){return n.expression!==void 0}function pk(n){switch(n){case ar.Component:case ar.Directive:case ar.Pipe:return w.directiveInject;case ar.NgModule:case ar.Injectable:default:return w.inject}}var jo=class{start;end;constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new kn(e+this.start,e+this.end)}},Ke=class{span;sourceSpan;constructor(e,t){this.span=e,this.sourceSpan=t}toString(){return"AST"}},fu=class extends Ke{nameSpan;constructor(e,t,i){super(e,t),this.nameSpan=i}},mn=class extends Ke{visit(e,t=null){}},$i=class extends Ke{visit(e,t=null){return e.visitImplicitReceiver(this,t)}},Yo=class extends $i{visit(e,t=null){return e.visitThisReceiver?.(this,t)}},ma=class extends Ke{expressions;constructor(e,t,i){super(e,t),this.expressions=i}visit(e,t=null){return e.visitChain(this,t)}},Zd=class extends Ke{condition;trueExp;falseExp;constructor(e,t,i,r,o){super(e,t),this.condition=i,this.trueExp=r,this.falseExp=o}visit(e,t=null){return e.visitConditional(this,t)}},dr=class extends fu{receiver;name;constructor(e,t,i,r,o){super(e,t,i),this.receiver=r,this.name=o}visit(e,t=null){return e.visitPropertyRead(this,t)}},pu=class extends fu{receiver;name;constructor(e,t,i,r,o){super(e,t,i),this.receiver=r,this.name=o}visit(e,t=null){return e.visitSafePropertyRead(this,t)}},Jo=class extends Ke{receiver;key;constructor(e,t,i,r){super(e,t),this.receiver=i,this.key=r}visit(e,t=null){return e.visitKeyedRead(this,t)}},hu=class extends Ke{receiver;key;constructor(e,t,i,r){super(e,t),this.receiver=i,this.key=r}visit(e,t=null){return e.visitSafeKeyedRead(this,t)}},Nd=(function(n){return n[n.ReferencedByName=0]="ReferencedByName",n[n.ReferencedDirectly=1]="ReferencedDirectly",n})(Nd||{}),Kd=class extends fu{exp;name;args;type;constructor(e,t,i,r,o,s,a){super(e,t,a),this.exp=i,this.name=r,this.args=o,this.type=s}visit(e,t=null){return e.visitPipe(this,t)}},bn=class extends Ke{value;constructor(e,t,i){super(e,t),this.value=i}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}},Xd=class extends Ke{expressions;constructor(e,t,i){super(e,t),this.expressions=i}visit(e,t=null){return e.visitLiteralArray(this,t)}},ef=class extends Ke{keys;values;constructor(e,t,i,r){super(e,t),this.keys=i,this.values=r}visit(e,t=null){return e.visitLiteralMap(this,t)}},nc=class extends Ke{strings;expressions;constructor(e,t,i,r){super(e,t),this.strings=i,this.expressions=r}visit(e,t=null){return e.visitInterpolation(this,t)}},tn=class extends Ke{operation;left;right;constructor(e,t,i,r,o){super(e,t),this.operation=i,this.left=r,this.right=o}visit(e,t=null){return e.visitBinary(this,t)}static isAssignmentOperation(e){return e==="="||e==="+="||e==="-="||e==="*="||e==="/="||e==="%="||e==="**="||e==="&&="||e==="||="||e==="??="}},la=class n extends tn{operator;expr;left=null;right=null;operation=null;static createMinus(e,t,i){return new n(e,t,"-",i,"-",new bn(e,t,0),i)}static createPlus(e,t,i){return new n(e,t,"+",i,"-",i,new bn(e,t,0))}constructor(e,t,i,r,o,s,a){super(e,t,o,s,a),this.operator=i,this.expr=r}visit(e,t=null){return e.visitUnary!==void 0?e.visitUnary(this,t):e.visitBinary(this,t)}},mu=class extends Ke{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitPrefixNot(this,t)}},gu=class extends Ke{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitTypeofExpression(this,t)}},vu=class extends Ke{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitVoidExpression(this,t)}},_u=class extends Ke{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitNonNullAssert(this,t)}},ga=class extends Ke{receiver;args;argumentSpan;constructor(e,t,i,r,o){super(e,t),this.receiver=i,this.args=r,this.argumentSpan=o}visit(e,t=null){return e.visitCall(this,t)}},tf=class extends Ke{receiver;args;argumentSpan;constructor(e,t,i,r,o){super(e,t),this.receiver=i,this.args=r,this.argumentSpan=o}visit(e,t=null){return e.visitSafeCall(this,t)}},yu=class extends Ke{tag;template;constructor(e,t,i,r){super(e,t),this.tag=i,this.template=r}visit(e,t){return e.visitTaggedTemplateLiteral(this,t)}},Cu=class extends Ke{elements;expressions;constructor(e,t,i,r){super(e,t),this.elements=i,this.expressions=r}visit(e,t){return e.visitTemplateLiteral(this,t)}},nf=class extends Ke{text;constructor(e,t,i){super(e,t),this.text=i}visit(e,t){return e.visitTemplateLiteralElement(this,t)}},Eu=class extends Ke{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t){return e.visitParenthesizedExpression(this,t)}},kn=class{start;end;constructor(e,t){this.start=e,this.end=t}},In=class extends Ke{ast;source;location;errors;constructor(e,t,i,r,o){super(new jo(0,t===null?0:t.length),new kn(r,t===null?r:r+t.length)),this.ast=e,this.source=t,this.location=i,this.errors=o}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}},xu=class{sourceSpan;key;value;constructor(e,t,i){this.sourceSpan=e,this.key=t,this.value=i}},xg=class{sourceSpan;key;value;constructor(e,t,i){this.sourceSpan=e,this.key=t,this.value=i}},wu=class{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitPrefixNot(e,t){this.visit(e.expression,t)}visitTypeofExpression(e,t){this.visit(e.expression,t)}visitVoidExpression(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitSafeCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitTemplateLiteral(e,t){for(let i=0;i<e.elements.length;i++){this.visit(e.elements[i],t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&this.visit(r,t)}}visitTemplateLiteralElement(e,t){}visitTaggedTemplateLiteral(e,t){this.visit(e.tag,t),this.visit(e.template,t)}visitParenthesizedExpression(e,t){this.visit(e.expression,t)}visitAll(e,t){for(let i of e)this.visit(i,t)}},ta=class{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isLegacyAnimation;isAnimation;constructor(e,t,i,r,o,s){this.name=e,this.expression=t,this.type=i,this.sourceSpan=r,this.keySpan=o,this.valueSpan=s,this.isLiteral=this.type===Fi.LITERAL_ATTR,this.isLegacyAnimation=this.type===Fi.LEGACY_ANIMATION,this.isAnimation=this.type===Fi.ANIMATION}},Fi=(function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.LITERAL_ATTR=1]="LITERAL_ATTR",n[n.LEGACY_ANIMATION=2]="LEGACY_ANIMATION",n[n.TWO_WAY=3]="TWO_WAY",n[n.ANIMATION=4]="ANIMATION",n})(Fi||{}),on=(function(n){return n[n.Regular=0]="Regular",n[n.LegacyAnimation=1]="LegacyAnimation",n[n.TwoWay=2]="TwoWay",n[n.Animation=3]="Animation",n})(on||{}),rf=class{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(e,t,i,r,o,s,a){this.name=e,this.targetOrPhase=t,this.type=i,this.handler=r,this.sourceSpan=o,this.handlerSpan=s,this.keySpan=a}},wg=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o}},Ie=(function(n){return n[n.Property=0]="Property",n[n.Attribute=1]="Attribute",n[n.Class=2]="Class",n[n.Style=3]="Style",n[n.LegacyAnimation=4]="LegacyAnimation",n[n.TwoWay=5]="TwoWay",n[n.Animation=6]="Animation",n})(Ie||{}),of=class{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o,s,a,l){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=o,this.sourceSpan=s,this.keySpan=a,this.valueSpan=l}},Li=(function(n){return n[n.RAW_TEXT=0]="RAW_TEXT",n[n.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",n[n.PARSABLE_DATA=2]="PARSABLE_DATA",n})(Li||{});function _i(n,e=!0){if(n[0]!=":")return[null,n];let t=n.indexOf(":",1);if(t===-1){if(e)throw new Error(`Unsupported format "${n}" expecting ":namespace:name"`);return[null,n]}return[n.slice(1,t),n.slice(t+1)]}function ZE(n){return _i(n)[1]==="ng-container"}function Sg(n){return _i(n)[1]==="ng-content"}function hk(n){return _i(n)[1]==="ng-template"}function Tg(n){return n===null?null:_i(n)[0]}function Pd(n,e){return n?`:${n}:${e}`:e}var Kf=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){throw new Error("visit() not implemented for Comment")}},Ro=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}},va=class{value;sourceSpan;i18n;constructor(e,t,i){this.value=e,this.sourceSpan=t,this.i18n=i}visit(e){return e.visitBoundText(this)}},_a=class{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,i,r,o,s){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o,this.i18n=s}visit(e){return e.visitTextAttribute(this)}},bg=class n{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,i,r,o,s,a,l,u){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=o,this.sourceSpan=s,this.keySpan=a,this.valueSpan=l,this.i18n=u}static fromBoundElementProperty(e,t){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}},Ig=class n{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(e,t,i,r,o,s,a,l){this.name=e,this.type=t,this.handler=i,this.target=r,this.phase=o,this.sourceSpan=s,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let t=e.type===on.Regular?e.targetOrPhase:null,i=e.type===on.LegacyAnimation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.handler,t,i,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},Hi=class{name;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;isVoid;i18n;constructor(e,t,i,r,o,s,a,l,u,d,p,h,v){this.name=e,this.attributes=t,this.inputs=i,this.outputs=r,this.directives=o,this.children=s,this.references=a,this.isSelfClosing=l,this.sourceSpan=u,this.startSourceSpan=d,this.endSourceSpan=p,this.isVoid=h,this.i18n=v}visit(e){return e.visitElement(this)}},zi=class{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(e,t,i,r,o){this.nameSpan=e,this.sourceSpan=t,this.prefetchSpan=i,this.whenOrOnSourceSpan=r,this.hydrateSpan=o}visit(e){return e.visitDeferredTrigger(this)}},sf=class extends zi{value;constructor(e,t,i,r,o){super(null,t,i,r,o),this.value=e}},Dg=class extends zi{},Ag=class extends zi{},Mg=class extends zi{},af=class extends zi{reference;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.reference=e}},kg=class extends zi{delay;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.delay=e}},lf=class extends zi{reference;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.reference=e}},uf=class extends zi{reference;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.reference=e}},ei=class{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r){this.nameSpan=e,this.sourceSpan=t,this.startSourceSpan=i,this.endSourceSpan=r}},Su=class extends ei{children;minimumTime;i18n;constructor(e,t,i,r,o,s,a){super(i,r,o,s),this.children=e,this.minimumTime=t,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},Tu=class extends ei{children;afterTime;minimumTime;i18n;constructor(e,t,i,r,o,s,a,l){super(r,o,s,a),this.children=e,this.afterTime=t,this.minimumTime=i,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},bu=class extends ei{children;i18n;constructor(e,t,i,r,o,s){super(t,i,r,o),this.children=e,this.i18n=s}visit(e){return e.visitDeferredBlockError(this)}},Zo=class extends ei{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(e,t,i,r,o,s,a,l,u,d,p,h,v){super(l,u,p,h),this.children=e,this.placeholder=o,this.loading=s,this.error=a,this.mainBlockSpan=d,this.i18n=v,this.triggers=t,this.prefetchTriggers=i,this.hydrateTriggers=r,this.definedTriggers=Object.keys(t),this.definedPrefetchTriggers=Object.keys(i),this.definedHydrateTriggers=Object.keys(r)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,e),this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),Wm(e,this.children);let t=[this.placeholder,this.loading,this.error].filter(i=>i!==null);Wm(e,t)}visitTriggers(e,t,i){Wm(i,e.map(r=>t[r]))}},cf=class extends ei{expression;cases;unknownBlocks;constructor(e,t,i,r,o,s,a){super(a,r,o,s),this.expression=e,this.cases=t,this.unknownBlocks=i}visit(e){return e.visitSwitchBlock(this)}},Iu=class extends ei{expression;children;i18n;constructor(e,t,i,r,o,s,a){super(s,i,r,o),this.expression=e,this.children=t,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},ya=class extends ei{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(e,t,i,r,o,s,a,l,u,d,p,h,v){super(h,l,d,p),this.item=e,this.expression=t,this.trackBy=i,this.trackKeywordSpan=r,this.contextVariables=o,this.children=s,this.empty=a,this.mainBlockSpan=u,this.i18n=v}visit(e){return e.visitForLoopBlock(this)}},Du=class extends ei{children;i18n;constructor(e,t,i,r,o,s){super(o,t,i,r),this.children=e,this.i18n=s}visit(e){return e.visitForLoopBlockEmpty(this)}},df=class extends ei{branches;constructor(e,t,i,r,o){super(o,t,i,r),this.branches=e}visit(e){return e.visitIfBlock(this)}},Vo=class extends ei{expression;children;expressionAlias;i18n;constructor(e,t,i,r,o,s,a,l){super(a,r,o,s),this.expression=e,this.children=t,this.expressionAlias=i,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},ff=class{name;sourceSpan;nameSpan;constructor(e,t,i){this.name=e,this.sourceSpan=t,this.nameSpan=i}visit(e){return e.visitUnknownBlock(this)}},U0=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.nameSpan=r,this.valueSpan=o}visit(e){return e.visitLetDeclaration(this)}},tu=class{componentName;tagName;fullName;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,o,s,a,l,u,d,p,h,v,x){this.componentName=e,this.tagName=t,this.fullName=i,this.attributes=r,this.inputs=o,this.outputs=s,this.directives=a,this.children=l,this.references=u,this.isSelfClosing=d,this.sourceSpan=p,this.startSourceSpan=h,this.endSourceSpan=v,this.i18n=x}visit(e){return e.visitComponent(this)}},Rw=class{name;attributes;inputs;outputs;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,o,s,a,l,u){this.name=e,this.attributes=t,this.inputs=i,this.outputs=r,this.references=o,this.sourceSpan=s,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=u}visit(e){return e.visitDirective(this)}},Nn=class{tagName;attributes;inputs;outputs;directives;templateAttrs;children;references;variables;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,o,s,a,l,u,d,p,h,v,x){this.tagName=e,this.attributes=t,this.inputs=i,this.outputs=r,this.directives=o,this.templateAttrs=s,this.children=a,this.references=l,this.variables=u,this.isSelfClosing=d,this.sourceSpan=p,this.startSourceSpan=h,this.endSourceSpan=v,this.i18n=x}visit(e){return e.visitTemplate(this)}},Ca=class{selector;attributes;children;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;name="ng-content";constructor(e,t,i,r,o,s,a,l){this.selector=e,this.attributes=t,this.children=i,this.isSelfClosing=r,this.sourceSpan=o,this.startSourceSpan=s,this.endSourceSpan=a,this.i18n=l}visit(e){return e.visitContent(this)}},jr=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o}visit(e){return e.visitVariable(this)}},Au=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o}visit(e){return e.visitReference(this)}},Fw=class{vars;placeholders;sourceSpan;i18n;constructor(e,t,i,r){this.vars=e,this.placeholders=t,this.sourceSpan=i,this.i18n=r}visit(e){return e.visitIcu(this)}},Mu=class{tagNames;bindings;listeners;sourceSpan;constructor(e,t,i,r){if(this.tagNames=e,this.bindings=t,this.listeners=i,this.sourceSpan=r,e.length===0)throw new Error("HostElement must have at least one tag name.")}visit(){throw new Error("HostElement cannot be visited")}};function Wm(n,e){let t=[];if(n.visit)for(let i of e)n.visit(i);else for(let i of e){let r=i.visit(n);r&&t.push(r)}return t}var sn=class{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(e,t,i,r,o,s){this.nodes=e,this.placeholders=t,this.placeholderToMessage=i,this.meaning=r,this.description=o,this.customId=s,this.id=this.customId,this.messageString=mk(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},Hl=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}},fr=class{children;sourceSpan;constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}},pf=class{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(e,t,i,r,o){this.expression=e,this.type=t,this.cases=i,this.sourceSpan=r,this.expressionPlaceholder=o}visit(e,t){return e.visitIcu(this,t)}},Yr=class{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a,l,u){this.tag=e,this.attrs=t,this.startName=i,this.closeName=r,this.children=o,this.isVoid=s,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=u}visit(e,t){return e.visitTagPlaceholder(this,t)}},ku=class{value;name;sourceSpan;constructor(e,t,i){this.value=e,this.name=t,this.sourceSpan=i}visit(e,t){return e.visitPlaceholder(this,t)}},Ea=class{value;name;sourceSpan;previousMessage;constructor(e,t,i){this.value=e,this.name=t,this.sourceSpan=i}visit(e,t){return e.visitIcuPlaceholder(this,t)}},Jr=class{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a,l){this.name=e,this.parameters=t,this.startName=i,this.closeName=r,this.children=o,this.sourceSpan=s,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,t){return e.visitBlockPlaceholder(this,t)}};function mk(n){let e=new Ng;return n.map(i=>i.visit(e)).join("")}var Ng=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){let t=e.children.map(i=>i.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let t=e.children.map(i=>i.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}};var gk=class{visitTag(e){let t=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${t}/>`;let i=e.children.map(r=>r.visit(this));return`<${e.name}${t}>${i.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let t=Object.keys(e).map(i=>`${i}="${e[i]}"`).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},LJ=new gk;function vk(n){return n.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var Lw="i18n",Pg="i18n-",_k="VAR_";function Ow(n){return n===Lw||n.startsWith(Pg)}function yk(n){return n.attrs.some(e=>Ow(e.name))}function Vw(n){return n.nodes[0]}function $0(n={},e){let t={};return n&&Object.keys(n).length&&Object.keys(n).forEach(i=>t[ic(i,e)]=n[i]),t}function ic(n,e=!0){let t=vk(n);if(!e)return t;let i=t.split("_");if(i.length===1)return n.toLowerCase();let r;/^\d+$/.test(i[i.length-1])&&(r=i.pop());let o=i.shift().toLowerCase();return i.length&&(o+=i.map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join("")),r?`${o}_${r}`:o}var Ck=/[-.]/,H0="_t",Nu="ctx",z0="rf";function Bw(n,e){let t=null;return()=>(t||(n(new Ct(H0,void 0,ec)),t=ge(e)),t)}function na(n){return Array.isArray(n)?Ne(n.map(na)):M(n,Mn)}function KE(n,e){let t=Object.getOwnPropertyNames(n);return t.length===0?null:an(t.map(i=>{let r=n[i],o,s,a,l;if(typeof r=="string")o=i,a=i,s=r,l=na(s);else{a=i,o=r.classPropertyName,s=r.bindingPropertyName;let u=s!==o,d=r.transformFunction!==null,p=jl.None;if(r.isSignal&&(p|=jl.SignalBased),d&&(p|=jl.HasDecoratorInputTransform),e&&(u||d||p!==jl.None)){let h=[M(p),na(s)];(u||d)&&(h.push(na(o)),d&&h.push(r.transformFunction)),l=Ne(h)}else l=na(s)}return{key:a,quoted:Ck.test(a),value:l}}))}var Zr=class{values=[];set(e,t){if(t){let i=this.values.find(r=>r.key===e);i?i.value=t:this.values.push({key:e,value:t,quoted:!1})}}toLiteralMap(){return an(this.values)}};function Ek(n){let e=n instanceof Hi?n.name:"ng-template",t=xk(n),i=new da,r=_i(e)[1];return i.setElement(r),Object.getOwnPropertyNames(t).forEach(o=>{let s=_i(o)[1],a=t[o];i.addAttribute(s,a),o.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(u=>i.addClassName(u))}),i}function xk(n){let e={};return n instanceof Nn&&n.tagName!=="ng-template"?n.templateAttrs.forEach(t=>e[t.name]=""):(n.attributes.forEach(t=>{Ow(t.name)||(e[t.name]=t.value)}),n.inputs.forEach(t=>{(t.type===Ie.Property||t.type===Ie.TwoWay)&&(e[t.name]="")}),n.outputs.forEach(t=>{e[t.name]=""})),e}function XE(n,e){let t=null,i={name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:[],target:ar.Injectable};if(n.useClass!==void 0){let a=n.useClass.expression.isEquivalent(n.type.value),l;n.deps!==void 0&&(l=n.deps),l!==void 0?t=Ao(V(I({},i),{delegate:n.useClass.expression,delegateDeps:l,delegateType:Jd.Class})):a?t=Ao(i):t={statements:[],expression:ex(n.type.value,n.useClass.expression,e)}}else n.useFactory!==void 0?n.deps!==void 0?t=Ao(V(I({},i),{delegate:n.useFactory,delegateDeps:n.deps||[],delegateType:Jd.Function})):t={statements:[],expression:vi([],n.useFactory.callFn([]))}:n.useValue!==void 0?t=Ao(V(I({},i),{expression:n.useValue.expression})):n.useExisting!==void 0?t=Ao(V(I({},i),{expression:Y(w.inject).callFn([n.useExisting.expression])})):t={statements:[],expression:ex(n.type.value,n.type.value,e)};let r=n.type.value,o=new Zr;return o.set("token",r),o.set("factory",t.expression),n.providedIn.expression.value!==null&&o.set("providedIn",sk(n.providedIn)),{expression:Y(w.\u0275\u0275defineInjectable).callFn([o.toLiteralMap()],void 0,!0),type:wk(n),statements:t.statements}}function wk(n){return new Zn(Y(w.InjectableDeclaration,[Zf(n.type.type,n.typeArgumentCount)]))}function ex(n,e,t){if(n.node===e.node)return e.prop("\u0275fac");if(!t)return tx(e);let i=Y(w.resolveForwardRef).callFn([e]);return tx(i)}function tx(n){let e=new Tt("__ngFactoryType__",ec);return vi([e],n.prop("\u0275fac").callFn([ge(e.name)]))}var Sk=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Tk(n,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${n}' to be an array, [start, end].`);if(e!=null){let t=e[0],i=e[1];Sk.forEach(r=>{if(r.test(t)||r.test(i))throw new Error(`['${t}', '${i}'] contains unusable interpolation symbol.`)})}}var hf=class n{start;end;static fromArray(e){return e?(Tk("interpolation",e),new n(e[0],e[1])):Oi}constructor(e,t){this.start=e,this.end=t}},Oi=new hf("{{","}}"),bk=new Set(["switch"]),Rt=0,Ik=8,G0=9,Bo=10,qw=11,Uw=12,W0=13,$w=32,Rg=33,Pu=34,Hw=35,Xf=36,Dk=37,mf=38,Ru=39,hi=40,nn=41,nx=42,zw=43,Jn=44,gf=45,Jl=46,di=47,lr=58,Dn=59,ua=60,Wt=61,zn=62,ix=63,Q0=48,Ak=55,Gw=57,eo=65,Mk=69,kk=70,Nk=88,ka=90,Wr=91,ca=92,Fo=93,Pk=94,to=95,Ko=97,Rk=98,Fk=101,j0=102,Ww=110,Qw=114,jw=116,Yw=117,Jw=118,Zw=120,rc=122,pi=123,rx=124,rn=125,Kw=160,js=64,Fg=96;function Fu(n){return n>=G0&&n<=$w||n==Kw}function fi(n){return Q0<=n&&n<=Gw}function xa(n){return n>=Ko&&n<=rc||n>=eo&&n<=ka}function Lk(n){return n>=Ko&&n<=j0||n>=eo&&n<=kk||fi(n)}function vf(n){return n===Bo||n===W0}function ox(n){return Q0<=n&&n<=Ak}function nu(n){return n===Ru||n===Pu||n===Fg}var Lu=class n{file;offset;line;col;constructor(e,t,i,r){this.file=e,this.offset=t,this.line=i,this.col=r}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let t=this.file.content,i=t.length,r=this.offset,o=this.line,s=this.col;for(;r>0&&e<0;)if(r--,e++,t.charCodeAt(r)==Bo){o--;let l=t.substring(0,r-1).lastIndexOf(String.fromCharCode(Bo));s=l>0?r-l:r}else s--;for(;r<i&&e>0;){let a=t.charCodeAt(r);r++,e--,a==Bo?(o++,s=0):s++}return new n(this.file,r,o,s)}getContext(e,t){let i=this.file.content,r=this.offset;if(r!=null){r>i.length-1&&(r=i.length-1);let o=r,s=0,a=0;for(;s<e&&r>0&&(r--,s++,!(i[r]==`
`&&++a==t)););for(s=0,a=0;s<e&&o<i.length-1&&(o++,s++,!(i[o]==`
`&&++a==t)););return{before:i.substring(r,this.offset),after:i.substring(this.offset,o+1)}}return null}},_f=class{content;url;constructor(e,t){this.content=e,this.url=t}},re=class{start;end;fullStart;details;constructor(e,t,i=e,r=null){this.start=e,this.end=t,this.fullStart=i,this.details=r}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},Hr=(function(n){return n[n.WARNING=0]="WARNING",n[n.ERROR=1]="ERROR",n})(Hr||{}),ee=class extends Error{span;msg;level;relatedError;constructor(e,t,i=Hr.ERROR,r){super(t),this.span=e,this.msg=t,this.level=i,this.relatedError=r,Object.setPrototypeOf(this,new.target.prototype)}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Hr[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function Ok(n,e,t){let i=`in ${n} ${e} in ${t}`,r=new _f("",i);return new re(new Lu(r,-1,-1,-1),new Lu(r,-1,-1,-1))}var Vk=0;function Bk(n){if(!n||!n.reference)return null;let e=n.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let t=Nw(e);return t.indexOf("(")>=0?(t=`anonymous_${Vk++}`,e.__anonymousType=t):t=Mo(t),t}function Mo(n){return n.replace(/\W/g,"_")}var sx='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',Lg=class extends Eg{constructor(){super(!1)}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,t){let i=e.template.elements;return e.tag.visitExpression(this,t),t.print(e,`(${sx}(`),t.print(e,`[${i.map(r=>No(r.text,!1)).join(", ")}], `),t.print(e,`[${i.map(r=>No(r.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let i=0;i<e.elements.length;i++){e.elements[i].visitExpression(this,t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){return t.print(e,e.rawText),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitArrowFunctionExpr(e,t){if(t.print(e,"("),this._visitParams(e.params,t),t.print(e,") =>"),Array.isArray(e.body))t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.print(e,"}");else{let i=e.body instanceof Ui;i&&t.print(e,"("),e.body.visitExpression(this,t),i&&t.print(e,")")}return null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitLocalizedString(e,t){t.print(e,`$localize(${sx}(`);let i=[e.serializeI18nHead()];for(let r=1;r<e.messageParts.length;r++)i.push(e.serializeI18nTemplatePart(r));return t.print(e,`[${i.map(r=>No(r.cooked,!1)).join(", ")}], `),t.print(e,`[${i.map(r=>No(r.raw,!1)).join(", ")}])`),e.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}_visitParams(e,t){this.visitAllObjects(i=>t.print(null,i.name),e,t,",")}},vd;function qk(){if(vd===void 0){let n=eu.trustedTypes;if(vd=null,n)try{vd=n.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return vd}function Uk(n){return qk()?.createScript(n)||n}function ax(...n){if(!eu.trustedTypes)return new Function(...n);let e=n.slice(0,-1).join(","),t=n[n.length-1],i=`(function anonymous(${e}
) { ${t}
})`,r=eu.eval(Uk(i));return r.bind===void 0?new Function(...n):(r.toString=()=>i,r.bind(eu))}var Og=class{evaluateStatements(e,t,i,r){let o=new Vg(i),s=Cg.createRoot();return t.length>0&&!$k(t[0])&&(t=[M("use strict").toStmt(),...t]),o.visitAllStatements(t,s),o.createReturnStmt(s),this.evaluateCode(e,s,o.getArgs(),r)}evaluateCode(e,t,i,r){let o=`"use strict";${t.toSource()}
//# sourceURL=${e}`,s=[],a=[];for(let u in i)a.push(i[u]),s.push(u);if(r){let u=ax(...s.concat("return null;")).toString(),d=u.slice(0,u.indexOf("return null;")).split(`
`).length-1;o+=`
${t.toSourceMapGenerator(e,d).toJsComment()}`}let l=ax(...s.concat(o));return this.executeFunction(l,a)}executeFunction(e,t){return e(...t)}},Vg=class extends Lg{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(e){super(),this.refResolver=e}createReturnStmt(e){new Lt(new Ui(this._evalExportedVars.map(i=>new pa(i,ge(i),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(Ft.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(Ft.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}_emitReferenceToExternal(e,t,i){let r=this._evalArgValues.indexOf(t);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(t);let o=Bk({reference:t})||"val";this._evalArgNames.push(`jit_${o}_${r}`)}i.print(e,this._evalArgNames[r])}};function $k(n){return n.isEquivalent(M("use strict").toStmt())}function lx(n){let e=new Zr;n.providers!==null&&e.set("providers",n.providers),n.imports.length>0&&e.set("imports",Ne(n.imports));let t=Y(w.defineInjector).callFn([e.toLiteralMap()],void 0,!0),i=Hk(n);return{expression:t,type:i,statements:[]}}function Hk(n){return new Zn(Y(w.InjectorDeclaration,[new Zn(n.type.type)]))}var Bg=class{context;constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},yf=(function(n){return n[n.Inline=0]="Inline",n[n.SideEffect=1]="SideEffect",n[n.Omit=2]="Omit",n})(yf||{}),zr=(function(n){return n[n.Global=0]="Global",n[n.Local=1]="Local",n})(zr||{});function zk(n){let e=[],t=new Zr;if(t.set("type",n.type.value),n.kind===zr.Global&&n.bootstrap.length>0&&t.set("bootstrap",Po(n.bootstrap,n.containsForwardDecls)),n.selectorScopeMode===yf.Inline)n.declarations.length>0&&t.set("declarations",Po(n.declarations,n.containsForwardDecls)),n.imports.length>0&&t.set("imports",Po(n.imports,n.containsForwardDecls)),n.exports.length>0&&t.set("exports",Po(n.exports,n.containsForwardDecls));else if(n.selectorScopeMode===yf.SideEffect){let o=Qk(n);o!==null&&e.push(o)}n.schemas!==null&&n.schemas.length>0&&t.set("schemas",Ne(n.schemas.map(o=>o.value))),n.id!==null&&(t.set("id",n.id),e.push(Y(w.registerNgModuleType).callFn([n.type.value,n.id]).toStmt()));let i=Y(w.defineNgModule).callFn([t.toLiteralMap()],void 0,!0),r=Wk(n);return{expression:i,type:r,statements:e}}function Gk(n){let e=new Zr;return e.set("type",new ye(n.type)),n.bootstrap!==void 0&&e.set("bootstrap",new ye(n.bootstrap)),n.declarations!==void 0&&e.set("declarations",new ye(n.declarations)),n.imports!==void 0&&e.set("imports",new ye(n.imports)),n.exports!==void 0&&e.set("exports",new ye(n.exports)),n.schemas!==void 0&&e.set("schemas",new ye(n.schemas)),n.id!==void 0&&e.set("id",new ye(n.id)),Y(w.defineNgModule).callFn([e.toLiteralMap()])}function Wk(n){if(n.kind===zr.Local)return new Zn(n.type.value);let{type:e,declarations:t,exports:i,imports:r,includeImportTypes:o,publicDeclarationTypes:s}=n;return new Zn(Y(w.NgModuleDeclaration,[new Zn(e.type),s===null?Qm(t):jk(s),o?Qm(r):Bi,Qm(i)]))}function Qk(n){let e=new Zr;if(n.kind===zr.Global?n.declarations.length>0&&e.set("declarations",Po(n.declarations,n.containsForwardDecls)):n.declarationsExpression&&e.set("declarations",n.declarationsExpression),n.kind===zr.Global?n.imports.length>0&&e.set("imports",Po(n.imports,n.containsForwardDecls)):n.importsExpression&&e.set("imports",n.importsExpression),n.kind===zr.Global?n.exports.length>0&&e.set("exports",Po(n.exports,n.containsForwardDecls)):n.exportsExpression&&e.set("exports",n.exportsExpression),n.kind===zr.Local&&n.bootstrapExpression&&e.set("bootstrap",n.bootstrapExpression),Object.keys(e.values).length===0)return null;let t=new Cn(Y(w.setNgModuleScope),[n.type.value,e.toLiteralMap()]),i=rk(t),r=new Gr([],[i.toStmt()]);return new Cn(r,[]).toStmt()}function Qm(n){let e=n.map(t=>tc(t.type));return n.length>0?Ot(Ne(e)):Bi}function jk(n){let e=n.map(t=>tc(t));return n.length>0?Ot(Ne(e)):Bi}function ux(n){let e=[];e.push({key:"name",value:M(n.pipeName??n.name),quoted:!1}),e.push({key:"type",value:n.type.value,quoted:!1}),e.push({key:"pure",value:M(n.pure),quoted:!1}),n.isStandalone===!1&&e.push({key:"standalone",value:M(!1),quoted:!1});let t=Y(w.definePipe).callFn([an(e)],void 0,!0),i=Yk(n);return{expression:t,type:i,statements:[]}}function Yk(n){return new Zn(Y(w.PipeDeclaration,[Zf(n.type.type,n.typeArgumentCount),new Zn(new Vt(n.pipeName)),new Zn(new Vt(n.isStandalone))]))}var wa=(function(n){return n[n.Directive=0]="Directive",n[n.Pipe=1]="Pipe",n[n.NgModule=2]="NgModule",n})(wa||{}),Jk=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),Zk=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],qg=class{shimCssText(e,t,i=""){let r=[];e=e.replace(cN,a=>{if(a.match(dN))r.push(a);else{let l=a.match(uN);r.push((l?.join("")??"")+`
`)}return Y0}),e=this._insertDirectives(e);let o=this._scopeCssText(e,t,i),s=0;return o.replace(fN,()=>r[s++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,t){let i=new Set,r=_d(e,o=>this._scopeLocalKeyframeDeclarations(o,t,i));return _d(r,o=>this._scopeAnimationRule(o,t,i))}_scopeLocalKeyframeDeclarations(e,t,i){return V(I({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(r,o,s,a,l)=>(i.add(fx(a,s)),`${o}${s}${t}_${a}${s}${l}`))})}_scopeAnimationKeyframe(e,t,i){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(r,o,s,a,l)=>(a=`${i.has(fx(a,s))?t+"_":""}${a}`,`${o}${s}${a}${s}${l}`))}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(e,t,i){let r=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(o,s,a)=>s+a.replace(this._animationDeclarationKeyframesRe,(l,u,d="",p,h)=>p?`${u}${this._scopeAnimationKeyframe(`${d}${p}${d}`,t,i)}`:Jk.has(h)?l:`${u}${this._scopeAnimationKeyframe(h,t,i)}`));return r=r.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(o,s,a)=>`${s}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,t,i)).join(",")}`),V(I({},e),{content:r})}_insertPolyfillDirectivesInCssText(e){return e.replace(Xk,function(...t){return t[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(eN,(...t)=>{let i=t[0].replace(t[1],"").replace(t[2],"");return t[4]+i})}_scopeCssText(e,t,i){let r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeKeyframesRelatedCss(e,t),e=this._scopeSelectors(e,t,i)),e=e+`
`+r,e.trim()}_extractUnscopedRulesFromCssText(e){let t="",i;for(cx.lastIndex=0;(i=cx.exec(e))!==null;){let r=i[0].replace(i[2],"").replace(i[1],i[4]);t+=r+`

`}return t}_convertColonHost(e){return e.replace(tN,(t,i,r)=>{if(i){let o=[],s=i.split(",").map(a=>a.trim());for(let a of s){if(!a)break;let l=qr+a.replace(Cf,"")+r;o.push(l)}return o.join(",")}else return qr+r})}_convertColonHostContext(e){let t=e.length,i=0,r=0,o="";for(let s=0;s<t;s++){let a=e[s];if(a===","&&i===0){o+=this._convertColonHostContextInSelectorPart(e.slice(r,s))+",",r=s+1;continue}if(s===t-1){o+=this._convertColonHostContextInSelectorPart(e.slice(r));break}a==="("?i++:a===")"&&i--}return o}_convertColonHostContextInSelectorPart(e){return e.replace(nN,(t,i)=>{let r=[[]],o;for(;o=iN.exec(t);){let s=(o[1]??"").trim().split(",").map(l=>l.trim()).filter(l=>l!==""),a=r.length;wN(r,s.length);for(let l=0;l<s.length;l++)for(let u=0;u<a;u++)r[u+l*a].push(s[l]);t=o[2]}return r.map(s=>xN(s,t,i)).join(", ")})}_convertShadowDOMSelectors(e){return oN.reduce((t,i)=>t.replace(i," "),e)}_scopeSelectors(e,t,i){return _d(e,r=>{let o=r.selector,s=r.content;return r.selector[0]!=="@"?o=this._scopeSelector({selector:o,scopeSelector:t,hostSelector:i,isParentSelector:!0}):Zk.some(a=>r.selector.startsWith(a))?s=this._scopeSelectors(r.content,t,i):(r.selector.startsWith("@font-face")||r.selector.startsWith("@page"))&&(s=this._stripScopingSelectors(r.content)),new Ou(o,s)})}_stripScopingSelectors(e){return _d(e,t=>{let i=t.selector.replace(dx," ").replace(jm," ");return new Ou(i,t.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector:e,scopeSelector:t,hostSelector:i,isParentSelector:r=!1}){let o=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(o).map(s=>s.split(dx)).map(s=>{let[a,...l]=s;return[(d=>this._selectorNeedsScoping(d,t)?this._applySelectorScope({selector:d,scopeSelector:t,hostSelector:i,isParentSelector:r}):d)(a),...l].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){let t=/\[/g,i=/\]/g;return e=e.replace(t,"\\[").replace(i,"\\]"),new RegExp("^("+e+")"+sN,"m")}_applySimpleSelectorScope(e,t,i){if(ia.lastIndex=0,ia.test(e)){let r=`[${i}]`,o=e;for(;o.match(jm);)o=o.replace(jm,(s,a)=>a.replace(/([^:\)]*)(:*)(.*)/,(l,u,d,p)=>u+r+d+p));return o.replace(ia,r)}return t+" "+e}_applySelectorScope({selector:e,scopeSelector:t,hostSelector:i,isParentSelector:r}){let o=/\[is=([^\]]*)\]/g;t=t.replace(o,(b,...N)=>N[0]);let s=`[${t}]`,a=b=>{let N=b.trim();if(!N)return b;if(b.includes(qr)){if(N=this._applySimpleSelectorScope(b,t,i),!b.match(rN)){let[k,U,$,H]=N.match(/([^:]*)(:*)([\s\S]*)/);N=U+s+$+H}}else{let k=b.replace(ia,"");if(k.length>0){let U=k.match(/([^:]*)(:*)([\s\S]*)/);U&&(N=U[1]+s+U[2]+U[3])}}return N},l=b=>{let N="",k=[],U;for(;(U=zl.exec(b))!==null;){let $=1,H=zl.lastIndex;for(;H<b.length;){let K=b[H];if(H++,K==="("){$++;continue}if(K===")"){if($--,$===0)break;continue}}k.push(`${U[0]}${b.slice(zl.lastIndex,H)}`),zl.lastIndex=H}return k.join("")===b?N=k.map($=>{let[H]=$.match(zl)??[],K=$.slice(H?.length,-1);K.includes(qr)&&(this._shouldScopeIndicator=!0);let ve=this._scopeSelector({selector:K,scopeSelector:t,hostSelector:i});return`${H}${ve})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||b.includes(qr),N=this._shouldScopeIndicator?a(b):b),N};r&&(this._safeSelector=new Ug(e),e=this._safeSelector.content());let u="",d=0,p,h=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,v=e.includes(qr);for((r||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!v);(p=h.exec(e))!==null;){let b=p[1],N=e.slice(d,p.index);if(N.match(/__esc-ph-(\d+)__/)&&e[p.index+1]?.match(/[a-fA-F\d]/))continue;let k=l(N);u+=`${k} ${b} `,d=h.lastIndex}let x=e.substring(d);return u+=l(x),this._safeSelector.restore(u)}_insertPolyfillHostInCssText(e){return e.replace(lN,Xw).replace(aN,Cf)}},Ug=class{placeholders=[];index=0;_content;constructor(e){e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(t,i)=>{let r=`__esc-ph-${this.index}__`;return this.placeholders.push(i),this.index++,r}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(t,i,r)=>{let o=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,i+o})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(t,i)=>this.placeholders[+i])}content(){return this._content}_escapeRegexMatches(e,t){return e.replace(t,(i,r)=>{let o=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,o})}},Kk="(:(where|is)\\()?",zl=/:(where|is)\(/gi,Xk=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,eN=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,cx=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Cf="-shadowcsshost",Xw="-shadowcsscontext",eS="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))",tN=new RegExp(Cf+eS+"?([^,{]*)","gim"),tS=Xw+eS+"?([^{]*)",nN=new RegExp(`${Kk}(${tS})`,"gim"),iN=new RegExp(tS,"im"),qr=Cf+"-no-combinator",rN=new RegExp(`${qr}(?![^(]*\\))`,"g"),jm=/-shadowcsshost-no-combinator([^\s,]*)/,oN=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],dx=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,sN="([>\\s~+[.,{:][\\s\\S]*)?$",ia=/-shadowcsshost/gim,aN=/:host/gim,lN=/:host-context/gim,uN=/\r?\n/g,cN=/\/\*[\s\S]*?\*\//g,dN=/\/\*\s*#\s*source(Mapping)?URL=/g,Y0="%COMMENT%",fN=new RegExp(Y0,"g"),Ym="%BLOCK%",pN=new RegExp(`(\\s*(?:${Y0}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),hN=new Map([["{","}"]]),nS="%COMMA_IN_PLACEHOLDER%",iS="%SEMI_IN_PLACEHOLDER%",rS="%COLON_IN_PLACEHOLDER%",mN=new RegExp(nS,"g"),gN=new RegExp(iS,"g"),vN=new RegExp(rS,"g"),Ou=class{selector;content;constructor(e,t){this.selector=e,this.content=t}};function _d(n,e){let t=CN(n),i=_N(t,hN,Ym),r=0,o=i.escapedString.replace(pN,(...s)=>{let a=s[2],l="",u=s[4],d="";u&&u.startsWith("{"+Ym)&&(l=i.blocks[r++],u=u.substring(Ym.length+1),d="{");let p=e(new Ou(a,l));return`${s[1]}${p.selector}${s[3]}${d}${p.content}${u}`});return EN(o)}var $g=class{escapedString;blocks;constructor(e,t){this.escapedString=e,this.blocks=t}};function _N(n,e,t){let i=[],r=[],o=0,s=0,a=-1,l,u;for(let d=0;d<n.length;d++){let p=n[d];p==="\\"?d++:p===u?(o--,o===0&&(r.push(n.substring(a,d)),i.push(t),s=d,a=-1,l=u=void 0)):p===l?o++:o===0&&e.has(p)&&(l=p,u=e.get(p),o=1,a=d+1,i.push(n.substring(s,a)))}return a!==-1?(r.push(n.substring(a)),i.push(t)):i.push(n.substring(s)),new $g(i.join(""),r)}var yN={";":iS,",":nS,":":rS};function CN(n){let e=n,t=null;for(let i=0;i<e.length;i++){let r=e[i];if(r==="\\")i++;else if(t!==null)if(r===t)t=null;else{let o=yN[r];o&&(e=`${e.substr(0,i)}${o}${e.substr(i+1)}`,i+=o.length-1)}else(r==="'"||r==='"')&&(t=r)}return e}function EN(n){let e=n.replace(mN,",");return e=e.replace(gN,";"),e=e.replace(vN,":"),e}function fx(n,e){return e?n.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):n}function xN(n,e,t=""){let i=qr;ia.lastIndex=0;let r=ia.test(e);if(n.length===0)return i+e;let o=[n.pop()||""];for(;n.length>0;){let s=o.length,a=n.pop();for(let l=0;l<s;l++){let u=o[l];o[s*2+l]=u+" "+a,o[s+l]=a+" "+u,o[l]=a+u}}return o.map(s=>r?`${t}${s}${e}`:`${t}${s}${i}${e}, ${t}${s} ${i}${e}`).join(",")}function wN(n,e){let t=n.length;for(let i=1;i<e;i++)for(let r=0;r<t;r++)n[r+i*t]=n[r].slice(0)}var _=(function(n){return n[n.ListEnd=0]="ListEnd",n[n.Statement=1]="Statement",n[n.Variable=2]="Variable",n[n.ElementStart=3]="ElementStart",n[n.Element=4]="Element",n[n.Template=5]="Template",n[n.ElementEnd=6]="ElementEnd",n[n.ContainerStart=7]="ContainerStart",n[n.Container=8]="Container",n[n.ContainerEnd=9]="ContainerEnd",n[n.DisableBindings=10]="DisableBindings",n[n.ConditionalCreate=11]="ConditionalCreate",n[n.ConditionalBranchCreate=12]="ConditionalBranchCreate",n[n.Conditional=13]="Conditional",n[n.EnableBindings=14]="EnableBindings",n[n.Text=15]="Text",n[n.Listener=16]="Listener",n[n.InterpolateText=17]="InterpolateText",n[n.Binding=18]="Binding",n[n.Property=19]="Property",n[n.StyleProp=20]="StyleProp",n[n.ClassProp=21]="ClassProp",n[n.StyleMap=22]="StyleMap",n[n.ClassMap=23]="ClassMap",n[n.Advance=24]="Advance",n[n.Pipe=25]="Pipe",n[n.Attribute=26]="Attribute",n[n.ExtractedAttribute=27]="ExtractedAttribute",n[n.Defer=28]="Defer",n[n.DeferOn=29]="DeferOn",n[n.DeferWhen=30]="DeferWhen",n[n.I18nMessage=31]="I18nMessage",n[n.DomProperty=32]="DomProperty",n[n.Namespace=33]="Namespace",n[n.ProjectionDef=34]="ProjectionDef",n[n.Projection=35]="Projection",n[n.RepeaterCreate=36]="RepeaterCreate",n[n.Repeater=37]="Repeater",n[n.TwoWayProperty=38]="TwoWayProperty",n[n.TwoWayListener=39]="TwoWayListener",n[n.DeclareLet=40]="DeclareLet",n[n.StoreLet=41]="StoreLet",n[n.I18nStart=42]="I18nStart",n[n.I18n=43]="I18n",n[n.I18nEnd=44]="I18nEnd",n[n.I18nExpression=45]="I18nExpression",n[n.I18nApply=46]="I18nApply",n[n.IcuStart=47]="IcuStart",n[n.IcuEnd=48]="IcuEnd",n[n.IcuPlaceholder=49]="IcuPlaceholder",n[n.I18nContext=50]="I18nContext",n[n.I18nAttributes=51]="I18nAttributes",n[n.SourceLocation=52]="SourceLocation",n[n.Animation=53]="Animation",n[n.AnimationString=54]="AnimationString",n[n.AnimationBinding=55]="AnimationBinding",n[n.AnimationListener=56]="AnimationListener",n})(_||{}),Z=(function(n){return n[n.LexicalRead=0]="LexicalRead",n[n.Context=1]="Context",n[n.TrackContext=2]="TrackContext",n[n.ReadVariable=3]="ReadVariable",n[n.NextContext=4]="NextContext",n[n.Reference=5]="Reference",n[n.StoreLet=6]="StoreLet",n[n.ContextLetReference=7]="ContextLetReference",n[n.GetCurrentView=8]="GetCurrentView",n[n.RestoreView=9]="RestoreView",n[n.ResetView=10]="ResetView",n[n.PureFunctionExpr=11]="PureFunctionExpr",n[n.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",n[n.PipeBinding=13]="PipeBinding",n[n.PipeBindingVariadic=14]="PipeBindingVariadic",n[n.SafePropertyRead=15]="SafePropertyRead",n[n.SafeKeyedRead=16]="SafeKeyedRead",n[n.SafeInvokeFunction=17]="SafeInvokeFunction",n[n.SafeTernaryExpr=18]="SafeTernaryExpr",n[n.EmptyExpr=19]="EmptyExpr",n[n.AssignTemporaryExpr=20]="AssignTemporaryExpr",n[n.ReadTemporaryExpr=21]="ReadTemporaryExpr",n[n.SlotLiteralExpr=22]="SlotLiteralExpr",n[n.ConditionalCase=23]="ConditionalCase",n[n.ConstCollected=24]="ConstCollected",n[n.TwoWayBindingSet=25]="TwoWayBindingSet",n})(Z||{}),Qn=(function(n){return n[n.None=0]="None",n[n.AlwaysInline=1]="AlwaysInline",n})(Qn||{}),St=(function(n){return n[n.Context=0]="Context",n[n.Identifier=1]="Identifier",n[n.SavedView=2]="SavedView",n[n.Alias=3]="Alias",n})(St||{}),Fn=(function(n){return n[n.Normal=0]="Normal",n[n.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",n})(Fn||{}),j=(function(n){return n[n.Attribute=0]="Attribute",n[n.ClassName=1]="ClassName",n[n.StyleProperty=2]="StyleProperty",n[n.Property=3]="Property",n[n.Template=4]="Template",n[n.I18n=5]="I18n",n[n.LegacyAnimation=6]="LegacyAnimation",n[n.TwoWayProperty=7]="TwoWayProperty",n[n.Animation=8]="Animation",n})(j||{}),Vu=(function(n){return n[n.Creation=0]="Creation",n[n.Postproccessing=1]="Postproccessing",n})(Vu||{}),Na=(function(n){return n[n.I18nText=0]="I18nText",n[n.I18nAttribute=1]="I18nAttribute",n})(Na||{}),He=(function(n){return n[n.None=0]="None",n[n.ElementTag=1]="ElementTag",n[n.TemplateTag=2]="TemplateTag",n[n.OpenTag=4]="OpenTag",n[n.CloseTag=8]="CloseTag",n[n.ExpressionIndex=16]="ExpressionIndex",n})(He||{}),Qt=(function(n){return n[n.HTML=0]="HTML",n[n.SVG=1]="SVG",n[n.Math=2]="Math",n})(Qt||{}),Be=(function(n){return n[n.Idle=0]="Idle",n[n.Immediate=1]="Immediate",n[n.Timer=2]="Timer",n[n.Hover=3]="Hover",n[n.Interaction=4]="Interaction",n[n.Viewport=5]="Viewport",n[n.Never=6]="Never",n})(Be||{}),Lo=(function(n){return n[n.RootI18n=0]="RootI18n",n[n.Icu=1]="Icu",n[n.Attr=2]="Attr",n})(Lo||{}),yn=(function(n){return n[n.NgTemplate=0]="NgTemplate",n[n.Structural=1]="Structural",n[n.Block=2]="Block",n})(yn||{}),oS=Symbol("ConsumesSlot"),J0=Symbol("DependsOnSlotContext"),Pa=Symbol("ConsumesVars"),ep=Symbol("UsesVarOffset"),ni={[oS]:!0,numSlotsUsed:1},Ln={[J0]:!0},En={[Pa]:!0};function Ra(n){return n[oS]===!0}function Bu(n){return n[J0]===!0}function Jm(n){return n[Pa]===!0}function px(n){return n[ep]===!0}function ti(n){return I({kind:_.Statement,statement:n},oe)}function $r(n,e,t,i){return I({kind:_.Variable,xref:n,variable:e,initializer:t,flags:i},oe)}var oe={debugListId:null,prev:null,next:null};function SN(n,e,t){return I(I(I({kind:_.InterpolateText,target:n,interpolation:e,sourceSpan:t},Ln),En),oe)}var nt=class{strings;expressions;i18nPlaceholders;constructor(e,t,i){if(this.strings=e,this.expressions=t,this.i18nPlaceholders=i,i.length!==0&&i.length!==t.length)throw new Error(`Expected ${t.length} placeholders to match interpolation expression count, but got ${i.length}`)}};function Xo(n,e,t,i,r,o,s,a,l,u,d){return I({kind:_.Binding,bindingKind:e,target:n,name:t,expression:i,unit:r,securityContext:o,isTextAttribute:s,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:u,sourceSpan:d},oe)}function TN(n,e,t,i,r,o,s,a,l,u){return I(I(I({kind:_.Property,target:n,name:e,expression:t,bindingKind:i,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:o,templateKind:s,i18nContext:a,i18nMessage:l,sourceSpan:u},Ln),En),oe)}function bN(n,e,t,i,r,o,s,a,l){return I(I(I({kind:_.TwoWayProperty,target:n,name:e,expression:t,securityContext:i,sanitizer:null,isStructuralTemplateAttribute:r,templateKind:o,i18nContext:s,i18nMessage:a,sourceSpan:l},Ln),En),oe)}function IN(n,e,t,i,r){return I(I(I({kind:_.StyleProp,target:n,name:e,expression:t,unit:i,sourceSpan:r},Ln),En),oe)}function DN(n,e,t,i){return I(I(I({kind:_.ClassProp,target:n,name:e,expression:t,sourceSpan:i},Ln),En),oe)}function AN(n,e,t){return I(I(I({kind:_.StyleMap,target:n,expression:e,sourceSpan:t},Ln),En),oe)}function MN(n,e,t){return I(I(I({kind:_.ClassMap,target:n,expression:e,sourceSpan:t},Ln),En),oe)}function hx(n,e,t,i,r,o,s,a,l,u){return I(I(I({kind:_.Attribute,target:n,namespace:e,name:t,expression:i,securityContext:r,sanitizer:null,isTextAttribute:o,isStructuralTemplateAttribute:s,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:u},Ln),En),oe)}function kN(n,e){return I({kind:_.Advance,delta:n,sourceSpan:e},oe)}function sS(n,e,t,i){return I(I(I({kind:_.Conditional,target:n,test:e,conditions:t,processed:null,sourceSpan:i,contextValue:null},oe),Ln),En)}function NN(n,e,t,i){return I(I({kind:_.Repeater,target:n,targetSlot:e,collection:t,sourceSpan:i},oe),Ln)}function mx(n,e,t,i,r,o,s){return I({kind:_.AnimationBinding,name:n,target:e,animationKind:t,expression:i,i18nMessage:null,securityContext:r,sanitizer:null,sourceSpan:o,animationBindingKind:s},oe)}function PN(n,e,t,i){return I(I(I({kind:_.DeferWhen,target:n,expr:e,modifier:t,sourceSpan:i},oe),Ln),En)}function aS(n,e,t,i,r,o,s,a,l,u,d){return I(I(I({kind:_.I18nExpression,context:n,target:e,i18nOwner:t,handle:i,expression:r,icuPlaceholder:o,i18nPlaceholder:s,resolutionTime:a,usage:l,name:u,sourceSpan:d},oe),En),Ln)}function RN(n,e,t){return I({kind:_.I18nApply,owner:n,handle:e,sourceSpan:t},oe)}function FN(n,e,t,i){return I(I(I({kind:_.StoreLet,target:n,declaredName:e,value:t,sourceSpan:i},Ln),En),oe)}function Gi(n){return n instanceof qe}var qe=class extends Ve{constructor(e=null){super(null,e)}},Pt=class n extends qe{name;kind=Z.LexicalRead;constructor(e){super(),this.name=e}visitExpression(e,t){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.name)}},Ef=class n extends qe{target;targetSlot;offset;kind=Z.Reference;constructor(e,t,i){super(),this.target=e,this.targetSlot=t,this.offset=i}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot,this.offset)}},qu=class n extends qe{target;value;sourceSpan;kind=Z.StoreLet;[Pa]=!0;[J0]=!0;constructor(e,t,i){super(),this.target=e,this.value=t,this.sourceSpan=i}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.value=W(this.value,e,t)}clone(){return new n(this.target,this.value,this.sourceSpan)}},Uu=class n extends qe{target;targetSlot;kind=Z.ContextLetReference;constructor(e,t){super(),this.target=e,this.targetSlot=t}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot)}},Kr=class n extends qe{view;kind=Z.Context;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},Hg=class n extends qe{view;kind=Z.TrackContext;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},xf=class n extends qe{kind=Z.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n;return e.steps=this.steps,e}},zg=class n extends qe{kind=Z.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n}},wf=class n extends qe{view;kind=Z.RestoreView;constructor(e){super(),this.view=e}visitExpression(e,t){typeof this.view!="number"&&this.view.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,t){typeof this.view!="number"&&(this.view=W(this.view,e,t))}clone(){return new n(this.view instanceof Ve?this.view.clone():this.view)}},Gg=class n extends qe{expr;kind=Z.ResetView;constructor(e){super(),this.expr=e}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=W(this.expr,e,t)}clone(){return new n(this.expr.clone())}},Sf=class n extends qe{target;value;kind=Z.TwoWayBindingSet;constructor(e,t){super(),this.target=e,this.value=t}visitExpression(e,t){this.target.visitExpression(e,t),this.value.visitExpression(e,t)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.target=W(this.target,e,t),this.value=W(this.value,e,t)}clone(){return new n(this.target,this.value)}},pr=class n extends qe{xref;kind=Z.ReadVariable;name=null;constructor(e){super(),this.xref=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n(this.xref);return e.name=this.name,e}},es=class n extends qe{kind=Z.PureFunctionExpr;[Pa]=!0;[ep]=!0;varOffset=null;body;args;fn=null;constructor(e,t){super(),this.body=e,this.args=t}visitExpression(e,t){this.body?.visitExpression(e,t);for(let i of this.args)i.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((t,i)=>t.isEquivalent(this.args[i]))}isConstant(){return!1}transformInternalExpressions(e,t){this.body!==null?this.body=W(this.body,e,t|Ae.InChildOperation):this.fn!==null&&(this.fn=W(this.fn,e,t));for(let i=0;i<this.args.length;i++)this.args[i]=W(this.args[i],e,t)}clone(){let e=new n(this.body?.clone()??null,this.args.map(t=>t.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},Sa=class n extends qe{index;kind=Z.PureFunctionParameterExpr;constructor(e){super(),this.index=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new n(this.index)}},ts=class n extends qe{target;targetSlot;name;args;kind=Z.PipeBinding;[Pa]=!0;[ep]=!0;varOffset=null;constructor(e,t,i,r){super(),this.target=e,this.targetSlot=t,this.name=i,this.args=r}visitExpression(e,t){for(let i of this.args)i.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){for(let i=0;i<this.args.length;i++)this.args[i]=W(this.args[i],e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.map(t=>t.clone()));return e.varOffset=this.varOffset,e}},$u=class n extends qe{target;targetSlot;name;args;numArgs;kind=Z.PipeBindingVariadic;[Pa]=!0;[ep]=!0;varOffset=null;constructor(e,t,i,r,o){super(),this.target=e,this.targetSlot=t,this.name=i,this.args=r,this.numArgs=o}visitExpression(e,t){this.args.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.args=W(this.args,e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},Ta=class n extends qe{receiver;name;kind=Z.SafePropertyRead;constructor(e,t){super(),this.receiver=e,this.name=t}get index(){return this.name}visitExpression(e,t){this.receiver.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=W(this.receiver,e,t)}clone(){return new n(this.receiver.clone(),this.name)}},ba=class n extends qe{receiver;index;kind=Z.SafeKeyedRead;constructor(e,t,i){super(i),this.receiver=e,this.index=t}visitExpression(e,t){this.receiver.visitExpression(e,t),this.index.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=W(this.receiver,e,t),this.index=W(this.index,e,t)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},ns=class n extends qe{receiver;args;kind=Z.SafeInvokeFunction;constructor(e,t){super(),this.receiver=e,this.args=t}visitExpression(e,t){this.receiver.visitExpression(e,t);for(let i of this.args)i.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=W(this.receiver,e,t);for(let i=0;i<this.args.length;i++)this.args[i]=W(this.args[i],e,t)}clone(){return new n(this.receiver.clone(),this.args.map(e=>e.clone()))}},Ia=class n extends qe{guard;expr;kind=Z.SafeTernaryExpr;constructor(e,t){super(),this.guard=e,this.expr=t}visitExpression(e,t){this.guard.visitExpression(e,t),this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.guard=W(this.guard,e,t),this.expr=W(this.expr,e,t)}clone(){return new n(this.guard.clone(),this.expr.clone())}},Hu=class n extends qe{kind=Z.EmptyExpr;visitExpression(e,t){}isEquivalent(e){return e instanceof n}isConstant(){return!0}clone(){return new n}transformInternalExpressions(){}},Wi=class n extends qe{expr;xref;kind=Z.AssignTemporaryExpr;name=null;constructor(e,t){super(),this.expr=e,this.xref=t}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=W(this.expr,e,t)}clone(){let e=new n(this.expr.clone(),this.xref);return e.name=this.name,e}},Xr=class n extends qe{xref;kind=Z.ReadTemporaryExpr;name=null;constructor(e){super(),this.xref=e}visitExpression(e,t){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,t){}clone(){let e=new n(this.xref);return e.name=this.name,e}},Tf=class n extends qe{slot;kind=Z.SlotLiteralExpr;constructor(e){super(),this.slot=e}visitExpression(e,t){}isEquivalent(e){return e instanceof n&&e.slot===this.slot}isConstant(){return!0}clone(){return new n(this.slot)}transformInternalExpressions(){}},bf=class n extends qe{expr;target;targetSlot;alias;kind=Z.ConditionalCase;constructor(e,t,i,r=null){super(),this.expr=e,this.target=t,this.targetSlot=i,this.alias=r}visitExpression(e,t){this.expr!==null&&this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&e.expr===this.expr}isConstant(){return!0}clone(){return new n(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,t){this.expr!==null&&(this.expr=W(this.expr,e,t))}},zu=class n extends qe{expr;kind=Z.ConstCollected;constructor(e){super(),this.expr=e}transformInternalExpressions(e,t){this.expr=e(this.expr,t)}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr)}};function bt(n,e){pt(n,(t,i)=>(e(t,i),t),Ae.None)}var Ae=(function(n){return n[n.None=0]="None",n[n.InChildOperation=1]="InChildOperation",n})(Ae||{});function Zm(n,e,t){for(let i=0;i<n.expressions.length;i++)n.expressions[i]=W(n.expressions[i],e,t)}function pt(n,e,t){switch(n.kind){case _.StyleProp:case _.StyleMap:case _.ClassProp:case _.ClassMap:case _.AnimationString:case _.AnimationBinding:case _.Binding:n.expression instanceof nt?Zm(n.expression,e,t):n.expression=W(n.expression,e,t);break;case _.Property:case _.DomProperty:case _.Attribute:n.expression instanceof nt?Zm(n.expression,e,t):n.expression=W(n.expression,e,t),n.sanitizer=n.sanitizer&&W(n.sanitizer,e,t);break;case _.TwoWayProperty:n.expression=W(n.expression,e,t),n.sanitizer=n.sanitizer&&W(n.sanitizer,e,t);break;case _.I18nExpression:n.expression=W(n.expression,e,t);break;case _.InterpolateText:Zm(n.interpolation,e,t);break;case _.Statement:If(n.statement,e,t);break;case _.Variable:n.initializer=W(n.initializer,e,t);break;case _.Conditional:for(let i of n.conditions)i.expr!==null&&(i.expr=W(i.expr,e,t));n.processed!==null&&(n.processed=W(n.processed,e,t)),n.contextValue!==null&&(n.contextValue=W(n.contextValue,e,t));break;case _.Animation:case _.AnimationListener:case _.Listener:case _.TwoWayListener:for(let i of n.handlerOps)pt(i,e,t|Ae.InChildOperation);break;case _.ExtractedAttribute:n.expression=n.expression&&W(n.expression,e,t),n.trustedValueFn=n.trustedValueFn&&W(n.trustedValueFn,e,t);break;case _.RepeaterCreate:if(n.trackByOps===null)n.track=W(n.track,e,t);else for(let i of n.trackByOps)pt(i,e,t|Ae.InChildOperation);n.trackByFn!==null&&(n.trackByFn=W(n.trackByFn,e,t));break;case _.Repeater:n.collection=W(n.collection,e,t);break;case _.Defer:n.loadingConfig!==null&&(n.loadingConfig=W(n.loadingConfig,e,t)),n.placeholderConfig!==null&&(n.placeholderConfig=W(n.placeholderConfig,e,t)),n.resolverFn!==null&&(n.resolverFn=W(n.resolverFn,e,t));break;case _.I18nMessage:for(let[i,r]of n.params)n.params.set(i,W(r,e,t));for(let[i,r]of n.postprocessingParams)n.postprocessingParams.set(i,W(r,e,t));break;case _.DeferWhen:n.expr=W(n.expr,e,t);break;case _.StoreLet:n.value=W(n.value,e,t);break;case _.Advance:case _.Container:case _.ContainerEnd:case _.ContainerStart:case _.DeferOn:case _.DisableBindings:case _.Element:case _.ElementEnd:case _.ElementStart:case _.EnableBindings:case _.I18n:case _.I18nApply:case _.I18nContext:case _.I18nEnd:case _.I18nStart:case _.IcuEnd:case _.IcuStart:case _.Namespace:case _.Pipe:case _.Projection:case _.ProjectionDef:case _.Template:case _.Text:case _.I18nAttributes:case _.IcuPlaceholder:case _.DeclareLet:case _.SourceLocation:case _.ConditionalCreate:case _.ConditionalBranchCreate:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${_[n.kind]}`)}}function W(n,e,t){if(n instanceof qe)n.transformInternalExpressions(e,t);else if(n instanceof Se)n.lhs=W(n.lhs,e,t),n.rhs=W(n.rhs,e,t);else if(n instanceof Wo)n.expr=W(n.expr,e,t);else if(n instanceof Rn)n.receiver=W(n.receiver,e,t);else if(n instanceof hr)n.receiver=W(n.receiver,e,t),n.index=W(n.index,e,t);else if(n instanceof Cn){n.fn=W(n.fn,e,t);for(let i=0;i<n.args.length;i++)n.args[i]=W(n.args[i],e,t)}else if(n instanceof gi)for(let i=0;i<n.entries.length;i++)n.entries[i]=W(n.entries[i],e,t);else if(n instanceof Ui)for(let i=0;i<n.entries.length;i++)n.entries[i].value=W(n.entries[i].value,e,t);else if(n instanceof qi)n.condition=W(n.condition,e,t),n.trueCase=W(n.trueCase,e,t),n.falseCase!==null&&(n.falseCase=W(n.falseCase,e,t));else if(n instanceof fa)n.expr=W(n.expr,e,t);else if(n instanceof $d)n.expr=W(n.expr,e,t);else if(n instanceof zd)for(let i=0;i<n.expressions.length;i++)n.expressions[i]=W(n.expressions[i],e,t);else if(n instanceof cu)n.condition=W(n.condition,e,t);else if(n instanceof au)n.tag=W(n.tag,e,t),n.template.expressions=n.template.expressions.map(i=>W(i,e,t));else if(n instanceof Go)if(Array.isArray(n.body))for(let i=0;i<n.body.length;i++)If(n.body[i],e,t);else n.body=W(n.body,e,t);else if(!(n instanceof ye)){if(n instanceof uu)for(let i=0;i<n.expressions.length;i++)n.expressions[i]=W(n.expressions[i],e,t);else if(n instanceof mi)n.expr=W(n.expr,e,t);else if(!(n instanceof Kn||n instanceof zo||n instanceof Vt))throw new Error(`Unhandled expression kind: ${n.constructor.name}`)}return e(n,t)}function If(n,e,t){if(n instanceof Xn)n.expr=W(n.expr,e,t);else if(n instanceof Lt)n.value=W(n.value,e,t);else if(n instanceof Ct)n.value!==void 0&&(n.value=W(n.value,e,t));else if(n instanceof Wd){n.condition=W(n.condition,e,t);for(let i of n.trueCase)If(i,e,t);for(let i of n.falseCase)If(i,e,t)}else throw new Error(`Unhandled statement kind: ${n.constructor.name}`)}function lS(n){return n instanceof Vt&&typeof n.value=="string"}var R=(()=>{class n{static nextListId=0;debugListId=n.nextListId++;head={kind:_.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:_.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(t){if(Array.isArray(t)){for(let r of t)this.push(r);return}n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=this.debugListId;let i=this.tail.prev;t.prev=i,i.next=t,t.next=this.tail,this.tail.prev=t}prepend(t){if(t.length===0)return;for(let o of t)n.assertIsNotEnd(o),n.assertIsUnowned(o),o.debugListId=this.debugListId;let i=this.head.next,r=this.head;for(let o of t)r.next=o,o.prev=r,r=o;r.next=i,i.prev=r}*[Symbol.iterator](){let t=this.head.next;for(;t!==this.tail;){n.assertIsOwned(t,this.debugListId);let i=t.next;yield t,t=i}}*reversed(){let t=this.tail.prev;for(;t!==this.head;){n.assertIsOwned(t,this.debugListId);let i=t.prev;yield t,t=i}}static replace(t,i){n.assertIsNotEnd(t),n.assertIsNotEnd(i),n.assertIsOwned(t),n.assertIsUnowned(i),i.debugListId=t.debugListId,t.prev!==null&&(t.prev.next=i,i.prev=t.prev),t.next!==null&&(t.next.prev=i,i.next=t.next),t.debugListId=null,t.prev=null,t.next=null}static replaceWithMany(t,i){if(i.length===0){n.remove(t);return}n.assertIsNotEnd(t),n.assertIsOwned(t);let r=t.debugListId;t.debugListId=null;for(let d of i)n.assertIsNotEnd(d),n.assertIsUnowned(d);let{prev:o,next:s}=t;t.prev=null,t.next=null;let a=o;for(let d of i)n.assertIsUnowned(d),d.debugListId=r,a.next=d,d.prev=a,d.next=null,a=d;let l=i[0],u=a;o!==null&&(o.next=l,l.prev=o),s!==null&&(s.prev=u,u.next=s)}static remove(t){n.assertIsNotEnd(t),n.assertIsOwned(t),t.prev.next=t.next,t.next.prev=t.prev,t.debugListId=null,t.prev=null,t.next=null}static insertBefore(t,i){if(Array.isArray(t)){for(let r of t)n.insertBefore(r,i);return}if(n.assertIsOwned(i),i.prev===null)throw new Error("AssertionError: illegal operation on list start");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=i.debugListId,t.prev=null,i.prev.next=t,t.prev=i.prev,t.next=i,i.prev=t}static insertAfter(t,i){if(n.assertIsOwned(i),i.next===null)throw new Error("AssertionError: illegal operation on list end");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=i.debugListId,i.next.prev=t,t.next=i.next,t.prev=i,i.next=t}static assertIsUnowned(t){if(t.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${_[t.kind]}`)}static assertIsOwned(t,i){if(t.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${_[t.kind]}`);if(i!==void 0&&t.debugListId!==i)throw new Error(`AssertionError: node belongs to the wrong list (expected ${i}, actual ${t.debugListId})`)}static assertIsNotEnd(t){if(t.kind===_.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}return n})(),Bt=class{slot=null},LN=new Set([_.Element,_.ElementStart,_.Container,_.ContainerStart,_.Template,_.RepeaterCreate,_.ConditionalCreate,_.ConditionalBranchCreate]);function mr(n){return LN.has(n.kind)}function ON(n,e,t,i,r,o){return I(I({kind:_.ElementStart,xref:e,tag:n,handle:new Bt,attributes:null,localRefs:[],nonBindable:!1,namespace:t,i18nPlaceholder:i,startSourceSpan:r,wholeSourceSpan:o},ni),oe)}function uS(n,e,t,i,r,o,s,a){return I(I({kind:_.Template,xref:n,templateKind:e,attributes:null,tag:t,handle:new Bt,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},ni),oe)}function cS(n,e,t,i,r,o,s,a){return I(I({kind:_.ConditionalCreate,xref:n,templateKind:e,attributes:null,tag:t,handle:new Bt,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},ni),oe)}function dS(n,e,t,i,r,o,s,a){return I(I({kind:_.ConditionalBranchCreate,xref:n,templateKind:e,attributes:null,tag:t,handle:new Bt,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},ni),oe)}function VN(n,e,t,i,r,o,s,a,l,u){return V(I(I(I({kind:_.RepeaterCreate,attributes:null,xref:n,handle:new Bt,emptyView:e,track:i,trackByFn:null,trackByOps:null,tag:t,emptyTag:o,emptyAttributes:null,functionNameSuffix:"For",namespace:Qt.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:r,usesComponentInstance:!1,i18nPlaceholder:s,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:u},ni),oe),En),{numSlotsUsed:e===null?2:3})}function BN(n,e){return I({kind:_.ElementEnd,xref:n,sourceSpan:e},oe)}function qN(n){return I({kind:_.DisableBindings,xref:n},oe)}function UN(n){return I({kind:_.EnableBindings,xref:n},oe)}function fS(n,e,t,i){return I(I({kind:_.Text,xref:n,handle:new Bt,initialValue:e,icuPlaceholder:t,sourceSpan:i},ni),oe)}function $N(n,e,t,i,r,o){return I({kind:_.AnimationString,name:n,target:e,animationKind:t,expression:i,i18nMessage:null,securityContext:r,sanitizer:null,sourceSpan:o},oe)}function HN(n,e,t,i,r,o){let s=new R;return s.push(i),I({kind:_.Animation,name:n,target:e,animationKind:t,handlerOps:s,handlerFnName:null,i18nMessage:null,securityContext:r,sanitizer:null,sourceSpan:o},oe)}function Z0(n,e,t,i,r,o,s,a,l){let u=new R;return u.push(r),I({kind:_.Listener,target:n,targetSlot:e,tag:i,hostListener:a,name:t,handlerOps:u,handlerFnName:null,consumesDollarEvent:!1,isLegacyAnimationListener:o!==null,legacyAnimationPhase:o,eventTarget:s,sourceSpan:l},oe)}function pS(n,e,t,i,r,o,s,a,l){let u=new R;return u.push(r),I({kind:_.AnimationListener,target:n,targetSlot:e,tag:i,hostListener:a,name:t,animationKind:o,handlerOps:u,handlerFnName:null,consumesDollarEvent:!1,eventTarget:s,sourceSpan:l},oe)}function hS(n,e,t,i,r,o){let s=new R;return s.push(r),I({kind:_.TwoWayListener,target:n,targetSlot:e,tag:i,name:t,handlerOps:s,handlerFnName:null,sourceSpan:o},oe)}function mS(n,e,t){return I(I({kind:_.Pipe,xref:n,handle:e,name:t},oe),ni)}function zN(n){return I({kind:_.Namespace,active:n},oe)}function GN(n){return I({kind:_.ProjectionDef,def:n},oe)}function WN(n,e,t,i,r){return V(I(I({kind:_.Projection,xref:n,handle:new Bt,selector:e,i18nPlaceholder:t,fallbackView:i,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:r},oe),ni),{numSlotsUsed:i===null?1:2})}function jn(n,e,t,i,r,o,s,a){return I({kind:_.ExtractedAttribute,target:n,bindingKind:e,namespace:t,name:i,expression:r,i18nContext:o,i18nMessage:s,securityContext:a,trustedValueFn:null},oe)}function QN(n,e,t,i,r,o){return V(I(I({kind:_.Defer,xref:n,handle:new Bt,mainView:e,mainSlot:t,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:i,resolverFn:r,flags:null,sourceSpan:o},oe),ni),{numSlotsUsed:2})}function Br(n,e,t,i){return I({kind:_.DeferOn,defer:n,trigger:e,modifier:t,sourceSpan:i},oe)}function jN(n,e,t){return I(I({kind:_.DeclareLet,xref:n,declaredName:e,sourceSpan:t,handle:new Bt},ni),oe)}function YN(n,e,t,i,r,o,s,a){return I({kind:_.I18nMessage,xref:n,i18nContext:e,i18nBlock:t,message:i,messagePlaceholder:r,params:o,postprocessingParams:s,needsPostprocessing:a,subMessages:[]},oe)}function tp(n,e,t,i){return I(I({kind:_.I18nStart,xref:n,handle:new Bt,root:t??n,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:i},oe),ni)}function np(n,e){return I({kind:_.I18nEnd,xref:n,sourceSpan:e},oe)}function JN(n,e,t,i){return I({kind:_.IcuStart,xref:n,message:e,messagePlaceholder:t,context:null,sourceSpan:i},oe)}function ZN(n){return I({kind:_.IcuEnd,xref:n},oe)}function KN(n,e,t){return I({kind:_.IcuPlaceholder,xref:n,name:e,strings:t,expressionPlaceholders:[]},oe)}function Km(n,e,t,i,r){if(t===null&&n!==Lo.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return I({kind:_.I18nContext,contextKind:n,xref:e,i18nBlock:t,message:i,sourceSpan:r,params:new Map,postprocessingParams:new Map},oe)}function gS(n,e,t){return I(I({kind:_.I18nAttributes,xref:n,handle:e,target:t,i18nAttributesConfig:null},oe),ni)}function XN(n,e){return I({kind:_.SourceLocation,templatePath:n,locations:e},oe)}function e2(n,e,t,i,r,o){return I(I({kind:_.DomProperty,name:n,expression:e,bindingKind:t,i18nContext:i,securityContext:r,sanitizer:null,sourceSpan:o},En),oe)}var vS="CTX_REF_MARKER",z=(function(n){return n[n.Tmpl=0]="Tmpl",n[n.Host=1]="Host",n[n.Both=2]="Both",n})(z||{}),gn=(function(n){return n[n.Full=0]="Full",n[n.DomOnly=1]="DomOnly",n})(gn||{}),Df=class{componentName;pool;compatibility;mode;constructor(e,t,i,r){this.componentName=e,this.pool=t,this.compatibility=i,this.mode=r}kind=z.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0},Gu=class extends Df{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(e,t,i,r,o,s,a,l,u,d){super(e,t,i,r),this.relativeContextFilePath=o,this.i18nUseExternalIds=s,this.deferMeta=a,this.allDeferrableDepsFn=l,this.relativeTemplatePath=u,this.enableDebugLocations=d,this.root=new Yn(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=z.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(e){let t=new Yn(this,this.allocateXrefId(),e);return this.views.set(t.xref,t),t}get units(){return this.views.values()}addConst(e,t){for(let r=0;r<this.consts.length;r++)if(this.consts[r].isEquivalent(e))return r;let i=this.consts.length;return this.consts.push(e),t&&this.constsInitializers.push(...t),i}consts=[];constsInitializers=[]},Af=class{xref;constructor(e){this.xref=e}create=new R;update=new R;fnName=null;vars=null;*ops(){for(let e of this.create)if(yield e,e.kind===_.Listener||e.kind===_.Animation||e.kind===_.AnimationListener||e.kind===_.TwoWayListener)for(let t of e.handlerOps)yield t;else if(e.kind===_.RepeaterCreate&&e.trackByOps!==null)for(let t of e.trackByOps)yield t;for(let e of this.update)yield e}},Yn=class extends Af{job;parent;constructor(e,t,i){super(t),this.job=e,this.parent=i}contextVariables=new Map;aliases=new Set;decls=null},Mf=class extends Df{constructor(e,t,i,r){super(e,t,i,r),this.root=new Wg(this)}kind=z.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}},Wg=class extends Af{job;constructor(e){super(0),this.job=e}attributes=null};function t2(n){for(let e of n.units)for(let t of e.ops())pt(t,n2,Ae.None)}function n2(n){if(n instanceof Cn&&n.fn instanceof Pt&&n.fn.name==="$any"){if(n.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return n.args[0]}return n}function i2(n){let e=new Map;for(let t of n.units)for(let i of t.create)i.kind===_.I18nContext&&e.set(i.xref,i);for(let t of n.units)for(let i of t.update)i.kind===_.I18nExpression&&r2(e,i)&&R.insertAfter(RN(i.i18nOwner,i.handle,null),i)}function r2(n,e){if(e.next?.kind!==_.I18nExpression)return!0;let t=n.get(e.context),i=n.get(e.next.context);if(t===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(i===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return t.i18nBlock!==null?t.i18nBlock!==i.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function o2(n){for(let e of n.units){let t=e.update.head,i=[],r=null;for(let o of e.create){if(o.kind===_.I18nStart)r={blockXref:o.xref,lastSlotConsumer:o.xref};else if(o.kind===_.I18nEnd){for(let s of i)s.target=r.lastSlotConsumer,R.insertBefore(s,t);i.length=0,r=null}if(Ra(o))for(r!==null&&(r.lastSlotConsumer=o.xref);t.next!==null;){if(r!==null&&t.kind===_.I18nExpression&&t.usage===Na.I18nText&&t.i18nOwner===r.blockXref){let a=t;t=t.next,R.remove(a),i.push(a);continue}let s=!1;if(Bu(t)&&t.target!==o.xref?s=!0:(t.kind===_.Statement||t.kind===_.Variable)&&bt(t,a=>{!s&&Bu(a)&&a.target!==o.xref&&(s=!0)}),s)break;t=t.next}}}}function s2(n){if(!(!n.enableDebugLocations||n.relativeTemplatePath===null))for(let e of n.units){let t=[];for(let i of e.create)if(i.kind===_.ElementStart||i.kind===_.Element){let r=i.startSourceSpan.start;t.push({targetSlot:i.handle,offset:r.offset,line:r.line,column:r.col})}t.length>0&&e.create.push(XN(n.relativeTemplatePath,t))}}function K0(n){let e=new Map;for(let t of n.create)Ra(t)&&(e.set(t.xref,t),t.kind===_.RepeaterCreate&&t.emptyView!==null&&e.set(t.emptyView,t));return e}function a2(n){for(let e of n.units){let t=K0(e);for(let i of e.ops())switch(i.kind){case _.Attribute:l2(e,i,t);break;case _.Property:if(i.bindingKind!==j.LegacyAnimation&&i.bindingKind!==j.Animation){let r;i.i18nMessage!==null&&i.templateKind===null?r=j.I18n:i.isStructuralTemplateAttribute?r=j.Template:r=j.Property,R.insertBefore(jn(i.target,r,null,i.name,null,null,null,i.securityContext),ea(t,i.target))}break;case _.TwoWayProperty:R.insertBefore(jn(i.target,j.TwoWayProperty,null,i.name,null,null,null,i.securityContext),ea(t,i.target));break;case _.StyleProp:case _.ClassProp:e.job.compatibility===Fn.TemplateDefinitionBuilder&&i.expression instanceof Hu&&R.insertBefore(jn(i.target,j.Property,null,i.name,null,null,null,Ge.STYLE),ea(t,i.target));break;case _.Listener:if(!i.isLegacyAnimationListener){let r=jn(i.target,j.Property,null,i.name,null,null,null,Ge.NONE);if(n.kind===z.Host){if(n.compatibility)break;e.create.push(r)}else R.insertBefore(r,ea(t,i.target))}break;case _.TwoWayListener:if(n.kind!==z.Host){let r=jn(i.target,j.Property,null,i.name,null,null,null,Ge.NONE);R.insertBefore(r,ea(t,i.target))}break}}}function ea(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function l2(n,e,t){if(e.expression instanceof nt)return;let i=e.isTextAttribute||e.expression.isConstant();if(n.job.compatibility===Fn.TemplateDefinitionBuilder&&(i&&=e.isTextAttribute),i){let r=jn(e.target,e.isStructuralTemplateAttribute?j.Template:j.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(n.job.kind===z.Host)n.create.push(r);else{let o=ea(t,e.target);R.insertBefore(r,o)}R.remove(e)}}var gx="aria-";function _S(n){return n.startsWith(gx)&&n.length>gx.length}function u2(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function c2(n){let e=new Map;for(let t of n.units)for(let i of t.create)mr(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.ops())if(i.kind===_.Binding)switch(i.bindingKind){case j.Attribute:if(i.name==="ngNonBindable"){R.remove(i);let r=u2(e,i.target);r.nonBindable=!0}else if(i.name.startsWith("animate."))R.replace(i,mx(i.name,i.target,i.name==="animate.enter"?"enter":"leave",i.expression,i.securityContext,i.sourceSpan,0));else{let[r,o]=_i(i.name);R.replace(i,hx(i.target,r,o,i.expression,i.securityContext,i.isTextAttribute,i.isStructuralTemplateAttribute,i.templateKind,i.i18nMessage,i.sourceSpan))}break;case j.Animation:R.replace(i,mx(i.name,i.target,i.name==="animate.enter"?"enter":"leave",i.expression,i.securityContext,i.sourceSpan,1));break;case j.Property:case j.LegacyAnimation:n.mode===gn.DomOnly&&_S(i.name)?R.replace(i,hx(i.target,null,i.name,i.expression,i.securityContext,!1,i.isStructuralTemplateAttribute,i.templateKind,i.i18nMessage,i.sourceSpan)):n.kind===z.Host?R.replace(i,e2(i.name,i.expression,i.bindingKind,i.i18nContext,i.securityContext,i.sourceSpan)):R.replace(i,TN(i.target,i.name,i.expression,i.bindingKind,i.securityContext,i.isStructuralTemplateAttribute,i.templateKind,i.i18nContext,i.i18nMessage,i.sourceSpan));break;case j.TwoWayProperty:if(!(i.expression instanceof Ve))throw new Error(`Expected value of two-way property binding "${i.name}" to be an expression`);R.replace(i,bN(i.target,i.name,i.expression,i.securityContext,i.isStructuralTemplateAttribute,i.templateKind,i.i18nContext,i.i18nMessage,i.sourceSpan));break;case j.I18n:case j.ClassName:case j.StyleProperty:throw new Error(`Unhandled binding of kind ${j[i.bindingKind]}`)}}var vx=new Map([[w.ariaProperty,w.ariaProperty],[w.attribute,w.attribute],[w.classProp,w.classProp],[w.element,w.element],[w.elementContainer,w.elementContainer],[w.elementContainerEnd,w.elementContainerEnd],[w.elementContainerStart,w.elementContainerStart],[w.elementEnd,w.elementEnd],[w.elementStart,w.elementStart],[w.domProperty,w.domProperty],[w.i18nExp,w.i18nExp],[w.listener,w.listener],[w.listener,w.listener],[w.property,w.property],[w.styleProp,w.styleProp],[w.syntheticHostListener,w.syntheticHostListener],[w.syntheticHostProperty,w.syntheticHostProperty],[w.templateCreate,w.templateCreate],[w.twoWayProperty,w.twoWayProperty],[w.twoWayListener,w.twoWayListener],[w.declareLet,w.declareLet],[w.conditionalCreate,w.conditionalBranchCreate],[w.conditionalBranchCreate,w.conditionalBranchCreate],[w.domElement,w.domElement],[w.domElementStart,w.domElementStart],[w.domElementEnd,w.domElementEnd],[w.domElementContainer,w.domElementContainer],[w.domElementContainerStart,w.domElementContainerStart],[w.domElementContainerEnd,w.domElementContainerEnd],[w.domListener,w.domListener],[w.domTemplate,w.domTemplate],[w.animationEnter,w.animationEnter],[w.animationLeave,w.animationLeave],[w.animationEnterListener,w.animationEnterListener],[w.animationLeaveListener,w.animationLeaveListener]]),d2=256;function f2(n){for(let e of n.units)_x(e.create),_x(e.update)}function _x(n){let e=null;for(let t of n){if(t.kind!==_.Statement||!(t.statement instanceof Xn)){e=null;continue}if(!(t.statement.expr instanceof Cn)||!(t.statement.expr.fn instanceof zo)){e=null;continue}let i=t.statement.expr.fn.value;if(!vx.has(i)){e=null;continue}if(e!==null&&vx.get(e.instruction)===i&&e.length<d2){let r=e.expression.callFn(t.statement.expr.args,t.statement.expr.sourceSpan,t.statement.expr.pure);e.expression=r,e.op.statement=r.toStmt(),e.length++,R.remove(t)}else e={op:t,instruction:i,expression:t.statement.expr,length:1}}}function p2(n){for(let e of n.units)for(let t of e.update)(t.kind===_.Attribute||t.kind===_.StyleProp||t.kind==_.StyleMap||t.kind===_.ClassMap)&&t.expression instanceof nt&&t.expression.strings.length===2&&t.expression.strings.every(r=>r==="")&&(t.expression=t.expression.expressions[0])}function h2(n){for(let e of n.units)for(let t of e.ops()){if(t.kind!==_.Conditional)continue;let i,r=t.conditions.findIndex(a=>a.expr===null);if(r>=0){let a=t.conditions.splice(r,1)[0].targetSlot;i=new Tf(a)}else i=M(-1);let o=t.test==null?null:new Wi(t.test,n.allocateXrefId()),s=null;for(let a=t.conditions.length-1;a>=0;a--){let l=t.conditions[a];if(l.expr!==null){if(o!==null){let u=a===0?o:new Xr(o.xref);l.expr=new Se(q.Identical,u,l.expr)}else l.alias!==null&&(s??=n.allocateXrefId(),l.expr=new Wi(l.expr,s),t.contextValue=new Xr(s));i=new qi(l.expr,new Tf(l.targetSlot),i)}}t.processed=i,t.conditions=[]}}var m2=new Map([["&&",q.And],[">",q.Bigger],[">=",q.BiggerEquals],["|",q.BitwiseOr],["&",q.BitwiseAnd],["/",q.Divide],["=",q.Assign],["==",q.Equals],["===",q.Identical],["<",q.Lower],["<=",q.LowerEquals],["-",q.Minus],["%",q.Modulo],["**",q.Exponentiation],["*",q.Multiply],["!=",q.NotEquals],["!==",q.NotIdentical],["??",q.NullishCoalesce],["||",q.Or],["+",q.Plus],["in",q.In],["+=",q.AdditionAssignment],["-=",q.SubtractionAssignment],["*=",q.MultiplicationAssignment],["/=",q.DivisionAssignment],["%=",q.RemainderAssignment],["**=",q.ExponentiationAssignment],["&&=",q.AndAssignment],["||=",q.OrAssignment],["??=",q.NullishCoalesceAssignment]]);function yS(n){let e=new Map([["svg",Qt.SVG],["math",Qt.Math]]);return n===null?Qt.HTML:e.get(n)??Qt.HTML}function g2(n){let e=new Map([["svg",Qt.SVG],["math",Qt.Math]]);for(let[t,i]of e.entries())if(i===n)return t;return null}function v2(n,e){return e===Qt.HTML?n:`:${g2(e)}:${n}`}function Da(n){return Array.isArray(n)?Ne(n.map(Da)):M(n)}function _2(n){let e=new Map;for(let t of n.units)for(let i of t.create)if(i.kind===_.ExtractedAttribute){let r=e.get(i.target)||new Qg(n.compatibility);e.set(i.target,r),r.add(i.bindingKind,i.name,i.expression,i.namespace,i.trustedValueFn),R.remove(i)}if(n instanceof Gu)for(let t of n.units)for(let i of t.create)if(i.kind==_.Projection){let r=e.get(i.xref);if(r!==void 0){let o=jg(r);o.entries.length>0&&(i.attributes=o)}}else mr(i)&&(i.attributes=yx(n,e,i.xref),i.kind===_.RepeaterCreate&&i.emptyView!==null&&(i.emptyAttributes=yx(n,e,i.emptyView)));else if(n instanceof Mf)for(let[t,i]of e.entries()){if(t!==n.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let r=jg(i);r.entries.length>0&&(n.root.attributes=r)}}function yx(n,e,t){let i=e.get(t);if(i!==void 0){let r=jg(i);if(r.entries.length>0)return n.addConst(r)}return null}var Ys=Object.freeze([]),Qg=class{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get(j.Attribute)??Ys}get classes(){return this.byKind.get(j.ClassName)??Ys}get styles(){return this.byKind.get(j.StyleProperty)??Ys}get bindings(){return this.propertyBindings??Ys}get template(){return this.byKind.get(j.Template)??Ys}get i18n(){return this.byKind.get(j.I18n)??Ys}constructor(e){this.compatibility=e}isKnown(e,t){let i=this.known.get(e)??new Set;return this.known.set(e,i),i.has(t)?!0:(i.add(t),!1)}add(e,t,i,r,o){if(!(this.compatibility===Fn.TemplateDefinitionBuilder&&(e===j.Attribute||e===j.ClassName||e===j.StyleProperty))&&this.isKnown(e,t))return;if(t==="ngProjectAs"){if(i===null||!(i instanceof Vt)||i.value==null||typeof i.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=i.value.toString()}let a=this.arrayFor(e);if(a.push(...y2(r,t)),e===j.Attribute||e===j.StyleProperty){if(i===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(o!==null){if(!lS(i))throw Error("AssertionError: extracted attribute value should be string literal");a.push(OM(o,new uu([new Hd(i.value)],[]),void 0,i.sourceSpan))}else a.push(i)}}arrayFor(e){return e===j.Property||e===j.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function y2(n,e){let t=M(e);return n?[M(0),M(n),t]:[t]}function jg({attributes:n,bindings:e,classes:t,i18n:i,projectAs:r,styles:o,template:s}){let a=[...n];if(r!==null){let l=L0(r)[0];a.push(M(5),Da(l))}return t.length>0&&a.push(M(1),...t),o.length>0&&a.push(M(2),...o),e.length>0&&a.push(M(3),...e),s.length>0&&a.push(M(4),...s),i.length>0&&a.push(M(6),...i),Ne(a)}function C2(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function E2(n){let e=new Map;for(let t of n.units)for(let i of t.create)mr(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.ops())if(i.kind===_.AnimationBinding){let r=x2(i);n.kind===z.Host?t.create.push(r):R.insertAfter(r,C2(e,i.target)),R.remove(i)}}function x2(n){if(n.animationBindingKind===0)return $N(n.name,n.target,n.name==="animate.enter"?"enter":"leave",n.expression,n.securityContext,n.sourceSpan);{let e=n.expression;return HN(n.name,n.target,n.name==="animate.enter"?"enter":"leave",[ti(new Lt(e,e.sourceSpan))],n.securityContext,n.sourceSpan)}}function w2(n){let e=new Map;for(let t of n.units){for(let i of t.create)i.kind===_.I18nAttributes&&e.set(i.target,i);for(let i of t.update)switch(i.kind){case _.Property:case _.Attribute:if(i.i18nContext===null||!(i.expression instanceof nt))continue;let r=e.get(i.target);if(r===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(r.target!==i.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let o=[];for(let s=0;s<i.expression.expressions.length;s++){let a=i.expression.expressions[s];if(i.expression.i18nPlaceholders.length!==i.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${i.expression.i18nPlaceholders.length} placeholders and ${i.expression.expressions.length} expressions`);o.push(aS(i.i18nContext,r.target,r.xref,r.handle,a,null,i.expression.i18nPlaceholders[s],Vu.Creation,Na.I18nAttribute,i.name,i.sourceSpan))}R.replaceWithMany(i,o);break}}}function S2(n){let e=new Map;for(let r of n.units)for(let o of r.ops())switch(o.kind){case _.Binding:case _.Property:case _.Attribute:case _.ExtractedAttribute:if(o.i18nMessage===null)continue;if(!e.has(o.i18nMessage)){let s=Km(Lo.Attr,n.allocateXrefId(),null,o.i18nMessage,null);r.create.push(s),e.set(o.i18nMessage,s.xref)}o.i18nContext=e.get(o.i18nMessage);break}let t=new Map;for(let r of n.units)for(let o of r.create)switch(o.kind){case _.I18nStart:if(o.xref===o.root){let s=Km(Lo.RootI18n,n.allocateXrefId(),o.xref,o.message,null);r.create.push(s),o.context=s.xref,t.set(o.xref,s)}break}for(let r of n.units)for(let o of r.create)if(o.kind===_.I18nStart&&o.xref!==o.root){let s=t.get(o.root);if(s===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");o.context=s.xref,t.set(o.xref,s)}let i=null;for(let r of n.units)for(let o of r.create)switch(o.kind){case _.I18nStart:i=o;break;case _.I18nEnd:i=null;break;case _.IcuStart:if(i===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(o.message.id!==i.message.id){let s=Km(Lo.Icu,n.allocateXrefId(),i.root,o.message,null);r.create.push(s),o.context=s.xref}else o.context=i.context,t.get(i.xref).contextKind=Lo.Icu;break}}function T2(n){let e=new Map;for(let t of n.units)for(let i of t.update.reversed())if(i.kind===_.Binding&&i.isTextAttribute){let r=e.get(i.target)||new Set;r.has(i.name)&&n.compatibility===Fn.TemplateDefinitionBuilder&&(i.name==="style"||i.name==="class")&&R.remove(i),r.add(i.name),e.set(i.target,r)}}function b2(n){for(let e of n.units)for(let t of e.create)t.kind===_.Defer&&(t.placeholderMinimumTime!==null&&(t.placeholderConfig=new zu(Da([t.placeholderMinimumTime]))),(t.loadingMinimumTime!==null||t.loadingAfterTime!==null)&&(t.loadingConfig=new zu(Da([t.loadingMinimumTime,t.loadingAfterTime]))))}function I2(n){let e=new Map;function t(r){if(e.has(r.xref))return e.get(r.xref);let o=new D2;for(let s of r.create)if(!(!mr(s)||s.localRefs===null)){if(!Array.isArray(s.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of s.localRefs)a.target===""&&o.targets.set(a.name,{xref:s.xref,slot:s.handle})}return e.set(r.xref,o),o}function i(r,o,s){switch(o.trigger.kind){case Be.Idle:case Be.Never:case Be.Immediate:case Be.Timer:return;case Be.Hover:case Be.Interaction:case Be.Viewport:if(o.trigger.targetName===null){if(s===null)throw new Error("defer on trigger with no target name must have a placeholder block");let u=n.views.get(s);if(u==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let d of u.create)if(Ra(d)&&(mr(d)||d.kind===_.Projection)){o.trigger.targetXref=d.xref,o.trigger.targetView=s,o.trigger.targetSlotViewSteps=-1,o.trigger.targetSlot=d.handle;return}return}let a=s!==null?n.views.get(s):r,l=s!==null?-1:0;for(;a!==null;){let u=t(a);if(u.targets.has(o.trigger.targetName)){let{xref:d,slot:p}=u.targets.get(o.trigger.targetName);o.trigger.targetXref=d,o.trigger.targetView=a.xref,o.trigger.targetSlotViewSteps=l,o.trigger.targetSlot=p;return}a=a.parent!==null?n.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${o.trigger.kind} not handled`)}}for(let r of n.units){let o=new Map;for(let s of r.create)switch(s.kind){case _.Defer:o.set(s.xref,s);break;case _.DeferOn:let a=o.get(s.defer);i(r,s,s.modifier==="hydrate"?a.mainView:a.placeholderView);break}}}var D2=class{targets=new Map},A2=new Map([[_.ElementEnd,[_.ElementStart,_.Element]],[_.ContainerEnd,[_.ContainerStart,_.Container]],[_.I18nEnd,[_.I18nStart,_.I18n]]]),M2=new Set([_.Pipe]);function k2(n){for(let e of n.units)for(let t of e.create){let i=A2.get(t.kind);if(i===void 0)continue;let[r,o]=i,s=t.prev;for(;s!==null&&M2.has(s.kind);)s=s.prev;s!==null&&s.kind===r&&(s.kind=o,R.remove(t))}}function N2(n){for(let e of n.units)for(let t of e.ops())pt(t,i=>V2(i,{job:n}),Ae.None),pt(t,B2,Ae.None)}function Tn(n){return n instanceof Wo?Tn(n.expr):n instanceof Se?Tn(n.lhs)||Tn(n.rhs):n instanceof qi?n.falseCase&&Tn(n.falseCase)?!0:Tn(n.condition)||Tn(n.trueCase):n instanceof cu?Tn(n.condition):n instanceof Wi?Tn(n.expr):n instanceof Rn?Tn(n.receiver):n instanceof hr?Tn(n.receiver)||Tn(n.index):n instanceof mi?Tn(n.expr):n instanceof Cn||n instanceof gi||n instanceof Ui||n instanceof ns||n instanceof ts}function P2(n){let e=new Set;return W(n,t=>(t instanceof Wi&&e.add(t.xref),t),Ae.None),e}function R2(n,e,t){return W(n,i=>{if(i instanceof Wi&&e.has(i.xref)){let r=new Xr(i.xref);return t.job.compatibility===Fn.TemplateDefinitionBuilder?new Wi(r,r.xref):r}return i},Ae.None),n}function Js(n,e,t){let i;if(Tn(n)){let r=t.job.allocateXrefId();i=[new Wi(n,r),new Xr(r)]}else i=[n,n.clone()],R2(i[1],P2(i[0]),t);return new Ia(i[0],e(i[1]))}function F2(n){return n instanceof Ta||n instanceof ba||n instanceof ns}function L2(n){return n instanceof Rn||n instanceof hr||n instanceof Cn}function CS(n){return F2(n)||L2(n)}function O2(n){if(CS(n)&&n.receiver instanceof Ia){let e=n.receiver;for(;e.expr instanceof Ia;)e=e.expr;return e}return null}function V2(n,e){if(!CS(n))return n;let t=O2(n);if(t){if(n instanceof Cn)return t.expr=t.expr.callFn(n.args),n.receiver;if(n instanceof Rn)return t.expr=t.expr.prop(n.name),n.receiver;if(n instanceof hr)return t.expr=t.expr.key(n.index),n.receiver;if(n instanceof ns)return t.expr=Js(t.expr,i=>i.callFn(n.args),e),n.receiver;if(n instanceof Ta)return t.expr=Js(t.expr,i=>i.prop(n.name),e),n.receiver;if(n instanceof ba)return t.expr=Js(t.expr,i=>i.key(n.index),e),n.receiver}else{if(n instanceof ns)return Js(n.receiver,i=>i.callFn(n.args),e);if(n instanceof Ta)return Js(n.receiver,i=>i.prop(n.name),e);if(n instanceof ba)return Js(n.receiver,i=>i.key(n.index),e)}return n}function B2(n){return n instanceof Ia?new mi(new qi(new Se(q.Equals,n.guard,ha),ha,n.expr)):n}var Cx="\uFFFD",q2="#",U2="*",$2="/",H2=":",z2="[",G2="]",W2="|";function Q2(n){let e=new Map,t=new Map,i=new Map;for(let o of n.units)for(let s of o.create)switch(s.kind){case _.I18nContext:let a=j2(n,s);o.create.push(a),e.set(s.xref,a),i.set(s.xref,s);break;case _.I18nStart:t.set(s.xref,s);break}let r=null;for(let o of n.units)for(let s of o.create)switch(s.kind){case _.IcuStart:r=s,R.remove(s);let a=i.get(s.context);if(a.contextKind!==Lo.Icu)continue;let l=t.get(a.i18nBlock);if(l.context===a.xref)continue;let u=t.get(l.root),d=e.get(u.context);if(d===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let p=e.get(a.xref);p.messagePlaceholder=s.messagePlaceholder,d.subMessages.push(p.xref);break;case _.IcuEnd:r=null,R.remove(s);break;case _.IcuPlaceholder:if(r===null||r.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(r.context).postprocessingParams.set(s.name,M(Y2(s))),R.remove(s);break}}function j2(n,e,t){let i=Ex(e.params),r=Ex(e.postprocessingParams),o=[...e.params.values()].some(s=>s.length>1);return YN(n.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,i,r,o)}function Y2(n){if(n.strings.length!==n.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${n.strings.length} strings and ${n.expressionPlaceholders.length} expressions`);let e=n.expressionPlaceholders.map(ra);return n.strings.flatMap((t,i)=>[t,e[i]||""]).join("")}function Ex(n){let e=new Map;for(let[t,i]of n){let r=J2(i);r!==null&&e.set(t,M(r))}return e}function J2(n){if(n.length===0)return null;let e=n.map(t=>ra(t));return e.length===1?e[0]:`${z2}${e.join(W2)}${G2}`}function ra(n){if(n.flags&He.ElementTag&&n.flags&He.TemplateTag){if(typeof n.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let r=ra(V(I({},n),{value:n.value.element,flags:n.flags&~He.TemplateTag})),o=ra(V(I({},n),{value:n.value.template,flags:n.flags&~He.ElementTag}));return n.flags&He.OpenTag&&n.flags&He.CloseTag?`${o}${r}${o}`:n.flags&He.CloseTag?`${r}${o}`:`${o}${r}`}if(n.flags&He.OpenTag&&n.flags&He.CloseTag)return`${ra(V(I({},n),{flags:n.flags&~He.CloseTag}))}${ra(V(I({},n),{flags:n.flags&~He.OpenTag}))}`;if(n.flags===He.None)return`${n.value}`;let e="",t="";n.flags&He.ElementTag?e=q2:n.flags&He.TemplateTag&&(e=U2),e!==""&&(t=n.flags&He.CloseTag?$2:"");let i=n.subTemplateIndex===null?"":`${H2}${n.subTemplateIndex}`;return`${Cx}${t}${e}${n.value}${i}${Cx}`}function Z2(n){for(let e of n.units){let t=new Map;for(let r of e.create){if(Ra(r)){if(r.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;t.set(r.xref,r.handle.slot)}let i=0;for(let r of e.update){let o=null;if(Bu(r)?o=r:bt(r,a=>{o===null&&Bu(a)&&(o=a)}),o===null)continue;if(!t.has(o.target))throw new Error(`AssertionError: reference to unknown slot for target ${o.target}`);let s=t.get(o.target);if(i!==s){let a=s-i;if(a<0)throw new Error("AssertionError: slot counter should never need to move backwards");R.insertBefore(kN(a,o.sourceSpan),r),i=s}}}}function K2(n){for(let e of n.units)for(let t of e.update){if(t.kind!==_.StoreLet)continue;let i={kind:St.Identifier,name:null,identifier:t.declaredName,local:!0};R.replace(t,$r(n.allocateXrefId(),i,new qu(t.target,t.value,t.sourceSpan),Qn.None))}}function X2(n){let e=n.compatibility===Fn.TemplateDefinitionBuilder,t=[],i=0;for(let r of n.units)for(let o of r.create)o.kind===_.Projection&&(t.push(o.selector),o.projectionSlotIndex=i++);if(t.length>0){let r=null;if(t.length>1||t[0]!=="*"){let o=t.map(s=>s==="*"?s:L0(s));r=n.pool.getConstLiteral(Da(o),e)}n.contentSelectors=n.pool.getConstLiteral(Da(t),e),n.root.create.prepend([GN(r)])}}function eP(n){Zl(n.root,null)}function Zl(n,e){let t=tP(n,e);for(let i of n.create)switch(i.kind){case _.ConditionalCreate:case _.ConditionalBranchCreate:case _.Template:Zl(n.job.views.get(i.xref),t);break;case _.Projection:i.fallbackView!==null&&Zl(n.job.views.get(i.fallbackView),t);break;case _.RepeaterCreate:Zl(n.job.views.get(i.xref),t),i.emptyView&&Zl(n.job.views.get(i.emptyView),t),i.trackByOps!==null&&i.trackByOps.prepend(Rd(n,t,!1));break;case _.Animation:case _.AnimationListener:case _.Listener:case _.TwoWayListener:i.handlerOps.prepend(Rd(n,t,!0));break}n.update.prepend(Rd(n,t,!1))}function tP(n,e){let t={view:n.xref,viewContextVariable:{kind:St.Context,name:null,view:n.xref},contextVariables:new Map,aliases:n.aliases,references:[],letDeclarations:[],parent:e};for(let i of n.contextVariables.keys())t.contextVariables.set(i,{kind:St.Identifier,name:null,identifier:i,local:!1});for(let i of n.create)switch(i.kind){case _.ElementStart:case _.ConditionalCreate:case _.ConditionalBranchCreate:case _.Template:if(!Array.isArray(i.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let r=0;r<i.localRefs.length;r++)t.references.push({name:i.localRefs[r].name,targetId:i.xref,targetSlot:i.handle,offset:r,variable:{kind:St.Identifier,name:null,identifier:i.localRefs[r].name,local:!1}});break;case _.DeclareLet:t.letDeclarations.push({targetId:i.xref,targetSlot:i.handle,variable:{kind:St.Identifier,name:null,identifier:i.declaredName,local:!1}});break}return t}function Rd(n,e,t){let i=[];e.view!==n.xref&&i.push($r(n.job.allocateXrefId(),e.viewContextVariable,new xf,Qn.None));let r=n.job.views.get(e.view);for(let[o,s]of r.contextVariables){let a=new Kr(e.view),l=s===vS?a:new Rn(a,s);i.push($r(n.job.allocateXrefId(),e.contextVariables.get(o),l,Qn.None))}for(let o of r.aliases)i.push($r(n.job.allocateXrefId(),o,o.expression.clone(),Qn.AlwaysInline));for(let o of e.references)i.push($r(n.job.allocateXrefId(),o.variable,new Ef(o.targetId,o.targetSlot,o.offset),Qn.None));if(e.view!==n.xref||t)for(let o of e.letDeclarations)i.push($r(n.job.allocateXrefId(),o.variable,new Uu(o.targetId,o.targetSlot),Qn.None));return e.parent!==null&&i.push(...Rd(n,e.parent,!1)),i}function nP(n){for(let e of n.units)for(let t of e.ops())pt(t,i=>i instanceof zu?M(n.addConst(i.expr)):i,Ae.None)}var xx="style.",wx="class.",iP="style!",Sx="class!",Tx="!important";function rP(n){for(let e of n.root.update)if(e.kind===_.Binding&&e.bindingKind===j.Property)if(e.name.endsWith(Tx)&&(e.name=e.name.substring(0,e.name.length-Tx.length)),e.name.startsWith(xx)){e.bindingKind=j.StyleProperty,e.name=e.name.substring(xx.length),oP(e.name)||(e.name=sP(e.name));let{property:t,suffix:i}=Xm(e.name);e.name=t,e.unit=i}else e.name.startsWith(iP)?(e.bindingKind=j.StyleProperty,e.name="style"):e.name.startsWith(wx)?(e.bindingKind=j.ClassName,e.name=Xm(e.name.substring(wx.length)).property):e.name.startsWith(Sx)&&(e.bindingKind=j.ClassName,e.name=Xm(e.name.substring(Sx.length)).property)}function oP(n){return n.startsWith("--")}function sP(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function Xm(n){let e=n.indexOf("!important");e!==-1&&(n=e>0?n.substring(0,e):"");let t=null,i=n,r=n.lastIndexOf(".");return r>0&&(t=n.slice(r+1),i=n.substring(0,r)),{property:i,suffix:t}}function Yg(n,e=!1){return an(Object.keys(n).map(t=>({key:t,quoted:e,value:n[t]})))}var Jg=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}formatPh(e){return`{${ic(e,!1)}}`}},aP=new Jg;function ES(n){return n.visit(aP)}var gr=class{sourceSpan;i18n;constructor(e,t){this.sourceSpan=e,this.i18n=t}},is=class extends gr{value;tokens;constructor(e,t,i,r){super(t,r),this.value=e,this.tokens=i}visit(e,t){return e.visitText(this,t)}},qo=class extends gr{switchValue;type;cases;switchValueSourceSpan;constructor(e,t,i,r,o,s){super(r,s),this.switchValue=e,this.type=t,this.cases=i,this.switchValueSourceSpan=o}visit(e,t){return e.visitExpansion(this,t)}},kf=class{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(e,t,i,r,o){this.value=e,this.expression=t,this.sourceSpan=i,this.valueSourceSpan=r,this.expSourceSpan=o}visit(e,t){return e.visitExpansionCase(this,t)}},Zg=class extends gr{name;value;keySpan;valueSpan;valueTokens;constructor(e,t,i,r,o,s,a){super(i,a),this.name=e,this.value=t,this.keySpan=r,this.valueSpan=o,this.valueTokens=s}visit(e,t){return e.visitAttribute(this,t)}},Gn=class extends gr{name;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;isVoid;constructor(e,t,i,r,o,s,a,l=null,u,d){super(s,d),this.name=e,this.attrs=t,this.directives=i,this.children=r,this.isSelfClosing=o,this.startSourceSpan=a,this.endSourceSpan=l,this.isVoid=u}visit(e,t){return e.visitElement(this,t)}},Wu=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}},Wn=class extends gr{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a=null,l){super(r,l),this.name=e,this.parameters=t,this.children=i,this.nameSpan=o,this.startSourceSpan=s,this.endSourceSpan=a}visit(e,t){return e.visitBlock(this,t)}},vn=class extends gr{componentName;tagName;fullName;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a,l,u,d=null,p){super(l,p),this.componentName=e,this.tagName=t,this.fullName=i,this.attrs=r,this.directives=o,this.children=s,this.isSelfClosing=a,this.startSourceSpan=u,this.endSourceSpan=d}visit(e,t){return e.visitComponent(this,t)}},Kg=class{name;attrs;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o=null){this.name=e,this.attrs=t,this.sourceSpan=i,this.startSourceSpan=r,this.endSourceSpan=o}visit(e,t){return e.visitDirective(this,t)}},Nf=class{expression;sourceSpan;constructor(e,t){this.expression=e,this.sourceSpan=t}visit(e,t){return e.visitBlockParameter(this,t)}},Pf=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.nameSpan=r,this.valueSpan=o}visit(e,t){return e.visitLetDeclaration(this,t)}};function Je(n,e,t=null){let i=[],r=n.visit?o=>n.visit(o,t)||o.visit(n,t):o=>o.visit(n,t);return e.forEach(o=>{let s=r(o);s&&i.push(s)}),i}var Qu={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},xS="\uE500";Qu.ngsp=xS;var Xg=class{tokens;errors;nonNormalizedIcuExpressions;constructor(e,t,i){this.tokens=e,this.errors=t,this.nonNormalizedIcuExpressions=i}};function lP(n,e,t,i={}){let r=new t0(new _f(n,e),t,i);return r.tokenize(),new Xg(_P(r.tokens),r.errors,r.nonNormalizedIcuExpressions)}var uP=/\r\n?/g;function Zs(n){return`Unexpected character "${n===Rt?"EOF":String.fromCharCode(n)}"`}function bx(n){return`Unknown entity "${n}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function cP(n,e){return`Unable to parse entity "${e}" - ${n} character reference entities must end with ";"`}var e0=(function(n){return n.HEX="hexadecimal",n.DEC="decimal",n})(e0||{}),dP=["@if","@else","@for","@switch","@case","@default","@empty","@defer","@placeholder","@loading","@error"],t0=class{_getTagDefinition;_cursor;_tokenizeIcu;_interpolationConfig;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_openDirectiveCount=0;_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;_selectorlessEnabled;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(e,t,i){this._getTagDefinition=t,this._tokenizeIcu=i.tokenizeExpansionForms||!1,this._interpolationConfig=i.interpolationConfig||Oi,this._leadingTriviaCodePoints=i.leadingTriviaChars&&i.leadingTriviaChars.map(o=>o.codePointAt(0)||0);let r=i.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=i.escapedString?new n0(e,r):new Rf(e,r),this._preserveLineEndings=i.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=i.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=i.tokenizeBlocks??!0,this._tokenizeLet=i.tokenizeLet??!0,this._selectorlessEnabled=i.selectorlessEnabled??!1;try{this._cursor.init()}catch(o){this.handleError(o)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(uP,`
`)}tokenize(){for(;this._cursor.peek()!==Rt;){let e=this._cursor.clone();try{this._attemptCharCode(ua)?this._attemptCharCode(Rg)?this._attemptCharCode(Wr)?this._consumeCdata(e):this._attemptCharCode(gf)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(di)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===js&&!this._inInterpolation&&this._isLetStart()?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._isBlockStart()?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(rn)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(t){this.handleError(t)}}this._beginToken(41),this._endToken([])}_getBlockName(){let e=!1,t=this._cursor.clone();return this._attemptCharCodeUntilFn(i=>Fu(i)?!e:vP(i)?(e=!0,!1):!0),this._cursor.getChars(t).trim()}_consumeBlockStart(e){this._requireCharCode(js),this._beginToken(24,e);let t=this._endToken([this._getBlockName()]);if(this._cursor.peek()===hi)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(et),this._attemptCharCode(nn))this._attemptCharCodeUntilFn(et);else{t.type=28;return}this._attemptCharCode(pi)?(this._beginToken(25),this._endToken([])):t.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(Dx);this._cursor.peek()!==nn&&this._cursor.peek()!==Rt;){this._beginToken(27);let e=this._cursor.clone(),t=null,i=0;for(;this._cursor.peek()!==Dn&&this._cursor.peek()!==Rt||t!==null;){let r=this._cursor.peek();if(r===ca)this._cursor.advance();else if(r===t)t=null;else if(t===null&&nu(r))t=r;else if(r===hi&&t===null)i++;else if(r===nn&&t===null){if(i===0)break;i>0&&i--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(Dx)}}_consumeLetDeclaration(e){if(this._requireStr("@let"),this._beginToken(29,e),Fu(this._cursor.peek()))this._attemptCharCodeUntilFn(et);else{let r=this._endToken([this._cursor.getChars(e)]);r.type=32;return}let t=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(et),!this._attemptCharCode(Wt)){t.type=32;return}this._attemptCharCodeUntilFn(r=>et(r)&&!vf(r)),this._consumeLetDeclarationValue(),this._cursor.peek()===Dn?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(t.type=32,t.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),t=!1;return this._attemptCharCodeUntilFn(i=>xa(i)||i===Xf||i===to||t&&fi(i)?(t=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==Rt;){let t=this._cursor.peek();if(t===Dn)break;nu(t)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(i=>i===ca?(this._cursor.advance(),!1):i===t)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(mP(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===rn){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t){if(this._currentTokenStart===null)throw new ee(this._cursor.getSpan(t),"Programming error - attempted to end a token when there was no start to the token");if(this._currentTokenType===null)throw new ee(this._cursor.getSpan(this._currentTokenStart),"Programming error - attempted to end a token which has no token type");let i={type:this._currentTokenType,parts:e,sourceSpan:(t??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(i),this._currentTokenStart=null,this._currentTokenType=null,i}_createError(e,t){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let i=new ee(t,e);return this._currentTokenStart=null,this._currentTokenType=null,i}handleError(e){if(e instanceof ju&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof ee)this.errors.push(e);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return gP(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Zs(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){let t=e.length;if(this._cursor.charsLeft()<t)return!1;let i=this._cursor.clone();for(let r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=i,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){let t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Zs(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){let i=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(i)<t)throw this._createError(Zs(this._cursor.peek()),this._cursor.getSpan(i))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_peekStr(e){let t=e.length;if(this._cursor.charsLeft()<t)return!1;let i=this._cursor.clone();for(let r=0;r<t;r++){if(i.peek()!==e.charCodeAt(r))return!1;i.advance()}return!0}_isBlockStart(){return this._cursor.peek()===js&&dP.some(e=>this._peekStr(e))}_isLetStart(){return this._cursor.peek()===js&&this._peekStr("@let")}_consumeEntity(e){this._beginToken(9);let t=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(Hw)){let i=this._attemptCharCode(Zw)||this._attemptCharCode(Nk),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(pP),this._cursor.peek()!=Dn){this._cursor.advance();let s=i?e0.HEX:e0.DEC;throw this._createError(cP(s,this._cursor.getChars(t)),this._cursor.getSpan())}let o=this._cursor.getChars(r);this._cursor.advance();try{let s=parseInt(o,i?16:10);this._endToken([String.fromCodePoint(s),this._cursor.getChars(t)])}catch{throw this._createError(bx(this._cursor.getChars(t)),this._cursor.getSpan())}}else{let i=this._cursor.clone();if(this._attemptCharCodeUntilFn(hP),this._cursor.peek()!=Dn)this._beginToken(e,t),this._cursor=i,this._endToken(["&"]);else{let r=this._cursor.getChars(i);this._cursor.advance();let o=Qu.hasOwnProperty(r)&&Qu[r];if(!o)throw this._createError(bx(r),this._cursor.getSpan(t));this._endToken([o,`&${r};`])}}}_consumeRawText(e,t){this._beginToken(e?6:7);let i=[];for(;;){let r=this._cursor.clone(),o=t();if(this._cursor=r,o)break;e&&this._cursor.peek()===mf?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(6),this._beginToken(6)):i.push(this._readChar())}this._endToken([this._processCarriageReturns(i.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(gf),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let t=this._cursor.clone();this._attemptUntilChar(zn);let i=this._cursor.getChars(t);this._cursor.advance(),this._endToken([i])}_consumePrefixAndName(e){let t=this._cursor.clone(),i="";for(;this._cursor.peek()!==lr&&!fP(this._cursor.peek());)this._cursor.advance();let r;this._cursor.peek()===lr?(i=this._cursor.getChars(t),this._cursor.advance(),r=this._cursor.clone()):r=t,this._requireCharCodeUntilFn(e,i===""?0:1);let o=this._cursor.getChars(r);return[i,o]}_consumeTagOpen(e){let t,i,r,o;try{if(this._selectorlessEnabled&&yd(this._cursor.peek()))o=this._consumeComponentOpenStart(e),[r,i,t]=o.parts,i&&(r+=`:${i}`),t&&(r+=`:${t}`),this._attemptCharCodeUntilFn(et);else{if(!xa(this._cursor.peek()))throw this._createError(Zs(this._cursor.peek()),this._cursor.getSpan(e));o=this._consumeTagOpenStart(e),i=o.parts[0],t=r=o.parts[1],this._attemptCharCodeUntilFn(et)}for(;!Mx(this._cursor.peek());)if(this._selectorlessEnabled&&this._cursor.peek()===js){let a=this._cursor.clone(),l=a.clone();l.advance(),yd(l.peek())&&this._consumeDirective(a,l)}else this._consumeAttribute();o.type===33?this._consumeComponentOpenEnd():this._consumeTagOpenEnd()}catch(a){if(a instanceof ee){o?o.type=o.type===33?37:4:(this._beginToken(5,e),this._endToken(["<"]));return}throw a}let s=this._getTagDefinition(t).getContentType(i);s===Li.RAW_TEXT?this._consumeRawTextWithTagClose(o,r,!1):s===Li.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(o,r,!0)}_consumeRawTextWithTagClose(e,t,i){this._consumeRawText(i,()=>!this._attemptCharCode(ua)||!this._attemptCharCode(di)||(this._attemptCharCodeUntilFn(et),!this._attemptStrCaseInsensitive(t))?!1:(this._attemptCharCodeUntilFn(et),this._attemptCharCode(zn))),this._beginToken(e.type===33?36:3),this._requireCharCodeUntilFn(r=>r===zn,3),this._cursor.advance(),this._endToken(e.parts)}_consumeTagOpenStart(e){this._beginToken(0,e);let t=this._consumePrefixAndName(Io);return this._endToken(t)}_consumeComponentOpenStart(e){this._beginToken(33,e);let t=this._consumeComponentName();return this._endToken(t)}_consumeComponentName(){let e=this._cursor.clone();for(;Ax(this._cursor.peek());)this._cursor.advance();let t=this._cursor.getChars(e),i="",r="";return this._cursor.peek()===lr&&(this._cursor.advance(),[i,r]=this._consumePrefixAndName(Io)),[t,i,r]}_consumeAttribute(){this._consumeAttributeName(),this._attemptCharCodeUntilFn(et),this._attemptCharCode(Wt)&&(this._attemptCharCodeUntilFn(et),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(et)}_consumeAttributeName(){let e=this._cursor.peek();if(e===Ru||e===Pu)throw this._createError(Zs(e),this._cursor.getSpan());this._beginToken(14);let t;if(this._openDirectiveCount>0){let r=0;t=o=>{if(this._openDirectiveCount>0){if(o===hi)r++;else if(o===nn){if(r===0)return!0;r--}}return Io(o)}}else if(e===Wr){let r=0;t=o=>(o===Wr?r++:o===Fo&&r--,r<=0?Io(o):vf(o))}else t=Io;let i=this._consumePrefixAndName(t);this._endToken(i)}_consumeAttributeValue(){if(this._cursor.peek()===Ru||this._cursor.peek()===Pu){let e=this._cursor.peek();this._consumeQuote(e);let t=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,t,t),this._consumeQuote(e)}else{let e=()=>Io(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(di)?2:1;this._beginToken(e),this._requireCharCode(zn),this._endToken([])}_consumeComponentOpenEnd(){let e=this._attemptCharCode(di)?35:34;this._beginToken(e),this._requireCharCode(zn),this._endToken([])}_consumeTagClose(e){if(this._selectorlessEnabled){let i=e.clone();for(;i.peek()!==zn&&!yd(i.peek());)i.advance();if(yd(i.peek())){this._beginToken(36,e);let r=this._consumeComponentName();this._attemptCharCodeUntilFn(et),this._requireCharCode(zn),this._endToken(r);return}}this._beginToken(3,e),this._attemptCharCodeUntilFn(et);let t=this._consumePrefixAndName(Io);this._attemptCharCodeUntilFn(et),this._requireCharCode(zn),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(pi),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(Jn),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{let r=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(r)}this._requireCharCode(Jn),this._attemptCharCodeUntilFn(et),this._beginToken(7);let i=this._readUntil(Jn);this._endToken([i]),this._requireCharCode(Jn),this._attemptCharCodeUntilFn(et)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(pi).trim();this._endToken([e]),this._attemptCharCodeUntilFn(et),this._beginToken(21),this._requireCharCode(pi),this._endToken([]),this._attemptCharCodeUntilFn(et),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(rn),this._endToken([]),this._attemptCharCodeUntilFn(et),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(rn),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,t,i,r){this._beginToken(e);let o=[];for(;!i();){let s=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(o.join(""))],s),o.length=0,this._consumeInterpolation(t,s,r),this._beginToken(e)):this._cursor.peek()===mf?(this._endToken([this._processCarriageReturns(o.join(""))]),o.length=0,this._consumeEntity(e),this._beginToken(e)):o.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(o.join(""))])}_consumeInterpolation(e,t,i){let r=[];this._beginToken(e,t),r.push(this._interpolationConfig.start);let o=this._cursor.clone(),s=null,a=!1;for(;this._cursor.peek()!==Rt&&(i===null||!i());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,r.push(this._getProcessedChars(o,l)),this._endToken(r);return}if(s===null)if(this._attemptStr(this._interpolationConfig.end)){r.push(this._getProcessedChars(o,l)),r.push(this._interpolationConfig.end),this._endToken(r);return}else this._attemptStr("//")&&(a=!0);let u=this._cursor.peek();this._cursor.advance(),u===ca?this._cursor.advance():u===s?s=null:!a&&s===null&&nu(u)&&(s=u)}r.push(this._getProcessedChars(o,this._cursor)),this._endToken(r)}_consumeDirective(e,t){for(this._requireCharCode(js),this._cursor.advance();Ax(this._cursor.peek());)this._cursor.advance();this._beginToken(38,e);let i=this._cursor.getChars(t);if(this._endToken([i]),this._attemptCharCodeUntilFn(et),this._cursor.peek()===hi){for(this._openDirectiveCount++,this._beginToken(39),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(et);!Mx(this._cursor.peek())&&this._cursor.peek()!==nn;)this._consumeAttribute();if(this._attemptCharCodeUntilFn(et),this._openDirectiveCount--,this._cursor.peek()!==nn){if(this._cursor.peek()===zn||this._cursor.peek()===di)return;throw this._createError(Zs(this._cursor.peek()),this._cursor.getSpan(e))}this._beginToken(40),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(et)}}_getProcessedChars(e,t){return this._processCarriageReturns(t.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===Rt||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===rn&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._isBlockStart()||this._isLetStart()||this._cursor.peek()===rn))}_isTagStart(){if(this._cursor.peek()===ua){let e=this._cursor.clone();e.advance();let t=e.peek();if(Ko<=t&&t<=rc||eo<=t&&t<=ka||t===di||t===Rg)return!0}return!1}_readUntil(e){let t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==pi)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}};function et(n){return!Fu(n)||n===Rt}function Io(n){return Fu(n)||n===zn||n===ua||n===di||n===Ru||n===Pu||n===Wt||n===Rt}function fP(n){return(n<Ko||rc<n)&&(n<eo||ka<n)&&(n<Q0||n>Gw)}function pP(n){return n===Dn||n===Rt||!Lk(n)}function hP(n){return n===Dn||n===Rt||!xa(n)}function mP(n){return n!==rn}function gP(n,e){return Ix(n)===Ix(e)}function Ix(n){return n>=Ko&&n<=rc?n-Ko+eo:n}function vP(n){return xa(n)||fi(n)||n===to}function Dx(n){return n!==Dn&&et(n)}function yd(n){return n===to||n>=eo&&n<=ka}function Ax(n){return xa(n)||fi(n)||n===to}function Mx(n){return n===di||n===zn||n===ua||n===Rt}function _P(n){let e=[],t;for(let i=0;i<n.length;i++){let r=n[i];t&&t.type===5&&r.type===5||t&&t.type===16&&r.type===16?(t.parts[0]+=r.parts[0],t.sourceSpan.end=r.sourceSpan.end):(t=r,e.push(t))}return e}var Rf=class n{state;file;input;end;constructor(e,t){if(e instanceof n){this.file=e.file,this.input=e.input,this.end=e.end;let i=e.state;this.state={peek:i.peek,offset:i.offset,line:i.line,column:i.column}}else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new n(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){e=e||this;let i=e;if(t)for(;this.diff(e)>0&&t.indexOf(e.peek())!==-1;)i===e&&(e=e.clone()),e.advance();let r=this.locationFromCursor(e),o=this.locationFromCursor(this),s=i!==e?this.locationFromCursor(i):r;return new re(r,o,s)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new ju('Unexpected character "EOF"',this);let t=this.charAt(e.offset);t===Bo?(e.line++,e.column=0):vf(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?Rt:this.charAt(e.offset)}locationFromCursor(e){return new Lu(e.file,e.state.offset,e.state.line,e.state.column)}},n0=class n extends Rf{internalState;constructor(e,t){e instanceof n?(super(e),this.internalState=I({},e.internalState)):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new n(this)}getChars(e){let t=e.clone(),i="";for(;t.internalState.offset<this.internalState.offset;)i+=String.fromCodePoint(t.peek()),t.advance();return i}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===ca)if(this.internalState=I({},this.state),this.advanceState(this.internalState),e()===Ww)this.state.peek=Bo;else if(e()===Qw)this.state.peek=W0;else if(e()===Jw)this.state.peek=qw;else if(e()===jw)this.state.peek=G0;else if(e()===Rk)this.state.peek=Ik;else if(e()===j0)this.state.peek=Uw;else if(e()===Yw)if(this.advanceState(this.internalState),e()===pi){this.advanceState(this.internalState);let t=this.clone(),i=0;for(;e()!==rn;)this.advanceState(this.internalState),i++;this.state.peek=this.decodeHexDigits(t,i)}else{let t=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,4)}else if(e()===Zw){this.advanceState(this.internalState);let t=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,2)}else if(ox(e())){let t="",i=0,r=this.clone();for(;ox(e())&&i<3;)r=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),i++;this.state.peek=parseInt(t,8),this.internalState=r.internalState}else vf(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){let i=this.input.slice(e.internalState.offset,e.internalState.offset+t),r=parseInt(i,16);if(isNaN(r))throw e.state=e.internalState,new ju("Invalid hexadecimal escape sequence",e);return r}},ju=class extends Error{msg;cursor;constructor(e,t){super(e),this.msg=e,this.cursor=t,Object.setPrototypeOf(this,new.target.prototype)}},ft=class n extends ee{elementName;static create(e,t,i){return new n(e,t,i)}constructor(e,t,i){super(t,i),this.elementName=e}},Ff=class{rootNodes;errors;constructor(e,t){this.rootNodes=e,this.errors=t}},yP=class{getTagDefinition;constructor(e){this.getTagDefinition=e}parse(e,t,i){let r=lP(e,t,this.getTagDefinition,i),o=new i0(r.tokens,this.getTagDefinition);return o.build(),new Ff(o.rootNodes,[...r.errors,...o.errors])}},i0=class n{tokens;tagDefinitionResolver;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(e,t){this.tokens=e,this.tagDefinitionResolver=t,this._advance()}build(){for(;this._peek.type!==41;)this._peek.type===0||this._peek.type===4?this._consumeElementStartTag(this._advance()):this._peek.type===3?this._consumeElementEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._peek.type===33||this._peek.type===37?this._consumeComponentStartTag(this._advance()):this._peek.type===36?this._consumeComponentEndTag(this._advance()):this._advance();for(let e of this._containerStack)e instanceof Wn&&this.errors.push(ft.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let t=this._advanceIf(7),i=this._advanceIf(11),r=t!=null?t.parts[0].trim():null,o=i==null?e.sourceSpan:new re(e.sourceSpan.start,i.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Wu(r,o))}_consumeExpansion(e){let t=this._advance(),i=this._advance(),r=[];for(;this._peek.type===20;){let s=this._parseExpansionCase();if(!s)return;r.push(s)}if(this._peek.type!==23){this.errors.push(ft.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let o=new re(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new qo(t.parts[0],i.parts[0],r,o,t.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(ft.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let t=this._advance(),i=this._collectExpansionExpTokens(t);if(!i)return null;let r=this._advance();i.push({type:41,parts:[],sourceSpan:r.sourceSpan});let o=new n(i,this.tagDefinitionResolver);if(o.build(),o.errors.length>0)return this.errors=this.errors.concat(o.errors),null;let s=new re(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart),a=new re(t.sourceSpan.start,r.sourceSpan.end,t.sourceSpan.fullStart);return new kf(e.parts[0],o.rootNodes,s,e.sourceSpan,a)}_collectExpansionExpTokens(e){let t=[],i=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&i.push(this._peek.type),this._peek.type===22)if(kx(i,21)){if(i.pop(),i.length===0)return t}else return this.errors.push(ft.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(kx(i,19))i.pop();else return this.errors.push(ft.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===41)return this.errors.push(ft.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=[e],i=e.sourceSpan,r=e.parts[0];if(r.length>0&&r[0]===`
`){let o=this._getContainer();o!=null&&o.children.length===0&&this._getTagDefinition(o)?.ignoreFirstLf&&(r=r.substring(1),t[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[r]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),t.push(e),e.type===8?r+=e.parts.join("").replace(/&([^;]+);/g,Nx):e.type===9?r+=e.parts[0]:r+=e.parts.join("");if(r.length>0){let o=e.sourceSpan;this._addToParent(new is(r,new re(i.start,o.end,i.fullStart,i.details),t))}}_closeVoidElement(){let e=this._getContainer();e!==null&&this._getTagDefinition(e)?.isVoid&&this._containerStack.pop()}_consumeElementStartTag(e){let t=[],i=[];this._consumeAttributesAndDirectives(t,i);let r=this._getElementFullName(e,this._getClosestElementLikeParent()),o=this._getTagDefinition(r),s=!1;this._peek.type===2?(this._advance(),s=!0,o?.canSelfClose||Tg(r)!==null||o?.isVoid||this.errors.push(ft.create(r,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))):this._peek.type===1&&(this._advance(),s=!1);let a=this._peek.sourceSpan.fullStart,l=new re(e.sourceSpan.start,a,e.sourceSpan.fullStart),u=new re(e.sourceSpan.start,a,e.sourceSpan.fullStart),d=new Gn(r,t,i,[],s,l,u,void 0,o?.isVoid??!1),p=this._getContainer(),h=p!==null&&!!this._getTagDefinition(p)?.isClosedByChild(d.name);this._pushContainer(d,h),s?this._popContainer(r,Gn,l):e.type===4&&(this._popContainer(r,Gn,null),this.errors.push(ft.create(r,l,`Opening tag "${r}" not terminated.`)))}_consumeComponentStartTag(e){let t=e.parts[0],i=[],r=[];this._consumeAttributesAndDirectives(i,r);let o=this._getClosestElementLikeParent(),s=this._getComponentTagName(e,o),a=this._getComponentFullName(e,o),l=this._peek.type===35;this._advance();let u=this._peek.sourceSpan.fullStart,d=new re(e.sourceSpan.start,u,e.sourceSpan.fullStart),p=new re(e.sourceSpan.start,u,e.sourceSpan.fullStart),h=new vn(t,s,a,i,r,[],l,d,p,void 0),v=this._getContainer(),x=v!==null&&h.tagName!==null&&!!this._getTagDefinition(v)?.isClosedByChild(h.tagName);this._pushContainer(h,x),l?this._popContainer(a,vn,d):e.type===37&&(this._popContainer(a,vn,null),this.errors.push(ft.create(a,d,`Opening tag "${a}" not terminated.`)))}_consumeAttributesAndDirectives(e,t){for(;this._peek.type===14||this._peek.type===38;)this._peek.type===38?t.push(this._consumeDirective(this._peek)):e.push(this._consumeAttr(this._advance()))}_consumeComponentEndTag(e){let t=this._getComponentFullName(e,this._getClosestElementLikeParent());if(!this._popContainer(t,vn,e.sourceSpan)){let i=this._containerStack[this._containerStack.length-1],r;i instanceof vn&&i.componentName===e.parts[0]?r=`, did you mean "${i.fullName}"?`:r=". It may happen when the tag has already been closed by another tag.";let o=`Unexpected closing tag "${t}"${r}`;this.errors.push(ft.create(t,e.sourceSpan,o))}}_getTagDefinition(e){return typeof e=="string"?this.tagDefinitionResolver(e):e instanceof Gn?this.tagDefinitionResolver(e.name):e instanceof vn&&e.tagName!==null?this.tagDefinitionResolver(e.tagName):null}_pushContainer(e,t){t&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeElementEndTag(e){let t=this._getElementFullName(e,this._getClosestElementLikeParent());if(this._getTagDefinition(t)?.isVoid)this.errors.push(ft.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(t,Gn,e.sourceSpan)){let i=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(ft.create(t,e.sourceSpan,i))}}_popContainer(e,t,i){let r=!1;for(let o=this._containerStack.length-1;o>=0;o--){let s=this._containerStack[o];if(((s instanceof vn?s.fullName:s.name)===e||e===null)&&s instanceof t)return s.endSourceSpan=i,s.sourceSpan.end=i!==null?i.end:s.sourceSpan.end,this._containerStack.splice(o,this._containerStack.length-o),!r;(s instanceof Wn||!this._getTagDefinition(s)?.closedByParent)&&(r=!0)}return!1}_consumeAttr(e){let t=Pd(e.parts[0],e.parts[1]),i=e.sourceSpan.end;this._peek.type===15&&this._advance();let r="",o=[],s,a;if(this._peek.type===16)for(s=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let d=this._advance();o.push(d),d.type===17?r+=d.parts.join("").replace(/&([^;]+);/g,Nx):d.type===9?r+=d.parts[0]:r+=d.parts.join(""),a=i=d.sourceSpan.end}this._peek.type===15&&(i=this._advance().sourceSpan.end);let u=s&&a&&new re(s.start,a,s.fullStart);return new Zg(t,r,new re(e.sourceSpan.start,i,e.sourceSpan.fullStart),e.sourceSpan,u,o.length>0?o:void 0,void 0)}_consumeDirective(e){let t=[],i=e.sourceSpan.end,r=null;if(this._advance(),this._peek.type===39){for(i=this._peek.sourceSpan.end,this._advance();this._peek.type===14;)t.push(this._consumeAttr(this._advance()));this._peek.type===40?(r=this._peek.sourceSpan,this._advance()):this.errors.push(ft.create(null,e.sourceSpan,"Unterminated directive definition"))}let o=new re(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new re(o.start,r===null?e.sourceSpan.end:r.end,o.fullStart);return new Kg(e.parts[0],t,s,o,r)}_consumeBlockOpen(e){let t=[];for(;this._peek.type===27;){let a=this._advance();t.push(new Nf(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let i=this._peek.sourceSpan.fullStart,r=new re(e.sourceSpan.start,i,e.sourceSpan.fullStart),o=new re(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new Wn(e.parts[0],t,[],r,e.sourceSpan,o);this._pushContainer(s,!1)}_consumeBlockClose(e){this._popContainer(null,Wn,e.sourceSpan)||this.errors.push(ft.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let t=[];for(;this._peek.type===27;){let a=this._advance();t.push(new Nf(a.parts[0],a.sourceSpan))}let i=this._peek.sourceSpan.fullStart,r=new re(e.sourceSpan.start,i,e.sourceSpan.fullStart),o=new re(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new Wn(e.parts[0],t,[],r,e.sourceSpan,o);this._pushContainer(s,!1),this._popContainer(null,Wn,null),this.errors.push(ft.create(e.parts[0],r,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let t=e.parts[0],i,r;if(this._peek.type!==30){this.errors.push(ft.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${t}". Declaration must have a value.`));return}else i=this._advance();if(this._peek.type!==31){this.errors.push(ft.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${t}". Declaration must be terminated with a semicolon.`));return}else r=this._advance();let o=r.sourceSpan.fullStart,s=new re(e.sourceSpan.start,o,e.sourceSpan.fullStart),a=e.sourceSpan.toString().lastIndexOf(t),l=e.sourceSpan.start.moveBy(a),u=new re(l,e.sourceSpan.end),d=new Pf(t,i.parts[0],s,u,i.sourceSpan);this._addToParent(d)}_consumeIncompleteLet(e){let t=e.parts[0]??"",i=t?` "${t}"`:"";if(t.length>0){let r=e.sourceSpan.toString().lastIndexOf(t),o=e.sourceSpan.start.moveBy(r),s=new re(o,e.sourceSpan.end),a=new re(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new Pf(t,"",e.sourceSpan,s,a);this._addToParent(l)}this.errors.push(ft.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${i}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestElementLikeParent(){for(let e=this._containerStack.length-1;e>-1;e--){let t=this._containerStack[e];if(t instanceof Gn||t instanceof vn)return t}return null}_addToParent(e){let t=this._getContainer();t===null?this.rootNodes.push(e):t.children.push(e)}_getElementFullName(e,t){let i=this._getPrefix(e,t);return Pd(i,e.parts[1])}_getComponentFullName(e,t){let i=e.parts[0],r=this._getComponentTagName(e,t);return r===null?i:r.startsWith(":")?i+r:`${i}:${r}`}_getComponentTagName(e,t){let i=this._getPrefix(e,t),r=e.parts[2];return!i&&!r?null:!i&&r?r:Pd(i,r||"ng-component")}_getPrefix(e,t){let i,r;if(e.type===33||e.type===37||e.type===36?(i=e.parts[1],r=e.parts[2]):(i=e.parts[0],r=e.parts[1]),i=i||this._getTagDefinition(r)?.implicitNamespacePrefix||"",!i&&t){let o=t instanceof Gn?t.name:t.tagName;if(o!==null){let s=_i(o)[1],a=this._getTagDefinition(s);a!==null&&!a.preventNamespaceInheritance&&(i=Tg(o))}}return i}};function kx(n,e){return n.length>0&&n[n.length-1]===e}function Nx(n,e){return Qu[e]!==void 0?Qu[e]||n:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):n}var wS="ngPreserveWhitespaces",Px=new Set(["pre","template","textarea","script","style"]),SS=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,CP=new RegExp(`[^${SS}]`),EP=new RegExp(`[${SS}]{2,}`,"g");function Rx(n){return n.some(e=>e.name===wS)}function TS(n){return n.replace(new RegExp(xS,"g")," ")}var Lf=class{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(e,t,i=!0){this.preserveSignificantWhitespace=e,this.originalNodeMap=t,this.requireContext=i}visitElement(e,t){if(Px.has(e.name)||Rx(e.attrs)){let r=new Gn(e.name,Pi(this,e.attrs),Pi(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(r,e),r}let i=new Gn(e.name,e.attrs,e.directives,Pi(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(i,e),i}visitAttribute(e,t){return e.name!==wS?e:null}visitText(e,t){let i=e.value.match(CP),r=t&&(t.prev instanceof qo||t.next instanceof qo);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(i||r){let s=e.tokens.map(d=>d.type===5?TP(d):d);if(!this.preserveSignificantWhitespace&&s.length>0){let d=s[0];s.splice(0,1,xP(d,t));let p=s[s.length-1];s.splice(s.length-1,1,wP(p,t))}let a=IS(e.value),l=this.preserveSignificantWhitespace?a:SP(a,t),u=new is(l,e.sourceSpan,s,e.i18n);return this.originalNodeMap?.set(u,e),u}return null}visitComment(e,t){return e}visitExpansion(e,t){this.icuExpansionDepth++;let i;try{i=new qo(e.switchValue,e.type,Pi(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(i,e),i}visitExpansionCase(e,t){let i=new kf(e.value,Pi(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return this.originalNodeMap?.set(i,e),i}visitBlock(e,t){let i=new Wn(e.name,e.parameters,Pi(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return this.originalNodeMap?.set(i,e),i}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}visitComponent(e,t){if(e.tagName&&Px.has(e.tagName)||Rx(e.attrs)){let r=new vn(e.componentName,e.tagName,e.fullName,Pi(this,e.attrs),Pi(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}let i=new vn(e.componentName,e.tagName,e.fullName,e.attrs,e.directives,Pi(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(i,e),i}visitDirective(e,t){return e}visit(e,t){if(this.requireContext&&!t)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function xP(n,e){return n.type!==5||!!e?.prev?n:bS(n,i=>i.trimStart())}function wP(n,e){return n.type!==5||!!e?.next?n:bS(n,i=>i.trimEnd())}function SP(n,e){let t=!e?.prev,i=!e?.next,r=t?n.trimStart():n;return i?r.trimEnd():r}function TP({type:n,parts:e,sourceSpan:t}){return{type:n,parts:[IS(e[0])],sourceSpan:t}}function bS({type:n,parts:e,sourceSpan:t},i){return{type:n,parts:[i(e[0])],sourceSpan:t}}function IS(n){return TS(n).replace(EP," ")}function Pi(n,e){let t=[];return e.forEach((i,r)=>{let o={prev:e[r-1],next:e[r+1]},s=i.visit(n,o);s&&t.push(s)}),t}var fe=(function(n){return n[n.Character=0]="Character",n[n.Identifier=1]="Identifier",n[n.PrivateIdentifier=2]="PrivateIdentifier",n[n.Keyword=3]="Keyword",n[n.String=4]="String",n[n.Operator=5]="Operator",n[n.Number=6]="Number",n[n.Error=7]="Error",n})(fe||{}),Uo=(function(n){return n[n.Plain=0]="Plain",n[n.TemplateLiteralPart=1]="TemplateLiteralPart",n[n.TemplateLiteralEnd=2]="TemplateLiteralEnd",n})(Uo||{}),bP=["var","let","as","null","undefined","true","false","if","else","this","typeof","void","in"],Yu=class{tokenize(e){return new r0(e).scan()}},yi=class{index;end;type;numValue;strValue;constructor(e,t,i,r,o){this.index=e,this.end=t,this.type=i,this.numValue=r,this.strValue=o}isCharacter(e){return this.type===fe.Character&&this.numValue===e}isNumber(){return this.type===fe.Number}isString(){return this.type===fe.String}isOperator(e){return this.type===fe.Operator&&this.strValue===e}isIdentifier(){return this.type===fe.Identifier}isPrivateIdentifier(){return this.type===fe.PrivateIdentifier}isKeyword(){return this.type===fe.Keyword}isKeywordLet(){return this.type===fe.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===fe.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===fe.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===fe.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===fe.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===fe.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===fe.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===fe.Keyword&&this.strValue==="typeof"}isKeywordVoid(){return this.type===fe.Keyword&&this.strValue==="void"}isKeywordIn(){return this.type===fe.Keyword&&this.strValue==="in"}isError(){return this.type===fe.Error}toNumber(){return this.type===fe.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===Uo.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===Uo.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}toString(){switch(this.type){case fe.Character:case fe.Identifier:case fe.Keyword:case fe.Operator:case fe.PrivateIdentifier:case fe.String:case fe.Error:return this.strValue;case fe.Number:return this.numValue.toString();default:return null}}},iu=class extends yi{kind;constructor(e,t,i,r){super(e,t,fe.String,0,i),this.kind=r}};function Gl(n,e,t){return new yi(n,e,fe.Character,t,String.fromCharCode(t))}function IP(n,e,t){return new yi(n,e,fe.Identifier,0,t)}function DP(n,e,t){return new yi(n,e,fe.PrivateIdentifier,0,t)}function AP(n,e,t){return new yi(n,e,fe.Keyword,0,t)}function Wl(n,e,t){return new yi(n,e,fe.Operator,0,t)}function MP(n,e,t){return new yi(n,e,fe.Number,t,"")}function kP(n,e,t){return new yi(n,e,fe.Error,0,t)}var Cd=new yi(-1,-1,fe.Character,0,""),r0=class{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(e){this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?Rt:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,t=this.length,i=this.peek,r=this.index;for(;i<=$w;)if(++r>=t){i=Rt;break}else i=e.charCodeAt(r);if(this.peek=i,this.index=r,r>=t)return null;if(Fx(i))return this.scanIdentifier();if(fi(i))return this.scanNumber(r);let o=r;switch(i){case Jl:return this.advance(),fi(this.peek)?this.scanNumber(o):Gl(o,this.index,Jl);case hi:case nn:case Wr:case Fo:case Jn:case lr:case Dn:return this.scanCharacter(o,i);case pi:return this.scanOpenBrace(o,i);case rn:return this.scanCloseBrace(o,i);case Ru:case Pu:return this.scanString();case Fg:return this.advance(),this.scanTemplateLiteralPart(o);case Hw:return this.scanPrivateIdentifier();case zw:return this.scanComplexOperator(o,"+",Wt,"=");case gf:return this.scanComplexOperator(o,"-",Wt,"=");case di:return this.scanComplexOperator(o,"/",Wt,"=");case Dk:return this.scanComplexOperator(o,"%",Wt,"=");case Pk:return this.scanOperator(o,"^");case nx:return this.scanStar(o);case ix:return this.scanQuestion(o);case ua:case zn:return this.scanComplexOperator(o,String.fromCharCode(i),Wt,"=");case Rg:case Wt:return this.scanComplexOperator(o,String.fromCharCode(i),Wt,"=",Wt,"=");case mf:return this.scanComplexOperator(o,"&",mf,"&",Wt,"=");case rx:return this.scanComplexOperator(o,"|",rx,"|",Wt,"=");case Kw:for(;Fu(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(i)}]`,0)}scanCharacter(e,t){return this.advance(),Gl(e,this.index,t)}scanOperator(e,t){return this.advance(),Wl(e,this.index,t)}scanOpenBrace(e,t){return this.braceStack.push("expression"),this.advance(),Gl(e,this.index,t)}scanCloseBrace(e,t){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(Gl(e,this.index,rn)),this.scanTemplateLiteralPart(this.index)):Gl(e,this.index,t)}scanComplexOperator(e,t,i,r,o,s){this.advance();let a=t;return this.peek==i&&(this.advance(),a+=r),o!=null&&this.peek==o&&(this.advance(),a+=s),Wl(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();Lx(this.peek);)this.advance();let t=this.input.substring(e,this.index);return bP.indexOf(t)>-1?AP(e,this.index,t):IP(e,this.index,t)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!Fx(this.peek))return this.error("Invalid character [#]",-1);for(;Lx(this.peek);)this.advance();let t=this.input.substring(e,this.index);return DP(e,this.index,t)}scanNumber(e){let t=this.index===e,i=!1;for(this.advance();;){if(!fi(this.peek))if(this.peek===to){if(!fi(this.input.charCodeAt(this.index-1))||!fi(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);i=!0}else if(this.peek===Jl)t=!1;else if(NP(this.peek)){if(this.advance(),PP(this.peek)&&this.advance(),!fi(this.peek))return this.error("Invalid exponent",-1);t=!1}else break;this.advance()}let r=this.input.substring(e,this.index);i&&(r=r.replace(/_/g,""));let o=t?FP(r):parseFloat(r);return MP(e,this.index,o)}scanString(){let e=this.index,t=this.peek;this.advance();let i="",r=this.index,o=this.input;for(;this.peek!=t;)if(this.peek==ca){let a=this.scanStringBackslash(i,r);if(typeof a!="string")return a;i=a,r=this.index}else{if(this.peek==Rt)return this.error("Unterminated quote",0);this.advance()}let s=o.substring(r,this.index);return this.advance(),new iu(e,this.index,i+s,Uo.Plain)}scanQuestion(e){this.advance();let t="?";return this.peek===ix?(t+="?",this.advance(),this.peek===Wt&&(t+="=",this.advance())):this.peek===Jl&&(t+=".",this.advance()),Wl(e,this.index,t)}scanTemplateLiteralPart(e){let t="",i=this.index;for(;this.peek!==Fg;)if(this.peek===ca){let o=this.scanStringBackslash(t,i);if(typeof o!="string")return o;t=o,i=this.index}else if(this.peek===Xf){let o=this.index;if(this.advance(),this.peek===pi)return this.braceStack.push("interpolation"),this.tokens.push(new iu(e,o,t+this.input.substring(i,o),Uo.TemplateLiteralPart)),this.advance(),Wl(o,this.index,this.input.substring(o,this.index))}else{if(this.peek===Rt)return this.error("Unterminated template literal",0);this.advance()}let r=this.input.substring(i,this.index);return this.advance(),new iu(e,this.index,t+r,Uo.TemplateLiteralEnd)}error(e,t){let i=this.index+t;return kP(i,this.index,`Lexer Error: ${e} at column ${i} in expression [${this.input}]`)}scanStringBackslash(e,t){e+=this.input.substring(t,this.index);let i;if(this.advance(),this.peek===Yw){let r=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(r))i=parseInt(r,16);else return this.error(`Invalid unicode escape [\\u${r}]`,0);for(let o=0;o<5;o++)this.advance()}else i=RP(this.peek),this.advance();return e+=String.fromCharCode(i),e}scanStar(e){this.advance();let t="*";return this.peek===nx?(t+="*",this.advance(),this.peek===Wt&&(t+="=",this.advance())):this.peek===Wt&&(t+="=",this.advance()),Wl(e,this.index,t)}};function Fx(n){return Ko<=n&&n<=rc||eo<=n&&n<=ka||n==to||n==Xf}function Lx(n){return xa(n)||fi(n)||n==to||n==Xf}function NP(n){return n==Fk||n==Mk}function PP(n){return n==gf||n==zw}function RP(n){switch(n){case Ww:return Bo;case j0:return Uw;case Qw:return W0;case jw:return G0;case Jw:return qw;default:return n}}function FP(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var o0=class{strings;expressions;offsets;constructor(e,t,i){this.strings=e,this.expressions=t,this.offsets=i}},s0=class{templateBindings;warnings;errors;constructor(e,t,i){this.templateBindings=e,this.warnings=t,this.errors=i}};function Ur(n){return n.start.toString()||"(unknown)"}var Of=class{_lexer;_supportsDirectPipeReferences;constructor(e,t=!1){this._lexer=e,this._supportsDirectPipeReferences=t}parseAction(e,t,i,r=Oi){let o=[];this._checkNoInterpolation(o,e,t,r);let{stripped:s}=this._stripComments(e),a=this._lexer.tokenize(s),l=new ko(e,t,i,a,1,o,0,this._supportsDirectPipeReferences).parseChain();return new In(l,e,Ur(t),i,o)}parseBinding(e,t,i,r=Oi){let o=[],s=this._parseBindingAst(e,t,i,r,o);return new In(s,e,Ur(t),i,o)}checkSimpleExpression(e){let t=new a0;return e.visit(t),t.errors}parseSimpleBinding(e,t,i,r=Oi){let o=[],s=this._parseBindingAst(e,t,i,r,o),a=this.checkSimpleExpression(s);return a.length>0&&o.push(oa(`Host binding expression cannot contain ${a.join(" ")}`,e,"",t)),new In(s,e,Ur(t),i,o)}_parseBindingAst(e,t,i,r,o){this._checkNoInterpolation(o,e,t,r);let{stripped:s}=this._stripComments(e),a=this._lexer.tokenize(s);return new ko(e,t,i,a,0,o,0,this._supportsDirectPipeReferences).parseChain()}parseTemplateBindings(e,t,i,r,o){let s=this._lexer.tokenize(t),a=[];return new ko(t,i,o,s,0,a,0,this._supportsDirectPipeReferences).parseTemplateBindings({source:e,span:new kn(r,r+e.length)})}parseInterpolation(e,t,i,r,o=Oi){let s=[],{strings:a,expressions:l,offsets:u}=this.splitInterpolation(e,t,s,r,o);if(l.length===0)return null;let d=[];for(let p=0;p<l.length;++p){let h=r?.[p*2+1]?.sourceSpan,v=l[p].text,{stripped:x,hasComments:b}=this._stripComments(v),N=this._lexer.tokenize(x);if(b&&x.trim().length===0&&N.length===0){s.push(oa("Interpolation expression cannot only contain a comment",e,`at column ${l[p].start} in`,t));continue}let k=new ko(h?v:e,h||t,i,N,0,s,u[p],this._supportsDirectPipeReferences).parseChain();d.push(k)}return this.createInterpolationAst(a.map(p=>p.text),d,e,Ur(t),i,s)}parseInterpolationExpression(e,t,i){let{stripped:r}=this._stripComments(e),o=this._lexer.tokenize(r),s=[],a=new ko(e,t,i,o,0,s,0,this._supportsDirectPipeReferences).parseChain(),l=["",""];return this.createInterpolationAst(l,[a],e,Ur(t),i,s)}createInterpolationAst(e,t,i,r,o,s){let a=new jo(0,i.length),l=new nc(a,a.toAbsolute(o),e,t);return new In(l,i,r,o,s)}splitInterpolation(e,t,i,r,o=Oi){let s=[],a=[],l=[],u=r?LP(r):null,d=0,p=!1,h=!1,{start:v,end:x}=o;for(;d<e.length;)if(p){let b=d,N=b+v.length,k=this._getInterpolationEndIndex(e,x,N);if(k===-1){p=!1,h=!0;break}let U=k+x.length,$=e.substring(N,k);$.trim().length===0&&i.push(oa("Blank expressions are not allowed in interpolated strings",e,`at column ${d} in`,t)),a.push({text:$,start:b,end:U});let K=(u?.get(b)??b)+v.length;l.push(K),d=U,p=!1}else{let b=d;d=e.indexOf(v,d),d===-1&&(d=e.length);let N=e.substring(b,d);s.push({text:N,start:b,end:d}),p=!0}if(!p)if(h){let b=s[s.length-1];b.text+=e.substring(d),b.end=e.length}else s.push({text:e.substring(d),start:d,end:e.length});return new o0(s,a,l)}wrapLiteralPrimitive(e,t,i){let r=new jo(0,e==null?0:e.length);return new In(new bn(r,r.toAbsolute(i),e),e,typeof t=="string"?t:Ur(t),i,[])}_stripComments(e){let t=this._commentStart(e);return t!=null?{stripped:e.substring(0,t),hasComments:!0}:{stripped:e,hasComments:!1}}_commentStart(e){let t=null;for(let i=0;i<e.length-1;i++){let r=e.charCodeAt(i),o=e.charCodeAt(i+1);if(r===di&&o==di&&t==null)return i;t===r?t=null:t==null&&nu(r)&&(t=r)}return null}_checkNoInterpolation(e,t,i,{start:r,end:o}){let s=-1,a=-1;for(let l of this._forEachUnquotedChar(t,0))if(s===-1)t.startsWith(r)&&(s=l);else if(a=this._getInterpolationEndIndex(t,o,l),a>-1)break;s>-1&&a>-1&&e.push(oa(`Got interpolation (${r}${o}) where expression was expected`,t,`at column ${s} in`,i))}_getInterpolationEndIndex(e,t,i){for(let r of this._forEachUnquotedChar(e,i)){if(e.startsWith(t,r))return r;if(e.startsWith("//",r))return e.indexOf(t,r)}return-1}*_forEachUnquotedChar(e,t){let i=null,r=0;for(let o=t;o<e.length;o++){let s=e[o];nu(e.charCodeAt(o))&&(i===null||i===s)&&r%2===0?i=i===null?s:null:i===null&&(yield o),r=s==="\\"?r+1:0}}},Kl=(function(n){return n[n.None=0]="None",n[n.Writable=1]="Writable",n})(Kl||{}),ko=class{input;parseSourceSpan;absoluteOffset;tokens;parseFlags;errors;offset;supportsDirectPipeReferences;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=Kl.None;sourceSpanCache=new Map;index=0;constructor(e,t,i,r,o,s,a,l){this.input=e,this.parseSourceSpan=t,this.absoluteOffset=i,this.tokens=r,this.parseFlags=o,this.errors=s,this.offset=a,this.supportsDirectPipeReferences=l}peek(e){let t=this.index+e;return t<this.tokens.length?this.tokens[t]:Cd}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let i=this.currentEndIndex;if(t!==void 0&&t>this.currentEndIndex&&(i=t),e>i){let r=i;i=e,e=r}return new jo(e,i)}sourceSpan(e,t){let i=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(i)||this.sourceSpanCache.set(i,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(i)}advance(){this.index++}withContext(e,t){this.context|=e;let i=t();return this.context^=e,i}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}isAssignmentOperator(e){return e.type===fe.Operator&&tn.isAssignmentOperation(e.strValue)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Cd?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){let i=this.parsePipe();if(e.push(i),this.consumeOptionalCharacter(Dn))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(Dn););else if(this.index<this.tokens.length){let r=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===r)break}}if(e.length===0){let i=this.offset,r=this.offset+this.input.length;return new mn(this.span(i,r),this.sourceSpan(i,r))}return e.length==1?e[0]:new ma(this.span(t),this.sourceSpan(t),e)}parsePipe(){let e=this.inputIndex,t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let i=this.inputIndex,r=this.expectIdentifierOrKeyword(),o,s;r!==null?o=this.sourceSpan(i):(r="",s=this.next.index!==-1?this.next.index:this.input.length+this.offset,o=new jo(s,s).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(lr);)a.push(this.parseExpression());let l;if(this.supportsDirectPipeReferences){let u=r.charCodeAt(0);l=u===to||u>=eo&&u<=ka?Nd.ReferencedDirectly:Nd.ReferencedByName}else l=Nd.ReferencedByName;t=new Kd(this.span(e),this.sourceSpan(e,s),t,r,a,l,o)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let i=this.parsePipe(),r;if(this.consumeOptionalCharacter(lr))r=this.parsePipe();else{let o=this.inputIndex,s=this.input.substring(e,o);this.error(`Conditional expression ${s} requires all 3 expressions`),r=new mn(this.span(e),this.sourceSpan(e))}return new Zd(this.span(e),this.sourceSpan(e),t,i,r)}else return t}parseLogicalOr(){let e=this.inputIndex,t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let i=this.parseLogicalAnd();t=new tn(this.span(e),this.sourceSpan(e),"||",t,i)}return t}parseLogicalAnd(){let e=this.inputIndex,t=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let i=this.parseNullishCoalescing();t=new tn(this.span(e),this.sourceSpan(e),"&&",t,i)}return t}parseNullishCoalescing(){let e=this.inputIndex,t=this.parseEquality();for(;this.consumeOptionalOperator("??");){let i=this.parseEquality();t=new tn(this.span(e),this.sourceSpan(e),"??",t,i)}return t}parseEquality(){let e=this.inputIndex,t=this.parseRelational();for(;this.next.type==fe.Operator;){let i=this.next.strValue;switch(i){case"==":case"===":case"!=":case"!==":this.advance();let r=this.parseRelational();t=new tn(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseRelational(){let e=this.inputIndex,t=this.parseAdditive();for(;this.next.type==fe.Operator||this.next.isKeywordIn;){let i=this.next.strValue;switch(i){case"<":case">":case"<=":case">=":case"in":this.advance();let r=this.parseAdditive();t=new tn(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseAdditive(){let e=this.inputIndex,t=this.parseMultiplicative();for(;this.next.type==fe.Operator;){let i=this.next.strValue;switch(i){case"+":case"-":this.advance();let r=this.parseMultiplicative();t=new tn(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseMultiplicative(){let e=this.inputIndex,t=this.parseExponentiation();for(;this.next.type==fe.Operator;){let i=this.next.strValue;switch(i){case"*":case"%":case"/":this.advance();let r=this.parseExponentiation();t=new tn(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseExponentiation(){let e=this.inputIndex,t=this.parsePrefix();for(;this.next.type==fe.Operator&&this.next.strValue==="**";){(t instanceof la||t instanceof mu||t instanceof gu||t instanceof vu)&&this.error("Unary operator used immediately before exponentiation expression. Parenthesis must be used to disambiguate operator precedence"),this.advance();let i=this.parseExponentiation();t=new tn(this.span(e),this.sourceSpan(e),"**",t,i)}return t}parsePrefix(){if(this.next.type==fe.Operator){let e=this.inputIndex,t=this.next.strValue,i;switch(t){case"+":return this.advance(),i=this.parsePrefix(),la.createPlus(this.span(e),this.sourceSpan(e),i);case"-":return this.advance(),i=this.parsePrefix(),la.createMinus(this.span(e),this.sourceSpan(e),i);case"!":return this.advance(),i=this.parsePrefix(),new mu(this.span(e),this.sourceSpan(e),i)}}else if(this.next.isKeywordTypeof()){this.advance();let e=this.inputIndex,t=this.parsePrefix();return new gu(this.span(e),this.sourceSpan(e),t)}else if(this.next.isKeywordVoid()){this.advance();let e=this.inputIndex,t=this.parsePrefix();return new vu(this.span(e),this.sourceSpan(e),t)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(Jl))t=this.parseAccessMember(t,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(hi)?t=this.parseCall(t,e,!0):t=this.consumeOptionalCharacter(Wr)?this.parseKeyedReadOrWrite(t,e,!0):this.parseAccessMember(t,e,!0);else if(this.consumeOptionalCharacter(Wr))t=this.parseKeyedReadOrWrite(t,e,!1);else if(this.consumeOptionalCharacter(hi))t=this.parseCall(t,e,!1);else if(this.consumeOptionalOperator("!"))t=new _u(this.span(e),this.sourceSpan(e),t);else if(this.next.isTemplateLiteralEnd())t=this.parseNoInterpolationTaggedTemplateLiteral(t,e);else if(this.next.isTemplateLiteralPart())t=this.parseTaggedTemplateLiteral(t,e);else return t}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(hi)){this.rparensExpected++;let t=this.parsePipe();return this.consumeOptionalCharacter(nn)||(this.error("Missing closing parentheses"),this.consumeOptionalCharacter(nn)),this.rparensExpected--,new Eu(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isKeywordNull())return this.advance(),new bn(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new bn(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new bn(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new bn(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordIn())return this.advance(),new bn(this.span(e),this.sourceSpan(e),"in");if(this.next.isKeywordThis())return this.advance(),new Yo(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(Wr)){this.rbracketsExpected++;let t=this.parseExpressionList(Fo);return this.rbracketsExpected--,this.expectCharacter(Fo),new Xd(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isCharacter(pi))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new $i(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let t=this.next.toNumber();return this.advance(),new bn(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===Uo.Plain){let t=this.next.toString();return this.advance(),new bn(this.span(e),this.sourceSpan(e),t)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new mn(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new mn(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new mn(this.span(e),this.sourceSpan(e)))}}}}parseExpressionList(e){let t=[];do if(!this.next.isCharacter(e))t.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(Jn));return t}parseLiteralMap(){let e=[],t=[],i=this.inputIndex;if(this.expectCharacter(pi),!this.consumeOptionalCharacter(rn)){this.rbracesExpected++;do{let r=this.inputIndex,o=this.next.isString(),s=this.expectIdentifierOrKeywordOrString(),a={key:s,quoted:o};if(e.push(a),o)this.expectCharacter(lr),t.push(this.parsePipe());else if(this.consumeOptionalCharacter(lr))t.push(this.parsePipe());else{a.isShorthandInitialized=!0;let l=this.span(r),u=this.sourceSpan(r);t.push(new dr(l,u,u,new $i(l,u),s))}}while(this.consumeOptionalCharacter(Jn)&&!this.next.isCharacter(rn));this.rbracesExpected--,this.expectCharacter(rn)}return new ef(this.span(i),this.sourceSpan(i),e,t)}parseAccessMember(e,t,i){let r=this.inputIndex,o=this.withContext(Kl.Writable,()=>{let a=this.expectIdentifierOrKeyword()??"";return a.length===0&&this.error("Expected identifier for property access",e.span.end),a}),s=this.sourceSpan(r);if(i)return this.isAssignmentOperator(this.next)?(this.advance(),this.error("The '?.' operator cannot be used in the assignment"),new mn(this.span(t),this.sourceSpan(t))):new pu(this.span(t),this.sourceSpan(t),s,e,o);if(this.isAssignmentOperator(this.next)){let a=this.next.strValue;if(!(this.parseFlags&1))return this.advance(),this.error("Bindings cannot contain assignments"),new mn(this.span(t),this.sourceSpan(t));let l=new dr(this.span(t),this.sourceSpan(t),s,e,o);this.advance();let u=this.parseConditional();return new tn(this.span(t),this.sourceSpan(t),a,l,u)}else return new dr(this.span(t),this.sourceSpan(t),s,e,o)}parseCall(e,t,i){let r=this.inputIndex;this.rparensExpected++;let o=this.parseCallArguments(),s=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(nn),this.rparensExpected--;let a=this.span(t),l=this.sourceSpan(t);return i?new tf(a,l,e,o,s):new ga(a,l,e,o,s)}parseCallArguments(){if(this.next.isCharacter(nn))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(Jn));return e}expectTemplateBindingKey(){let e="",t=!1,i=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-");while(t);return{source:e,span:new kn(i,i+e.length)}}parseTemplateBindings(e){let t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let i=this.parseLetBinding();if(i)t.push(i);else{let r=this.expectTemplateBindingKey(),o=this.parseAsBinding(r);o?t.push(o):(r.source=e.source+r.source.charAt(0).toUpperCase()+r.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(r)))}this.consumeStatementTerminator()}return new s0(t,[],this.errors)}parseKeyedReadOrWrite(e,t,i){return this.withContext(Kl.Writable,()=>{this.rbracketsExpected++;let r=this.parsePipe();if(r instanceof mn&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(Fo),this.isAssignmentOperator(this.next)){let o=this.next.strValue;if(i)this.advance(),this.error("The '?.' operator cannot be used in the assignment");else{let s=new Jo(this.span(t),this.sourceSpan(t),e,r);this.advance();let a=this.parseConditional();return new tn(this.span(t),this.sourceSpan(t),o,s,a)}}else return i?new hu(this.span(t),this.sourceSpan(t),e,r):new Jo(this.span(t),this.sourceSpan(t),e,r);return new mn(this.span(t),this.sourceSpan(t))})}parseDirectiveKeywordBindings(e){let t=[];this.consumeOptionalCharacter(lr);let i=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,o=this.parseAsBinding(e);o||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);let s=new kn(e.span.start,r);return t.push(new xg(s,e,i)),o&&t.push(o),t}getDirectiveBoundTarget(){if(this.next===Cd||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:t,end:i}=e.span,r=this.input.substring(t,i);return new In(e,r,Ur(this.parseSourceSpan),this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let t=this.expectTemplateBindingKey();this.consumeStatementTerminator();let i=new kn(e.span.start,this.currentAbsoluteOffset);return new xu(i,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let t=this.expectTemplateBindingKey(),i=null;this.consumeOptionalOperator("=")&&(i=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let r=new kn(e,this.currentAbsoluteOffset);return new xu(r,t,i)}parseNoInterpolationTaggedTemplateLiteral(e,t){let i=this.parseNoInterpolationTemplateLiteral();return new yu(this.span(t),this.sourceSpan(t),e,i)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,t=this.inputIndex;this.advance();let i=this.span(t),r=this.sourceSpan(t);return new Cu(i,r,[new nf(i,r,e)],[])}parseTaggedTemplateLiteral(e,t){let i=this.parseTemplateLiteral();return new yu(this.span(t),this.sourceSpan(t),e,i)}parseTemplateLiteral(){let e=[],t=[],i=this.inputIndex;for(;this.next!==Cd;){let r=this.next;if(r.isTemplateLiteralPart()||r.isTemplateLiteralEnd()){let o=this.inputIndex;if(this.advance(),e.push(new nf(this.span(o),this.sourceSpan(o),r.strValue)),r.isTemplateLiteralEnd())break}else if(r.isTemplateLiteralInterpolationStart()){this.advance(),this.rbracesExpected++;let o=this.parsePipe();o instanceof mn?this.error("Template literal interpolation cannot be empty"):t.push(o),this.rbracesExpected--}else this.advance()}return new Cu(this.span(i),this.sourceSpan(i),e,t)}consumeStatementTerminator(){this.consumeOptionalCharacter(Dn)||this.consumeOptionalCharacter(Jn)}error(e,t=this.index){this.errors.push(oa(e,this.input,this.getErrorLocationText(t),this.parseSourceSpan)),this.skip()}getErrorLocationText(e){return e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,t){let i=`Private identifiers are not supported. Unexpected private identifier: ${e}`;t!==null&&(i+=`, ${t}`),this.error(i)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(Dn)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(nn))&&(this.rbracesExpected<=0||!e.isCharacter(rn))&&(this.rbracketsExpected<=0||!e.isCharacter(Fo))&&(!(this.context&Kl.Writable)||!this.isAssignmentOperator(e));)this.next.isError()&&this.errors.push(oa(this.next.toString(),this.input,this.getErrorLocationText(this.next.index),this.parseSourceSpan)),this.advance(),e=this.next}};function oa(n,e,t,i){t.length>0&&(t=` ${t} `);let r=Ur(i),o=`Parser Error: ${n}${t}[${e}] in ${r}`;return new ee(i,o)}var a0=class extends wu{errors=[];visitPipe(){this.errors.push("pipes")}};function LP(n){let e=new Map,t=0,i=0,r=0;for(;r<n.length;){let o=n[r];if(o.type===9){let[s,a]=o.parts;t+=a.length,i+=s.length}else{let s=o.parts.reduce((a,l)=>a+l.length,0);i+=s,t+=s}e.set(i,t),r++}return e}function OP(n){return n.visit(new l0)}var l0=class{visitUnary(e,t){return`${e.operator}${e.expr.visit(this,t)}`}visitBinary(e,t){return`${e.left.visit(this,t)} ${e.operation} ${e.right.visit(this,t)}`}visitChain(e,t){return e.expressions.map(i=>i.visit(this,t)).join("; ")}visitConditional(e,t){return`${e.condition.visit(this,t)} ? ${e.trueExp.visit(this,t)} : ${e.falseExp.visit(this,t)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,t){return BP(e.strings,e.expressions.map(i=>i.visit(this,t))).join("")}visitKeyedRead(e,t){return`${e.receiver.visit(this,t)}[${e.key.visit(this,t)}]`}visitLiteralArray(e,t){return`[${e.expressions.map(i=>i.visit(this,t)).join(", ")}]`}visitLiteralMap(e,t){return`{${VP(e.keys.map(i=>i.quoted?`'${i.key}'`:i.key),e.values.map(i=>i.visit(this,t))).map(([i,r])=>`${i}: ${r}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,t){return`${e.exp.visit(this,t)} | ${e.name}`}visitPrefixNot(e,t){return`!${e.expression.visit(this,t)}`}visitNonNullAssert(e,t){return`${e.expression.visit(this,t)}!`}visitPropertyRead(e,t){return e.receiver instanceof $i?e.name:`${e.receiver.visit(this,t)}.${e.name}`}visitSafePropertyRead(e,t){return`${e.receiver.visit(this,t)}?.${e.name}`}visitSafeKeyedRead(e,t){return`${e.receiver.visit(this,t)}?.[${e.key.visit(this,t)}]`}visitCall(e,t){return`${e.receiver.visit(this,t)}(${e.args.map(i=>i.visit(this,t)).join(", ")})`}visitSafeCall(e,t){return`${e.receiver.visit(this,t)}?.(${e.args.map(i=>i.visit(this,t)).join(", ")})`}visitTypeofExpression(e,t){return`typeof ${e.expression.visit(this,t)}`}visitVoidExpression(e,t){return`void ${e.expression.visit(this,t)}`}visitASTWithSource(e,t){return e.ast.visit(this,t)}visitTemplateLiteral(e,t){let i="";for(let r=0;r<e.elements.length;r++){i+=e.elements[r].visit(this,t);let o=r<e.expressions.length?e.expressions[r]:null;o!==null&&(i+="${"+o.visit(this,t)+"}")}return"`"+i+"`"}visitTemplateLiteralElement(e,t){return e.text}visitTaggedTemplateLiteral(e,t){return e.tag.visit(this,t)+e.template.visit(this,t)}visitParenthesizedExpression(e,t){return"("+e.expression.visit(this,t)+")"}};function VP(n,e){if(n.length!==e.length)throw new Error("Array lengths must match");return n.map((t,i)=>[t,e[i]])}function BP(n,e){let t=[];for(let i=0;i<Math.max(n.length,e.length);i++)i<n.length&&t.push(n[i]),i<e.length&&t.push(e[i]);return t}var Fd;function Ox(){return Fd||(Fd={},Ed(Ge.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Ed(Ge.STYLE,["*|style"]),Ed(Ge.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),Ed(Ge.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),Fd}function Ed(n,e){for(let t of e)Fd[t.toLowerCase()]=n}var qP=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function UP(n){return qP.has(n.toLowerCase())}var u0=class{},$P="boolean",HP="number",zP="string",GP="object",WP=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaInvalid,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","selectedcontent^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],DS=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex","aria-atomic":"ariaAtomic","aria-autocomplete":"ariaAutoComplete","aria-busy":"ariaBusy","aria-checked":"ariaChecked","aria-colcount":"ariaColCount","aria-colindex":"ariaColIndex","aria-colspan":"ariaColSpan","aria-current":"ariaCurrent","aria-disabled":"ariaDisabled","aria-expanded":"ariaExpanded","aria-haspopup":"ariaHasPopup","aria-hidden":"ariaHidden","aria-invalid":"ariaInvalid","aria-keyshortcuts":"ariaKeyShortcuts","aria-label":"ariaLabel","aria-level":"ariaLevel","aria-live":"ariaLive","aria-modal":"ariaModal","aria-multiline":"ariaMultiLine","aria-multiselectable":"ariaMultiSelectable","aria-orientation":"ariaOrientation","aria-placeholder":"ariaPlaceholder","aria-posinset":"ariaPosInSet","aria-pressed":"ariaPressed","aria-readonly":"ariaReadOnly","aria-required":"ariaRequired","aria-roledescription":"ariaRoleDescription","aria-rowcount":"ariaRowCount","aria-rowindex":"ariaRowIndex","aria-rowspan":"ariaRowSpan","aria-selected":"ariaSelected","aria-setsize":"ariaSetSize","aria-sort":"ariaSort","aria-valuemax":"ariaValueMax","aria-valuemin":"ariaValueMin","aria-valuenow":"ariaValueNow","aria-valuetext":"ariaValueText"})),QP=Array.from(DS).reduce((n,[e,t])=>(n.set(e,t),n),new Map),Aa=class extends u0{_schema=new Map;_eventSchema=new Map;constructor(){super(),WP.forEach(e=>{let t=new Map,i=new Set,[r,o]=e.split("|"),s=o.split(","),[a,l]=r.split("^");a.split(",").forEach(d=>{this._schema.set(d.toLowerCase(),t),this._eventSchema.set(d.toLowerCase(),i)});let u=l&&this._schema.get(l.toLowerCase());if(u){for(let[d,p]of u)t.set(d,p);for(let d of this._eventSchema.get(l.toLowerCase()))i.add(d)}s.forEach(d=>{if(d.length>0)switch(d[0]){case"*":i.add(d.substring(1));break;case"!":t.set(d.substring(1),$P);break;case"#":t.set(d.substring(1),HP);break;case"%":t.set(d.substring(1),GP);break;default:t.set(d,zP)}})})}hasProperty(e,t,i){if(i.some(o=>o.name===VE.name))return!0;if(e.indexOf("-")>-1){if(ZE(e)||Sg(e))return!1;if(i.some(o=>o.name===OE.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(t)}hasElement(e,t){return t.some(i=>i.name===VE.name)||e.indexOf("-")>-1&&(ZE(e)||Sg(e)||t.some(i=>i.name===OE.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,t,i){i&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let r=Ox()[e+"|"+t];return r||(r=Ox()["*|"+t],r||Ge.NONE)}getMappedPropName(e){return DS.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let t=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(t.keys()).map(i=>QP.get(i)??i)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return GM(e)}normalizeAnimationStyleValue(e,t,i){let r="",o=i.toString().trim(),s=null;if(jP(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(s=`Please provide a CSS unit value for ${t}:${i}`)}return{error:s,value:o+r}}};function jP(n){switch(n){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var he=class{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:i=Li.PARSABLE_DATA,closedByParent:r=!1,isVoid:o=!1,ignoreFirstLf:s=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){e&&e.length>0&&e.forEach(u=>this.closedByChildren[u]=!0),this.isVoid=o,this.closedByParent=r||o,this.implicitNamespacePrefix=t||null,this.contentType=i,this.ignoreFirstLf=s,this.preventNamespaceInheritance=a,this.canSelfClose=l??o}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},Vx,Ks;function c0(n){return Ks||(Vx=new he({canSelfClose:!0}),Ks=Object.assign(Object.create(null),{base:new he({isVoid:!0}),meta:new he({isVoid:!0}),area:new he({isVoid:!0}),embed:new he({isVoid:!0}),link:new he({isVoid:!0}),img:new he({isVoid:!0}),input:new he({isVoid:!0}),param:new he({isVoid:!0}),hr:new he({isVoid:!0}),br:new he({isVoid:!0}),source:new he({isVoid:!0}),track:new he({isVoid:!0}),wbr:new he({isVoid:!0}),p:new he({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new he({closedByChildren:["tbody","tfoot"]}),tbody:new he({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new he({closedByChildren:["tbody"],closedByParent:!0}),tr:new he({closedByChildren:["tr"],closedByParent:!0}),td:new he({closedByChildren:["td","th"],closedByParent:!0}),th:new he({closedByChildren:["td","th"],closedByParent:!0}),col:new he({isVoid:!0}),svg:new he({implicitNamespacePrefix:"svg"}),foreignObject:new he({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new he({implicitNamespacePrefix:"math"}),li:new he({closedByChildren:["li"],closedByParent:!0}),dt:new he({closedByChildren:["dt","dd"]}),dd:new he({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new he({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new he({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new he({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new he({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new he({closedByChildren:["optgroup"],closedByParent:!0}),option:new he({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new he({ignoreFirstLf:!0}),listing:new he({ignoreFirstLf:!0}),style:new he({contentType:Li.RAW_TEXT}),script:new he({contentType:Li.RAW_TEXT}),title:new he({contentType:{default:Li.ESCAPABLE_RAW_TEXT,svg:Li.PARSABLE_DATA}}),textarea:new he({contentType:Li.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new Aa().allKnownElementNames().forEach(e=>{!Ks[e]&&Tg(e)===null&&(Ks[e]=new he({canSelfClose:!1}))})),Ks[n]??Ks[n.toLowerCase()]??Vx}var Bx={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},d0=class{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(e,t,i){let r=this._hashTag(e,t,i);if(this._signatureToName[r])return this._signatureToName[r];let o=e.toUpperCase(),s=Bx[o]||`TAG_${o}`,a=this._generateUniqueName(i?s:`START_${s}`);return this._signatureToName[r]=a,a}getCloseTagPlaceholderName(e){let t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];let i=e.toUpperCase(),r=Bx[i]||`TAG_${i}`,o=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[t]=o,o}getPlaceholderName(e,t){let i=e.toUpperCase(),r=`PH: ${i}=${t}`;if(this._signatureToName[r])return this._signatureToName[r];let o=this._generateUniqueName(i);return this._signatureToName[r]=o,o}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,t){let i=this._hashBlock(e,t);if(this._signatureToName[i])return this._signatureToName[i];let r=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[i]=r,r}getCloseBlockPlaceholderName(e){let t=this._hashClosingBlock(e);if(this._signatureToName[t])return this._signatureToName[t];let i=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[t]=i,i}_hashTag(e,t,i){let r=`<${e}`,o=Object.keys(t).sort().map(a=>` ${a}=${t[a]}`).join(""),s=i?"/>":`></${e}>`;return r+o+s}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,t){let i=t.length===0?"":` (${t.sort().join("; ")})`;return`@${e}${i} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let i=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=i+1,`${e}_${i}`}},YP=new Of(new Yu);function JP(n,e,t,i){let r=new f0(YP,n,e,t,i);return(o,s,a,l,u)=>r.toI18nMessage(o,s,a,l,u)}function ZP(n,e){return e}var f0=class{_expressionParser;_interpolationConfig;_containerBlocks;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(e,t,i,r,o){this._expressionParser=e,this._interpolationConfig=t,this._containerBlocks=i,this._retainEmptyTokens=r,this._preserveExpressionWhitespace=o}toI18nMessage(e,t="",i="",r="",o){let s={isIcu:e.length==1&&e[0]instanceof qo,icuDepth:0,placeholderRegistry:new d0,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:o||ZP},a=Je(this,e,s);return new sn(a,s.placeholderToContent,s.placeholderToMessage,t,i,r)}visitElement(e,t){return this._visitElementLike(e,t)}visitComponent(e,t){return this._visitElementLike(e,t)}visitDirective(e,t){throw new Error("Unreachable code")}visitAttribute(e,t){let i=e.valueTokens===void 0||e.valueTokens.length===1?new Hl(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,i)}visitText(e,t){let i=e.tokens.length===1?new Hl(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,i)}visitComment(e,t){return null}visitExpansion(e,t){t.icuDepth++;let i={},r=new pf(e.switchValue,e.type,i,e.sourceSpan);if(e.cases.forEach(a=>{i[a.value]=new fr(a.expression.map(l=>l.visit(this,t)),a.expSourceSpan)}),t.icuDepth--,t.isIcu||t.icuDepth>0){let a=t.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=a,t.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},t.visitNodeFn(e,r)}let o=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[o]=this.toI18nMessage([e],"","","",void 0);let s=new Ea(r,o,e.sourceSpan);return t.visitNodeFn(e,s)}visitExpansionCase(e,t){throw new Error("Unreachable code")}visitBlock(e,t){let i=Je(this,e.children,t);if(this._containerBlocks.has(e.name))return new fr(i,e.sourceSpan);let r=e.parameters.map(l=>l.expression),o=t.placeholderRegistry.getStartBlockPlaceholderName(e.name,r),s=t.placeholderRegistry.getCloseBlockPlaceholderName(e.name);t.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},t.placeholderToContent[s]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new Jr(e.name,r,o,s,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,a)}visitBlockParameter(e,t){throw new Error("Unreachable code")}visitLetDeclaration(e,t){return null}_visitElementLike(e,t){let i=Je(this,e.children,t),r={},o=p=>{r[p.name]=p.value},s,a;e instanceof Gn?(s=e.name,a=c0(e.name).isVoid):(s=e.fullName,a=e.tagName?c0(e.tagName).isVoid:!1),e.attrs.forEach(o),e.directives.forEach(p=>p.attrs.forEach(o));let l=t.placeholderRegistry.getStartTagPlaceholderName(s,r,a);t.placeholderToContent[l]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let u="";a||(u=t.placeholderRegistry.getCloseTagPlaceholderName(s),t.placeholderToContent[u]={text:`</${s}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let d=new Yr(s,r,l,u,i,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,d)}_visitTextWithInterpolation(e,t,i,r){let o=[],s=!1;for(let a of e)switch(a.type){case 8:case 17:s=!0;let[l,u,d]=a.parts,p=nR(u)||"INTERPOLATION",h=i.placeholderRegistry.getPlaceholderName(p,u);if(this._preserveExpressionWhitespace)i.placeholderToContent[h]={text:a.parts.join(""),sourceSpan:a.sourceSpan},o.push(new ku(u,h,a.sourceSpan));else{let v=this.normalizeExpression(a);i.placeholderToContent[h]={text:`${l}${v}${d}`,sourceSpan:a.sourceSpan},o.push(new ku(v,h,a.sourceSpan))}break;default:if(a.parts[0].length>0||this._retainEmptyTokens){let v=o[o.length-1];v instanceof Hl?(v.value+=a.parts[0],v.sourceSpan=new re(v.sourceSpan.start,a.sourceSpan.end,v.sourceSpan.fullStart,v.sourceSpan.details)):o.push(new Hl(a.parts[0],a.sourceSpan))}else this._retainEmptyTokens&&o.push(new Hl(a.parts[0],a.sourceSpan));break}return s?(KP(o,r),new fr(o,t)):o[0]}normalizeExpression(e){let t=e.parts[1],i=this._expressionParser.parseBinding(t,e.sourceSpan,e.sourceSpan.start.offset,this._interpolationConfig);return OP(i)}};function KP(n,e){if(e instanceof sn&&(XP(e),e=e.nodes[0]),e instanceof fr){eR(e.children,n);for(let t=0;t<n.length;t++)n[t].sourceSpan=e.children[t].sourceSpan}}function XP(n){let e=n.nodes;if(e.length!==1||!(e[0]instanceof fr))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function eR(n,e){if(n.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${n.length} tokens):
${n.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(n.some((t,i)=>e[i].constructor!==t.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var tR=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function nR(n){return n.split(tR)[2]}var qx=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function Ux(n,e){return n=n.toLowerCase(),e=e.toLowerCase(),qx.has(n+"|"+e)||qx.has("*|"+e)}var iR=n=>(e,t)=>{let i=n.get(e)??e;return i instanceof gr&&(t instanceof Ea&&i.i18n instanceof sn&&(t.previousMessage=i.i18n),i.i18n=t),t},Vf=class{interpolationConfig;keepI18nAttrs;enableI18nLegacyMessageIdFormat;containerBlocks;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(e=Oi,t=!1,i=!1,r=bk,o=!0,s=!o){this.interpolationConfig=e,this.keepI18nAttrs=t,this.enableI18nLegacyMessageIdFormat=i,this.containerBlocks=r,this.preserveSignificantWhitespace=o,this.retainEmptyTokens=s}_generateI18nMessage(e,t="",i){let{meaning:r,description:o,customId:s}=this._parseMetadata(t),l=JP(this.interpolationConfig,this.containerBlocks,this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,r,o,s,i);return this._setMessageId(l,t),this._setLegacyIds(l,t),l}visitAllWithErrors(e){let t=e.map(i=>i.visit(this,null));return new Ff(t,this._errors)}visitElement(e){return this._visitElementLike(e),e}visitComponent(e,t){return this._visitElementLike(e),e}visitExpansion(e,t){let i,r=e.i18n;if(this.hasI18nMeta=!0,r instanceof Ea){let o=r.name;i=this._generateI18nMessage([e],r);let s=Vw(i);s.name=o,t!==null&&(t.placeholderToMessage[o]=i)}else i=this._generateI18nMessage([e],t||r);return e.i18n=i,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,t){return Je(this,e.children,t),e}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}visitDirective(e,t){return e}_visitElementLike(e){let t;if(yk(e)){this.hasI18nMeta=!0;let i=[],r={};for(let o of e.attrs)if(o.name===Lw){let s=e.i18n||o.value,a=new Map,l=this.preserveSignificantWhitespace?e.children:Pi(new Lf(!1,a),e.children);t=this._generateI18nMessage(l,s,iR(a)),t.nodes.length===0&&(t=void 0),e.i18n=t}else if(o.name.startsWith(Pg)){let s=o.name.slice(Pg.length),a;e instanceof vn?a=e.tagName===null?!1:Ux(e.tagName,s):a=Ux(e.name,s),a?this._reportError(o,`Translating attribute '${s}' is disallowed for security reasons.`):r[s]=o.value}else i.push(o);if(Object.keys(r).length)for(let o of i){let s=r[o.name];s!==void 0&&o.value&&(o.i18n=this._generateI18nMessage([o],o.i18n||s))}this.keepI18nAttrs||(e.attrs=i)}Je(this,e.children,t)}_parseMetadata(e){return typeof e=="string"?sR(e):e instanceof sn?e:{}}_setMessageId(e,t){e.id||(e.id=t instanceof sn&&t.id||CM(e))}_setLegacyIds(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[yM(e),Iw(e)];else if(typeof t!="string"){let i=t instanceof sn?t:t instanceof Ea?t.previousMessage:void 0;e.legacyIds=i?i.legacyIds:[]}}_reportError(e,t){this._errors.push(new ee(e.sourceSpan,t))}},rR="|",oR="@@";function sR(n=""){let e,t,i;if(n=n.trim(),n){let r=n.indexOf(oR),o=n.indexOf(rR),s;[s,e]=r>-1?[n.slice(0,r),n.slice(r+2)]:[n,""],[t,i]=o>-1?[s.slice(0,o),s.slice(o+1)]:["",s]}return{customId:e,meaning:t,description:i}}function aR(n){let e=[];return n.description?e.push({tagName:"desc",text:n.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),n.meaning&&e.push({tagName:"meaning",text:n.meaning}),FM(e)}var lR="goog.getMsg";function uR(n,e,t,i){let r=dR(e),o=[M(r)];Object.keys(i).length&&(o.push(Yg($0(i,!0),!0)),o.push(Yg({original_code:an(Object.keys(i).map(l=>({key:ic(l),quoted:!0,value:e.placeholders[l]?M(e.placeholders[l].sourceSpan.toString()):M(e.placeholderToMessage[l].nodes.map(u=>u.sourceSpan.toString()).join(""))})))})));let s=new Ct(t.name,ge(lR).callFn(o),Mn,Ft.Final);s.addLeadingComment(aR(e));let a=new Xn(n.set(t));return[s,a]}var p0=class{formatPh(e){return`{$${ic(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){return ES(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}},cR=new p0;function dR(n){return n.nodes.map(e=>e.visit(cR,null)).join("")}function fR(n,e,t){let{messageParts:i,placeHolders:r}=pR(e),o=hR(e),s=r.map(u=>t[u.text]),a=VM(e,i,r,s,o),l=n.set(a);return[new Xn(l)]}var h0=class{placeholderToMessage;pieces;constructor(e,t){this.placeholderToMessage=e,this.pieces=t}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Oo)this.pieces[this.pieces.length-1].text+=e.value;else{let t=new re(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Oo(e.value,t))}}visitContainer(e){e.children.forEach(t=>t.visit(this))}visitIcu(e){this.pieces.push(new Oo(ES(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,t,i){return new sa(ic(e,!1),t,i)}};function pR(n){let e=[],t=new h0(n.placeholderToMessage,e);return n.nodes.forEach(i=>i.visit(t)),mR(e)}function hR(n){let e=n.nodes[0],t=n.nodes[n.nodes.length-1];return new re(e.sourceSpan.fullStart,t.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function mR(n){let e=[],t=[];n[0]instanceof sa&&e.push(eg(n[0].sourceSpan.start));for(let i=0;i<n.length;i++){let r=n[i];r instanceof Oo?e.push(r):(t.push(r),n[i-1]instanceof sa&&e.push(eg(n[i-1].sourceSpan.end)))}return n[n.length-1]instanceof sa&&e.push(eg(n[n.length-1].sourceSpan.end)),{messageParts:e,placeHolders:t}}function eg(n){return new Oo("",new re(n,n))}var $x="ngI18nClosureMode",gR="i18n_",vR="I18N_EXP_",Hx="\uFFFD",_R="MSG_";function zx(n){return`${_R}${n}`.toUpperCase()}function yR(n){return new Ct(n.name,void 0,Mn,void 0,n.sourceSpan)}function CR(n){let e=n.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",t=new Map,i=new Map,r=new Map,o=new Map;for(let l of n.units)for(let u of l.ops())if(u.kind===_.ExtractedAttribute&&u.i18nContext!==null){let d=t.get(u.i18nContext)??[];d.push(u),t.set(u.i18nContext,d)}else if(u.kind===_.I18nAttributes)i.set(u.target,u);else if(u.kind===_.I18nExpression&&u.usage===Na.I18nAttribute){let d=r.get(u.target)??[];d.push(u),r.set(u.target,d)}else u.kind===_.I18nMessage&&o.set(u.xref,u);let s=new Map,a=new Map;for(let l of n.units)for(let u of l.create)if(u.kind===_.I18nMessage){if(u.messagePlaceholder===null){let{mainVar:d,statements:p}=AS(n,e,o,u);if(u.i18nBlock!==null){let h=n.addConst(d,p);a.set(u.i18nBlock,h)}else{n.constsInitializers.push(...p),s.set(u.i18nContext,d);let h=t.get(u.i18nContext);if(h!==void 0)for(let v of h)v.expression=d.clone()}}R.remove(u)}for(let l of n.units)for(let u of l.create)if(mr(u)){let d=i.get(u.xref);if(d===void 0)continue;let p=r.get(u.xref);if(p===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let h=new Set;p=p.filter(x=>{let b=h.has(x.name);return h.add(x.name),!b});let v=p.flatMap(x=>{let b=s.get(x.context);if(b===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[M(x.name),b]});d.i18nAttributesConfig=n.addConst(new gi(v))}for(let l of n.units)for(let u of l.create)if(u.kind===_.I18nStart){let d=a.get(u.root);if(d===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");u.messageIndex=d}}function AS(n,e,t,i){let r=[],o=new Map;for(let u of i.subMessages){let d=t.get(u),{mainVar:p,statements:h}=AS(n,e,t,d);r.push(...h);let v=o.get(d.messagePlaceholder)??[];v.push(p),o.set(d.messagePlaceholder,v)}ER(i,o),i.params=new Map([...i.params.entries()].sort());let s=ge(n.pool.uniqueName(gR)),a=SR(n.pool,i.message.id,e,n.i18nUseExternalIds),l;if(i.needsPostprocessing||i.postprocessingParams.size>0){let u=Object.fromEntries([...i.postprocessingParams.entries()].sort()),d=$0(u,!1),p=[];i.postprocessingParams.size>0&&p.push(Yg(d,!0)),l=h=>Y(w.i18nPostprocess).callFn([h,...p])}return r.push(...xR(i.message,s,a,i.params,l)),{mainVar:s,statements:r}}function ER(n,e){for(let[t,i]of e)i.length===1?n.params.set(t,i[0]):(n.params.set(t,M(`${Hx}${vR}${t}${Hx}`)),n.postprocessingParams.set(t,Ne(i)))}function xR(n,e,t,i,r){let o=Object.fromEntries(i),s=[yR(e),Jf(wR(),uR(e,n,t,o),fR(e,n,$0(o,!1)))];return r&&s.push(new Xn(e.set(r(e)))),s}function wR(){return tc(ge($x)).notIdentical(M("undefined",B0)).and(ge($x))}function SR(n,e,t,i){let r,o=t;if(i){let s=zx("EXTERNAL_"),a=n.uniqueName(o);r=`${s}${Mo(e)}$$${a}`}else{let s=zx(o);r=n.uniqueName(s)}return ge(r)}function TR(n){for(let e of n.units){let t=null,i=null,r=new Map,o=new Map,s=new Map;for(let a of e.create)switch(a.kind){case _.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");t=a;break;case _.I18nEnd:t=null;break;case _.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");i=a;break;case _.IcuEnd:i=null;break;case _.Text:if(t!==null)if(r.set(a.xref,t),o.set(a.xref,i),a.icuPlaceholder!==null){let l=KN(n.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);R.replace(a,l),s.set(a.xref,l)}else R.remove(a);break}for(let a of e.update)switch(a.kind){case _.InterpolateText:if(!r.has(a.target))continue;let l=r.get(a.target),u=o.get(a.target),d=s.get(a.target),p=u?u.context:l.context,h=u?Vu.Postproccessing:Vu.Creation,v=[];for(let x=0;x<a.interpolation.expressions.length;x++){let b=a.interpolation.expressions[x];v.push(aS(p,l.xref,l.xref,l.handle,b,d?.xref??null,a.interpolation.i18nPlaceholders[x]??null,h,Na.I18nText,"",b.sourceSpan??a.sourceSpan))}R.replaceWithMany(a,v),d!==void 0&&(d.strings=a.interpolation.strings);break}}}function bR(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case _.ElementStart:case _.ConditionalCreate:case _.ConditionalBranchCreate:case _.Template:if(!Array.isArray(t.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(t.numSlotsUsed+=t.localRefs.length,t.localRefs.length>0){let i=IR(t.localRefs);t.localRefs=n.addConst(i)}else t.localRefs=null;break}}function IR(n){let e=[];for(let t of n)e.push(M(t.name),M(t.target));return Ne(e)}function DR(n){for(let e of n.units){let t=Qt.HTML;for(let i of e.create)i.kind===_.ElementStart&&i.namespace!==t&&(R.insertBefore(zN(i.namespace),i),t=i.namespace)}}function AR(n){let e=[],t=0,i=0,r=0,o=0,s=0,a=null;for(;t<n.length;)switch(n.charCodeAt(t++)){case 40:i++;break;case 41:i--;break;case 39:r===0?r=39:r===39&&n.charCodeAt(t-1)!==92&&(r=0);break;case 34:r===0?r=34:r===34&&n.charCodeAt(t-1)!==92&&(r=0);break;case 58:!a&&i===0&&r===0&&(a=MS(n.substring(s,t-1).trim()),o=t);break;case 59:if(a&&o>0&&i===0&&r===0){let u=n.substring(o,t-1).trim();e.push(a,u),s=t,o=0,a=null}break}if(a&&o){let l=n.slice(o).trim();e.push(a,l)}return e}function MS(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function MR(n){let e=new Map;for(let t of n.units)for(let i of t.create)mr(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.create)if(i.kind===_.ExtractedAttribute&&i.bindingKind===j.Attribute&&lS(i.expression)){let r=e.get(i.target);if(r!==void 0&&(r.kind===_.Template||r.kind===_.ConditionalCreate||r.kind===_.ConditionalBranchCreate)&&r.templateKind===yn.Structural)continue;if(i.name==="style"){let o=AR(i.expression.value);for(let s=0;s<o.length-1;s+=2)R.insertBefore(jn(i.target,j.StyleProperty,null,o[s],M(o[s+1]),null,null,Ge.STYLE),i);R.remove(i)}else if(i.name==="class"){let o=i.expression.value.trim().split(/\s+/g);for(let s of o)R.insertBefore(jn(i.target,j.ClassName,null,s,null,null,null,Ge.NONE),i);R.remove(i)}}}function kR(n){Xl(n.root,n.componentName,{index:0},n.compatibility===Fn.TemplateDefinitionBuilder)}function Xl(n,e,t,i){n.fnName===null&&(n.fnName=n.job.pool.uniqueName(Mo(`${e}_${n.job.fnSuffix}`),!1));let r=new Map;for(let o of n.ops())switch(o.kind){case _.Property:case _.DomProperty:o.bindingKind===j.LegacyAnimation&&(o.name="@"+o.name);break;case _.Animation:if(o.handlerFnName===null){let d=o.name.replace(".","");o.handlerFnName=`${n.fnName}_${d}_cb`,o.handlerFnName=Mo(o.handlerFnName)}break;case _.AnimationListener:if(o.handlerFnName!==null)break;if(!o.hostListener&&o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let s=o.name.replace(".","");o.hostListener?o.handlerFnName=`${e}_${s}_HostBindingHandler`:o.handlerFnName=`${n.fnName}_${o.tag.replace("-","_")}_${s}_${o.targetSlot.slot}_listener`,o.handlerFnName=Mo(o.handlerFnName);break;case _.Listener:if(o.handlerFnName!==null)break;if(!o.hostListener&&o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let a="";o.isLegacyAnimationListener&&(o.name=`@${o.name}.${o.legacyAnimationPhase}`,a="animation"),o.hostListener?o.handlerFnName=`${e}_${a}${o.name}_HostBindingHandler`:o.handlerFnName=`${n.fnName}_${o.tag.replace("-","_")}_${a}${o.name}_${o.targetSlot.slot}_listener`,o.handlerFnName=Mo(o.handlerFnName);break;case _.TwoWayListener:if(o.handlerFnName!==null)break;if(o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");o.handlerFnName=Mo(`${n.fnName}_${o.tag.replace("-","_")}_${o.name}_${o.targetSlot.slot}_listener`);break;case _.Variable:r.set(o.xref,NR(n,o.variable,t));break;case _.RepeaterCreate:if(!(n instanceof Yn))throw new Error("AssertionError: must be compiling a component");if(o.handle.slot===null)throw new Error("Expected slot to be assigned");if(o.emptyView!==null){let d=n.job.views.get(o.emptyView);Xl(d,`${e}_${o.functionNameSuffix}Empty_${o.handle.slot+2}`,t,i)}Xl(n.job.views.get(o.xref),`${e}_${o.functionNameSuffix}_${o.handle.slot+1}`,t,i);break;case _.Projection:if(!(n instanceof Yn))throw new Error("AssertionError: must be compiling a component");if(o.handle.slot===null)throw new Error("Expected slot to be assigned");if(o.fallbackView!==null){let d=n.job.views.get(o.fallbackView);Xl(d,`${e}_ProjectionFallback_${o.handle.slot}`,t,i)}break;case _.ConditionalCreate:case _.ConditionalBranchCreate:case _.Template:if(!(n instanceof Yn))throw new Error("AssertionError: must be compiling a component");let l=n.job.views.get(o.xref);if(o.handle.slot===null)throw new Error("Expected slot to be assigned");let u=o.functionNameSuffix.length===0?"":`_${o.functionNameSuffix}`;Xl(l,`${e}${u}_${o.handle.slot}`,t,i);break;case _.StyleProp:o.name=PR(o.name),i&&(o.name=Gx(o.name));break;case _.ClassProp:i&&(o.name=Gx(o.name));break}for(let o of n.ops())bt(o,s=>{if(!(!(s instanceof pr)||s.name!==null)){if(!r.has(s.xref))throw new Error(`Variable ${s.xref} not yet named`);s.name=r.get(s.xref)}})}function NR(n,e,t){if(e.name===null)switch(e.kind){case St.Context:e.name=`ctx_r${t.index++}`;break;case St.Identifier:if(n.job.compatibility===Fn.TemplateDefinitionBuilder){let i=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${i}r${++t.index}`}else e.name=`${e.identifier}_i${t.index++}`;break;default:e.name=`_r${++t.index}`;break}return e.name}function PR(n){return n.startsWith("--")?n:MS(n)}function Gx(n){let e=n.indexOf("!important");return e>-1?n.substring(0,e):n}function RR(n){for(let e of n.units){for(let t of e.create)(t.kind===_.Listener||t.kind===_.Animation||t.kind===_.AnimationListener||t.kind===_.TwoWayListener)&&Wx(t.handlerOps);Wx(e.update)}}function Wx(n){for(let e of n){if(e.kind!==_.Statement||!(e.statement instanceof Xn)||!(e.statement.expr instanceof xf))continue;let t=e.statement.expr.steps,i=!0;for(let r=e.next;r.kind!==_.ListEnd&&i;r=r.next)bt(r,(o,s)=>{if(!Gi(o))return o;if(i&&!(s&Ae.InChildOperation))switch(o.kind){case Z.NextContext:o.steps+=t,R.remove(e),i=!1;break;case Z.GetCurrentView:case Z.Reference:case Z.ContextLetReference:i=!1;break}})}}var FR="ng-container";function LR(n){for(let e of n.units){let t=new Set;for(let i of e.create)i.kind===_.ElementStart&&i.tag===FR&&(i.kind=_.ContainerStart,t.add(i.xref)),i.kind===_.ElementEnd&&t.has(i.xref)&&(i.kind=_.ContainerEnd)}}function OR(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function VR(n){let e=new Map;for(let t of n.units)for(let i of t.create)mr(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.create)(i.kind===_.ElementStart||i.kind===_.ContainerStart)&&i.nonBindable&&R.insertAfter(qN(i.xref),i),(i.kind===_.ElementEnd||i.kind===_.ContainerEnd)&&OR(e,i.xref).nonBindable&&R.insertBefore(UN(i.xref),i)}function ur(n){return e=>e.kind===n}function ru(n,e){return t=>t.kind===n&&e===t.expression instanceof nt}function BR(n){return n.kind===_.Listener&&!(n.hostListener&&n.isLegacyAnimationListener)||n.kind===_.TwoWayListener||n.kind===_.Animation||n.kind===_.AnimationListener}function qR(n){return(n.kind===_.Property||n.kind===_.TwoWayProperty)&&!(n.expression instanceof nt)}var UR=[{test:n=>n.kind===_.Listener&&n.hostListener&&n.isLegacyAnimationListener},{test:BR}],$R=[{test:ur(_.StyleMap),transform:Bf},{test:ur(_.ClassMap),transform:Bf},{test:ur(_.StyleProp)},{test:ur(_.ClassProp)},{test:ru(_.Attribute,!0)},{test:ru(_.Property,!0)},{test:qR},{test:ru(_.Attribute,!1)}],HR=[{test:ru(_.DomProperty,!0)},{test:ru(_.DomProperty,!1)},{test:ur(_.Attribute)},{test:ur(_.StyleMap),transform:Bf},{test:ur(_.ClassMap),transform:Bf},{test:ur(_.StyleProp)},{test:ur(_.ClassProp)}],Qx=new Set([_.Listener,_.TwoWayListener,_.AnimationListener,_.StyleMap,_.ClassMap,_.StyleProp,_.ClassProp,_.Property,_.TwoWayProperty,_.DomProperty,_.Attribute,_.Animation]);function zR(n){for(let e of n.units){jx(e.create,UR);let t=e.job.kind===z.Host?HR:$R;jx(e.update,t)}}function jx(n,e){let t=[],i=null;for(let r of n){let o=Bu(r)?r.target:null;(!Qx.has(r.kind)||o!==i&&i!==null&&o!==null)&&(R.insertBefore(Yx(t,e),r),t=[],i=null),Qx.has(r.kind)&&(t.push(r),R.remove(r),i=o??i)}n.push(Yx(t,e))}function Yx(n,e){let t=Array.from(e,()=>new Array);for(let i of n){let r=e.findIndex(o=>o.test(i));t[r].push(i)}return t.flatMap((i,r)=>{let o=e[r].transform;return o?o(i):i})}function Bf(n){return n.slice(n.length-1)}function GR(n){for(let e of n.units){let t=K0(e);for(let i of e.ops())switch(i.kind){case _.Binding:let r=QR(t,i.target);WR(i.name)&&r.kind===_.Projection&&R.remove(i);break}}}function WR(n){return n.toLowerCase()==="select"}function QR(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an slottable target.");return t}function jR(n){for(let e of n.units)YR(e)}function YR(n){for(let e of n.update)bt(e,(t,i)=>{if(Gi(t)&&t.kind===Z.PipeBinding){if(i&Ae.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(n.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");JR(n,e.target,t)}else n.create.push(mS(t.target,t.targetSlot,t.name))}})}function JR(n,e,t){for(let i=n.create.head.next;i.kind!==_.ListEnd;i=i.next){if(!Ra(i)||i.xref!==e)continue;for(;i.next.kind===_.Pipe;)i=i.next;let r=mS(t.target,t.targetSlot,t.name);R.insertBefore(r,i.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${t.name}`)}function ZR(n){for(let e of n.units)for(let t of e.update)pt(t,i=>!(i instanceof ts)||i.args.length<=4?i:new $u(i.target,i.targetSlot,i.name,Ne(i.args),i.args.length),Ae.None)}function KR(n){kS(n.root,0)}function kS(n,e){let t=null;for(let i of n.create)switch(i.kind){case _.I18nStart:i.subTemplateIndex=e===0?null:e,t=i;break;case _.I18nEnd:t.subTemplateIndex===null&&(e=0),t=null;break;case _.ConditionalCreate:case _.ConditionalBranchCreate:case _.Template:e=xd(n.job.views.get(i.xref),t,i.i18nPlaceholder,e);break;case _.RepeaterCreate:let r=n.job.views.get(i.xref);e=xd(r,t,i.i18nPlaceholder,e),i.emptyView!==null&&(e=xd(n.job.views.get(i.emptyView),t,i.emptyI18nPlaceholder,e));break;case _.Projection:i.fallbackView!==null&&(e=xd(n.job.views.get(i.fallbackView),t,i.fallbackViewI18nPlaceholder,e));break}return e}function xd(n,e,t,i){if(t!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");i++,XR(n,e)}return kS(n,i)}function XR(n,e){if(n.create.head.next?.kind!==_.I18nStart){let t=n.job.allocateXrefId();R.insertAfter(tp(t,e.message,e.root,null),n.create.head),R.insertBefore(np(t,null),n.create.tail)}}function eF(n){for(let e of n.units)for(let t of e.ops())bt(t,i=>{if(!(i instanceof es)||i.body===null)return;let r=new m0(i.args.length);i.fn=n.pool.getSharedConstant(r,i.body),i.body=null})}var m0=class extends aa{numArgs;constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof Sa?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,t){let i=[];for(let o=0;o<this.numArgs;o++)i.push(new Tt("a"+o));let r=W(t,o=>o instanceof Sa?ge("a"+o.index):o,Ae.None);return new Ct(e,new Go(i,r),void 0,Ft.Final)}};function tF(n){for(let e of n.units)for(let t of e.update)pt(t,(i,r)=>r&Ae.InChildOperation?i:i instanceof gi?nF(i):i instanceof Ui?iF(i):i,Ae.None)}function nF(n){let e=[],t=[];for(let i of n.entries)if(i.isConstant())e.push(i);else{let r=t.length;t.push(i),e.push(new Sa(r))}return new es(Ne(e),t)}function iF(n){let e=[],t=[];for(let i of n.entries)if(i.value.isConstant())e.push(i);else{let r=t.length;t.push(i.value),e.push(new pa(i.key,new Sa(r),i.quoted))}return new es(an(e),t)}function rF(n,e,t,i,r){return no(w.element,n,e,t,i,r)}function oF(n,e,t,i,r){return no(w.elementStart,n,e,t,i,r)}function no(n,e,t,i,r,o){let s=[M(e)];return t!==null&&s.push(M(t)),r!==null?s.push(M(i),M(r)):i!==null&&s.push(M(i)),ce(n,s,o)}function NS(n,e,t,i,r,o,s,a,l){let u=[M(e),t,M(i),M(r),M(o),M(s)];for(a!==null&&(u.push(M(a)),u.push(Y(w.templateRefExtractor)));u[u.length-1].isEquivalent(ha);)u.pop();return ce(n,u,l)}function X0(n,e,t,i,r){let o=[M(e)];return t instanceof nt?o.push(Fa(t,r)):o.push(t),i!==null&&o.push(i),ce(n,o,r)}function sF(n){return ce(w.elementEnd,[],n)}function aF(n,e,t,i){return no(w.elementContainerStart,n,null,e,t,i)}function lF(n,e,t,i){return no(w.elementContainer,n,null,e,t,i)}function uF(){return ce(w.elementContainerEnd,[],null)}function cF(n,e,t,i,r,o,s,a){return NS(w.templateCreate,n,e,t,i,r,o,s,a)}function dF(){return ce(w.disableBindings,[],null)}function fF(){return ce(w.enableBindings,[],null)}function pF(n,e,t,i,r){let o=[M(n),e];return t!==null&&o.push(Y(t)),ce(i?w.syntheticHostListener:w.listener,o,r)}function Jx(n,e){return Y(w.twoWayBindingSet).callFn([n,e])}function hF(n,e,t){return ce(w.twoWayListener,[M(n),e],t)}function mF(n,e){return ce(w.pipe,[M(n),M(e)],null)}function gF(){return ce(w.namespaceHTML,[],null)}function vF(){return ce(w.namespaceSVG,[],null)}function _F(){return ce(w.namespaceMathML,[],null)}function yF(n,e){return ce(w.advance,n>1?[M(n)]:[],e)}function CF(n){return Y(w.reference).callFn([M(n)])}function EF(n){return Y(w.nextContext).callFn(n===1?[]:[M(n)])}function xF(){return Y(w.getCurrentView).callFn([])}function wF(n){return Y(w.restoreView).callFn([n])}function SF(n){return Y(w.resetView).callFn([n])}function TF(n,e,t){let i=[M(n,null)];return e!==""&&i.push(M(e)),ce(w.text,i,t)}function bF(n,e,t,i,r,o,s,a,l,u,d){let p=[M(n),M(e),t??M(null),M(i),M(r),M(o),s??M(null),a??M(null),l?Y(w.deferEnableTimerScheduling):M(null),M(d)],h;for(;(h=p[p.length-1])!==null&&h instanceof Vt&&h.value===null;)p.pop();return ce(w.defer,p,u)}var IF=new Map([[Be.Idle,{none:w.deferOnIdle,prefetch:w.deferPrefetchOnIdle,hydrate:w.deferHydrateOnIdle}],[Be.Immediate,{none:w.deferOnImmediate,prefetch:w.deferPrefetchOnImmediate,hydrate:w.deferHydrateOnImmediate}],[Be.Timer,{none:w.deferOnTimer,prefetch:w.deferPrefetchOnTimer,hydrate:w.deferHydrateOnTimer}],[Be.Hover,{none:w.deferOnHover,prefetch:w.deferPrefetchOnHover,hydrate:w.deferHydrateOnHover}],[Be.Interaction,{none:w.deferOnInteraction,prefetch:w.deferPrefetchOnInteraction,hydrate:w.deferHydrateOnInteraction}],[Be.Viewport,{none:w.deferOnViewport,prefetch:w.deferPrefetchOnViewport,hydrate:w.deferHydrateOnViewport}],[Be.Never,{none:w.deferHydrateNever,prefetch:w.deferHydrateNever,hydrate:w.deferHydrateNever}]]);function DF(n,e,t,i){let r=IF.get(n)?.[t];if(r===void 0)throw new Error(`Unable to determine instruction for trigger ${n}`);return ce(r,e.map(o=>M(o)),i)}function AF(n){return ce(w.projectionDef,n?[n]:[],null)}function MF(n,e,t,i,r,o,s){let a=[M(n)];return(e!==0||t!==null||i!==null)&&(a.push(M(e)),t!==null&&a.push(t),i!==null&&(t===null&&a.push(M(null)),a.push(ge(i),M(r),M(o)))),ce(w.projection,a,s)}function kF(n,e,t,i){let r=[M(n),M(e)];return t!==null&&r.push(M(t)),ce(w.i18nStart,r,i)}function NF(n,e,t,i,r,o,s,a){let l=[M(n),e,M(t),M(i),M(r),M(o)];for(s!==null&&(l.push(M(s)),l.push(Y(w.templateRefExtractor)));l[l.length-1].isEquivalent(ha);)l.pop();return ce(w.conditionalCreate,l,a)}function PF(n,e,t,i,r,o,s,a){let l=[M(n),e,M(t),M(i),M(r),M(o)];for(s!==null&&(l.push(M(s)),l.push(Y(w.templateRefExtractor)));l[l.length-1].isEquivalent(ha);)l.pop();return ce(w.conditionalBranchCreate,l,a)}function RF(n,e,t,i,r,o,s,a,l,u,d,p,h,v){let x=[M(n),ge(e),M(t),M(i),M(r),M(o),s];return(a||l!==null)&&(x.push(M(a)),l!==null&&(x.push(ge(l),M(u),M(d)),(p!==null||h!==null)&&x.push(M(p)),h!==null&&x.push(M(h)))),ce(w.repeaterCreate,x,v)}function FF(n,e){return ce(w.repeater,[n],e)}function LF(n,e,t){return n==="prefetch"?ce(w.deferPrefetchWhen,[e],t):n==="hydrate"?ce(w.deferHydrateWhen,[e],t):ce(w.deferWhen,[e],t)}function OF(n,e){return ce(w.declareLet,[M(n)],e)}function VF(n,e){return Y(w.storeLet).callFn([n],e)}function BF(n){return Y(w.readContextLet).callFn([M(n)])}function qF(n,e,t,i){let r=[M(n),M(e)];return t&&r.push(M(t)),ce(w.i18n,r,i)}function UF(n){return ce(w.i18nEnd,[],n)}function $F(n,e){let t=[M(n),M(e)];return ce(w.i18nAttributes,t,null)}function HF(n,e,t){return X0(w.ariaProperty,n,e,null,t)}function zF(n,e,t,i){return X0(w.property,n,e,t,i)}function GF(n,e,t,i){let r=[M(n),e];return t!==null&&r.push(t),ce(w.twoWayProperty,r,i)}function WF(n,e,t,i,r){let o=[M(n)];return e instanceof nt?o.push(Fa(e,r)):o.push(e),(t!==null||i!==null)&&o.push(t??M(null)),i!==null&&o.push(M(i)),ce(w.attribute,o,null)}function QF(n,e,t,i){let r=[M(n)];return e instanceof nt?r.push(Fa(e,i)):r.push(e),t!==null&&r.push(M(t)),ce(w.styleProp,r,i)}function jF(n,e,t){return ce(w.classProp,[M(n),e],t)}function YF(n,e){let t=n instanceof nt?Fa(n,e):n;return ce(w.styleMap,[t],e)}function JF(n,e){let t=n instanceof nt?Fa(n,e):n;return ce(w.classMap,[t],e)}function ZF(n,e,t,i,r){return no(w.domElement,n,e,t,i,r)}function KF(n,e,t,i,r){return no(w.domElementStart,n,e,t,i,r)}function XF(n){return ce(w.domElementEnd,[],n)}function eL(n,e,t,i){return no(w.domElementContainerStart,n,null,e,t,i)}function tL(n,e,t,i){return no(w.domElementContainer,n,null,e,t,i)}function nL(){return ce(w.domElementContainerEnd,[],null)}function iL(n,e,t,i){let r=[M(n),e];return t!==null&&r.push(Y(t)),ce(w.domListener,r,i)}function rL(n,e,t,i,r,o,s,a){return NS(w.domTemplate,n,e,t,i,r,o,s,a)}var Zx=[w.pipeBind1,w.pipeBind2,w.pipeBind3,w.pipeBind4];function oL(n,e,t){if(t.length<1||t.length>Zx.length)throw new Error("pipeBind() argument count out of bounds");let i=Zx[t.length-1];return Y(i).callFn([M(n),M(e),...t])}function sL(n,e,t){return Y(w.pipeBindV).callFn([M(n),M(e),t])}function aL(n,e,t){let i=PS(n,e);return EL(_L,[],i,[],t)}function lL(n,e){return ce(w.i18nExp,[n],e)}function uL(n,e){return ce(w.i18nApply,[M(n)],e)}function cL(n,e,t,i){return X0(w.domProperty,n,e,t,i)}function dL(n,e,t,i){let r=[e];t!==null&&r.push(t);let o=n==="enter"?w.animationEnter:w.animationLeave;return ce(o,r,i)}function fL(n,e,t,i){let o=[e instanceof nt?Fa(e,i):e];t!==null&&o.push(t);let s=n==="enter"?w.animationEnter:w.animationLeave;return ce(s,o,i)}function pL(n,e,t,i){let r=[e],o=n==="enter"?w.animationEnterListener:w.animationLeaveListener;return ce(o,r,i)}function hL(n,e,t){return ce(w.syntheticHostProperty,[M(n),e],t)}function mL(n,e,t){return ev(CL,[M(n),e],t,[],null)}function gL(n,e){return ce(w.attachSourceLocations,[M(n),e],null)}function PS(n,e){if(n.length<1||e.length!==n.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let t=[];if(e.length===1&&n[0]===""&&n[1]==="")t.push(e[0]);else{let i;for(i=0;i<e.length;i++)t.push(M(n[i]),e[i]);t.push(M(n[i]))}return t}function Fa(n,e){let t=PS(n.strings,n.expressions);return ev(yL,[],t,[],e)}function ce(n,e,t){let i=Y(n).callFn(e,t);return ti(new Xn(i,t))}function vL(n,e,t){let i=[n];return e!==null&&i.push(e),ce(w.conditional,i,t)}var _L={constant:[w.textInterpolate,w.textInterpolate1,w.textInterpolate2,w.textInterpolate3,w.textInterpolate4,w.textInterpolate5,w.textInterpolate6,w.textInterpolate7,w.textInterpolate8],variable:w.textInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},yL={constant:[w.interpolate,w.interpolate1,w.interpolate2,w.interpolate3,w.interpolate4,w.interpolate5,w.interpolate6,w.interpolate7,w.interpolate8],variable:w.interpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},CL={constant:[w.pureFunction0,w.pureFunction1,w.pureFunction2,w.pureFunction3,w.pureFunction4,w.pureFunction5,w.pureFunction6,w.pureFunction7,w.pureFunction8],variable:w.pureFunctionV,mapping:n=>n};function ev(n,e,t,i,r){let o=n.mapping(t.length),s=t.at(-1);if(i.length===0&&t.length>1&&s instanceof Vt&&s.value===""&&t.pop(),o<n.constant.length)return Y(n.constant[o]).callFn([...e,...t,...i],r);if(n.variable!==null)return Y(n.variable).callFn([...e,Ne(t),...i],r);throw new Error("AssertionError: unable to call variadic function")}function EL(n,e,t,i,r){return ti(ev(n,e,t,i,r).toStmt())}var xL=new Map([["window",w.resolveWindow],["document",w.resolveDocument],["body",w.resolveBody]]),wL=new Map([["class","className"],["for","htmlFor"],["formaction","formAction"],["innerHtml","innerHTML"],["readonly","readOnly"],["tabindex","tabIndex"]]);function SL(n){for(let e of n.units)TL(e,e.create),tv(e,e.update)}function TL(n,e){for(let t of e)switch(pt(t,RS,Ae.None),t.kind){case _.Text:R.replace(t,TF(t.handle.slot,t.initialValue,t.sourceSpan));break;case _.ElementStart:R.replace(t,n.job.mode===gn.DomOnly?KF(t.handle.slot,t.tag,t.attributes,t.localRefs,t.startSourceSpan):oF(t.handle.slot,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case _.Element:R.replace(t,n.job.mode===gn.DomOnly?ZF(t.handle.slot,t.tag,t.attributes,t.localRefs,t.wholeSourceSpan):rF(t.handle.slot,t.tag,t.attributes,t.localRefs,t.wholeSourceSpan));break;case _.ElementEnd:R.replace(t,n.job.mode===gn.DomOnly?XF(t.sourceSpan):sF(t.sourceSpan));break;case _.ContainerStart:R.replace(t,n.job.mode===gn.DomOnly?eL(t.handle.slot,t.attributes,t.localRefs,t.startSourceSpan):aF(t.handle.slot,t.attributes,t.localRefs,t.startSourceSpan));break;case _.Container:R.replace(t,n.job.mode===gn.DomOnly?tL(t.handle.slot,t.attributes,t.localRefs,t.wholeSourceSpan):lF(t.handle.slot,t.attributes,t.localRefs,t.wholeSourceSpan));break;case _.ContainerEnd:R.replace(t,n.job.mode===gn.DomOnly?nL():uF());break;case _.I18nStart:R.replace(t,kF(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case _.I18nEnd:R.replace(t,UF(t.sourceSpan));break;case _.I18n:R.replace(t,qF(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case _.I18nAttributes:if(t.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");R.replace(t,$F(t.handle.slot,t.i18nAttributesConfig));break;case _.Template:if(!(n instanceof Yn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let i=n.job.views.get(t.xref);R.replace(t,t.templateKind===yn.Block||n.job.mode===gn.DomOnly?rL(t.handle.slot,ge(i.fnName),i.decls,i.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan):cF(t.handle.slot,ge(i.fnName),i.decls,i.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case _.DisableBindings:R.replace(t,dF());break;case _.EnableBindings:R.replace(t,fF());break;case _.Pipe:R.replace(t,mF(t.handle.slot,t.name));break;case _.DeclareLet:R.replace(t,OF(t.handle.slot,t.sourceSpan));break;case _.AnimationString:R.replace(t,fL(t.animationKind,t.expression,t.sanitizer,t.sourceSpan));break;case _.Animation:let r=wd(n,t.handlerFnName,t.handlerOps,!1);R.replace(t,dL(t.animationKind,r,t.sanitizer,t.sourceSpan));break;case _.AnimationListener:let o=wd(n,t.handlerFnName,t.handlerOps,t.consumesDollarEvent);R.replace(t,pL(t.animationKind,o,null,t.sourceSpan));break;case _.Listener:let s=wd(n,t.handlerFnName,t.handlerOps,t.consumesDollarEvent),a=t.eventTarget?xL.get(t.eventTarget):null;if(a===void 0)throw new Error(`Unexpected global target '${t.eventTarget}' defined for '${t.name}' event. Supported list of global targets: window,document,body.`);R.replace(t,n.job.mode===gn.DomOnly&&!t.hostListener&&!t.isLegacyAnimationListener?iL(t.name,s,a,t.sourceSpan):pF(t.name,s,a,t.hostListener&&t.isLegacyAnimationListener,t.sourceSpan));break;case _.TwoWayListener:R.replace(t,hF(t.name,wd(n,t.handlerFnName,t.handlerOps,!0),t.sourceSpan));break;case _.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);R.replace(t,ti(new Ct(t.variable.name,t.initializer,void 0,Ft.Final)));break;case _.Namespace:switch(t.active){case Qt.HTML:R.replace(t,gF());break;case Qt.SVG:R.replace(t,vF());break;case Qt.Math:R.replace(t,_F());break}break;case _.Defer:let l=!!t.loadingMinimumTime||!!t.loadingAfterTime||!!t.placeholderMinimumTime;R.replace(t,bF(t.handle.slot,t.mainSlot.slot,t.resolverFn,t.loadingSlot?.slot??null,t.placeholderSlot?.slot??null,t.errorSlot?.slot??null,t.loadingConfig,t.placeholderConfig,l,t.sourceSpan,t.flags));break;case _.DeferOn:let u=[];switch(t.trigger.kind){case Be.Never:case Be.Idle:case Be.Immediate:break;case Be.Timer:u=[t.trigger.delay];break;case Be.Interaction:case Be.Hover:case Be.Viewport:t.modifier==="hydrate"?u=[]:(u=[t.trigger.targetSlot?.slot??null],t.trigger.targetSlotViewSteps!==0&&u.push(t.trigger.targetSlotViewSteps));break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${t.trigger.kind}`)}R.replace(t,DF(t.trigger.kind,u,t.modifier,t.sourceSpan));break;case _.ProjectionDef:R.replace(t,AF(t.def));break;case _.Projection:if(t.handle.slot===null)throw new Error("No slot was assigned for project instruction");let d=null,p=null,h=null;if(t.fallbackView!==null){if(!(n instanceof Yn))throw new Error("AssertionError: must be compiling a component");let H=n.job.views.get(t.fallbackView);if(H===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(H.fnName===null||H.decls===null||H.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");d=H.fnName,p=H.decls,h=H.vars}R.replace(t,MF(t.handle.slot,t.projectionSlotIndex,t.attributes,d,p,h,t.sourceSpan));break;case _.ConditionalCreate:if(!(n instanceof Yn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let v=n.job.views.get(t.xref);R.replace(t,NF(t.handle.slot,ge(v.fnName),v.decls,v.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case _.ConditionalBranchCreate:if(!(n instanceof Yn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let x=n.job.views.get(t.xref);R.replace(t,PF(t.handle.slot,ge(x.fnName),x.decls,x.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case _.RepeaterCreate:if(t.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(n instanceof Yn))throw new Error("AssertionError: must be compiling a component");let b=n.job.views.get(t.xref);if(b.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let N=null,k=null,U=null;if(t.emptyView!==null){let H=n.job.views.get(t.emptyView);if(H===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(H.fnName===null||H.decls===null||H.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");N=H.fnName,k=H.decls,U=H.vars}R.replace(t,RF(t.handle.slot,b.fnName,t.decls,t.vars,t.tag,t.attributes,IL(n,t),t.usesComponentInstance,N,k,U,t.emptyTag,t.emptyAttributes,t.wholeSourceSpan));break;case _.SourceLocation:let $=Ne(t.locations.map(({targetSlot:H,offset:K,line:ve,column:De})=>{if(H.slot===null)throw new Error("No slot was assigned for source location");return Ne([M(H.slot),M(K),M(ve),M(De)])}));R.replace(t,gL(t.templatePath,$));break;case _.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${_[t.kind]}`)}}function tv(n,e){for(let t of e)switch(pt(t,RS,Ae.None),t.kind){case _.Advance:R.replace(t,yF(t.delta,t.sourceSpan));break;case _.Property:R.replace(t,n.job.mode===gn.DomOnly&&t.bindingKind!==j.LegacyAnimation&&t.bindingKind!==j.Animation?Kx(t):bL(t));break;case _.TwoWayProperty:R.replace(t,GF(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case _.StyleProp:R.replace(t,QF(t.name,t.expression,t.unit,t.sourceSpan));break;case _.ClassProp:R.replace(t,jF(t.name,t.expression,t.sourceSpan));break;case _.StyleMap:R.replace(t,YF(t.expression,t.sourceSpan));break;case _.ClassMap:R.replace(t,JF(t.expression,t.sourceSpan));break;case _.I18nExpression:R.replace(t,lL(t.expression,t.sourceSpan));break;case _.I18nApply:R.replace(t,uL(t.handle.slot,t.sourceSpan));break;case _.InterpolateText:R.replace(t,aL(t.interpolation.strings,t.interpolation.expressions,t.sourceSpan));break;case _.Attribute:R.replace(t,WF(t.name,t.expression,t.sanitizer,t.namespace,t.sourceSpan));break;case _.DomProperty:if(t.expression instanceof nt)throw new Error("not yet handled");t.bindingKind===j.LegacyAnimation||t.bindingKind===j.Animation?R.replace(t,hL(t.name,t.expression,t.sourceSpan)):R.replace(t,Kx(t));break;case _.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);R.replace(t,ti(new Ct(t.variable.name,t.initializer,void 0,Ft.Final)));break;case _.Conditional:if(t.processed===null)throw new Error("Conditional test was not set.");R.replace(t,vL(t.processed,t.contextValue,t.sourceSpan));break;case _.Repeater:R.replace(t,FF(t.collection,t.sourceSpan));break;case _.DeferWhen:R.replace(t,LF(t.modifier,t.expr,t.sourceSpan));break;case _.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${t.declaredName}`);case _.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${_[t.kind]}`)}}function Kx(n){return cL(wL.get(n.name)??n.name,n.expression,n.sanitizer,n.sourceSpan)}function bL(n){return _S(n.name)?HF(n.name,n.expression,n.sourceSpan):zF(n.name,n.expression,n.sanitizer,n.sourceSpan)}function RS(n){if(!Gi(n))return n;switch(n.kind){case Z.NextContext:return EF(n.steps);case Z.Reference:return CF(n.targetSlot.slot+1+n.offset);case Z.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${n.name}`);case Z.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case Z.RestoreView:if(typeof n.view=="number")throw new Error("AssertionError: unresolved RestoreView");return wF(n.view);case Z.ResetView:return SF(n.expr);case Z.GetCurrentView:return xF();case Z.ReadVariable:if(n.name===null)throw new Error(`Read of unnamed variable ${n.xref}`);return ge(n.name);case Z.ReadTemporaryExpr:if(n.name===null)throw new Error(`Read of unnamed temporary ${n.xref}`);return ge(n.name);case Z.AssignTemporaryExpr:if(n.name===null)throw new Error(`Assign of unnamed temporary ${n.xref}`);return ge(n.name).set(n.expr);case Z.PureFunctionExpr:if(n.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return mL(n.varOffset,n.fn,n.args);case Z.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case Z.PipeBinding:return oL(n.targetSlot.slot,n.varOffset,n.args);case Z.PipeBindingVariadic:return sL(n.targetSlot.slot,n.varOffset,n.args);case Z.SlotLiteralExpr:return M(n.slot.slot);case Z.ContextLetReference:return BF(n.targetSlot.slot);case Z.StoreLet:return VF(n.value,n.sourceSpan);case Z.TrackContext:return ge("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${Z[n.kind]}`)}}function wd(n,e,t,i){tv(n,t);let r=[];for(let s of t){if(s.kind!==_.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${_[s.kind]}`);r.push(s.statement)}let o=[];return i&&o.push(new Tt("$event")),Qr(o,r,void 0,void 0,e)}function IL(n,e){if(e.trackByFn!==null)return e.trackByFn;let t=[new Tt("$index"),new Tt("$item")],i;if(e.trackByOps===null)i=e.usesComponentInstance?Qr(t,[new Lt(e.track)]):vi(t,e.track);else{tv(n,e.trackByOps);let r=[];for(let o of e.trackByOps){if(o.kind!==_.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${_[o.kind]}`);r.push(o.statement)}i=e.usesComponentInstance||r.length!==1||!(r[0]instanceof Lt)?Qr(t,r):vi(t,r[0].value)}return e.trackByFn=n.job.pool.getSharedFunctionReference(i,"_forTrack"),e.trackByFn}function DL(n){for(let e of n.units)for(let t of e.update)switch(t.kind){case _.Attribute:case _.Binding:case _.ClassProp:case _.ClassMap:case _.Property:case _.StyleProp:case _.StyleMap:t.expression instanceof Hu&&R.remove(t);break}}function AL(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case _.I18nContext:R.remove(t);break;case _.I18nStart:t.context=null;break}}function ML(n){for(let e of n.units)for(let t of e.update){if(t.kind!==_.Variable||t.variable.kind!==St.Identifier||!(t.initializer instanceof qu))continue;let i=t.variable.identifier,r=t;for(;r&&r.kind!==_.ListEnd;)pt(r,o=>o instanceof Pt&&o.name===i?M(void 0):o,Ae.None),r=r.prev}}function kL(n){for(let e of n.units){let t=new Set;for(let i of e.update)switch(i.kind){case _.I18nExpression:t.add(i.i18nOwner)}for(let i of e.create)switch(i.kind){case _.I18nAttributes:if(t.has(i.xref))continue;R.remove(i)}}}function NL(n){for(let e of n.units)qf(e,e.create),qf(e,e.update)}function qf(n,e){let t=new Map;t.set(n.xref,ge("ctx"));for(let i of e)switch(i.kind){case _.Variable:switch(i.variable.kind){case St.Context:t.set(i.variable.view,new pr(i.xref));break}break;case _.Animation:case _.AnimationListener:case _.Listener:case _.TwoWayListener:qf(n,i.handlerOps);break;case _.RepeaterCreate:i.trackByOps!==null&&qf(n,i.trackByOps);break}n===n.job.root&&t.set(n.xref,ge("ctx"));for(let i of e)pt(i,r=>{if(r instanceof Kr){if(!t.has(r.view))throw new Error(`No context found for reference to view ${r.view} from view ${n.xref}`);return t.get(r.view)}else return r},Ae.None)}function PL(n){for(let e of n.units)for(let t of e.create)if(t.kind===_.Defer){if(t.resolverFn!==null)continue;if(t.ownResolverFn!==null){if(t.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let i=e.fnName?.replace("_Template","");t.resolverFn=n.pool.getSharedFunctionReference(t.ownResolverFn,`${i}_Defer_${t.handle.slot}_DepsFn`,!1)}}}function RL(n){for(let e of n.units)Xx(e.create),Xx(e.update)}function Xx(n){for(let e of n)(e.kind===_.Listener||e.kind===_.TwoWayListener||e.kind===_.AnimationListener)&&pt(e,t=>t instanceof Pt&&t.name==="$event"?((e.kind===_.Listener||e.kind===_.AnimationListener)&&(e.consumesDollarEvent=!0),new Kn(t.name)):t,Ae.InChildOperation)}function FL(n){let e=new Map,t=new Map;for(let i of n.units)for(let r of i.create)switch(r.kind){case _.I18nContext:e.set(r.xref,r);break;case _.ElementStart:t.set(r.xref,r);break}Ri(n,n.root,e,t)}function Ri(n,e,t,i,r){let o=null,s=new Map;for(let a of e.create)switch(a.kind){case _.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");o={i18nBlock:a,i18nContext:t.get(a.context)};break;case _.I18nEnd:o=null;break;case _.ElementStart:if(a.i18nPlaceholder!==void 0){if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");ew(a,o.i18nContext,o.i18nBlock,r),r&&a.i18nPlaceholder.closeName&&s.set(a.xref,r),r=void 0}break;case _.ElementEnd:let l=i.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(o===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");tw(l,o.i18nContext,o.i18nBlock,s.get(a.xref)),s.delete(a.xref)}break;case _.Projection:if(a.i18nPlaceholder!==void 0){if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");ew(a,o.i18nContext,o.i18nBlock,r),tw(a,o.i18nContext,o.i18nBlock,r),r=void 0}if(a.fallbackView!==null){let h=n.views.get(a.fallbackView);if(a.fallbackViewI18nPlaceholder===void 0)Ri(n,h,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Sd(n,h,a.handle.slot,a.fallbackViewI18nPlaceholder,o.i18nContext,o.i18nBlock,r),Ri(n,h,t,i),Td(n,h,a.handle.slot,a.fallbackViewI18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0}}break;case _.ConditionalCreate:case _.ConditionalBranchCreate:case _.Template:let u=n.views.get(a.xref);if(a.i18nPlaceholder===void 0)Ri(n,u,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===yn.Structural?Ri(n,u,t,i,a):(Sd(n,u,a.handle.slot,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),Ri(n,u,t,i),Td(n,u,a.handle.slot,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0)}break;case _.RepeaterCreate:if(r!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let d=a.handle.slot+1,p=n.views.get(a.xref);if(a.i18nPlaceholder===void 0)Ri(n,p,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Sd(n,p,d,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),Ri(n,p,t,i),Td(n,p,d,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0}if(a.emptyView!==null){let h=a.handle.slot+2,v=n.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)Ri(n,v,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Sd(n,v,h,a.emptyI18nPlaceholder,o.i18nContext,o.i18nBlock,r),Ri(n,v,t,i),Td(n,v,h,a.emptyI18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0}}break}}function ew(n,e,t,i){let{startName:r,closeName:o}=n.i18nPlaceholder,s=He.ElementTag|He.OpenTag,a=n.handle.slot;i!==void 0&&(s|=He.TemplateTag,a={element:a,template:i.handle.slot}),o||(s|=He.CloseTag),Ma(e.params,r,a,t.subTemplateIndex,s)}function tw(n,e,t,i){let{closeName:r}=n.i18nPlaceholder;if(r){let o=He.ElementTag|He.CloseTag,s=n.handle.slot;i!==void 0&&(o|=He.TemplateTag,s={element:s,template:i.handle.slot}),Ma(e.params,r,s,t.subTemplateIndex,o)}}function Sd(n,e,t,i,r,o,s){let{startName:a,closeName:l}=i,u=He.TemplateTag|He.OpenTag;l||(u|=He.CloseTag),s!==void 0&&Ma(r.params,a,s.handle.slot,o.subTemplateIndex,u),Ma(r.params,a,t,FS(n,o,e),u)}function Td(n,e,t,i,r,o,s){let{closeName:a}=i,l=He.TemplateTag|He.CloseTag;a&&(Ma(r.params,a,t,FS(n,o,e),l),s!==void 0&&Ma(r.params,a,s.handle.slot,o.subTemplateIndex,l))}function FS(n,e,t){for(let i of t.create)if(i.kind===_.I18nStart)return i.subTemplateIndex;return e.subTemplateIndex}function Ma(n,e,t,i,r){let o=n.get(e)??[];o.push({value:t,subTemplateIndex:i,flags:r}),n.set(e,o)}function LL(n){let e=new Map,t=new Map,i=new Map;for(let s of n.units)for(let a of s.create)switch(a.kind){case _.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case _.I18nContext:t.set(a.xref,a);break;case _.IcuPlaceholder:i.set(a.xref,a);break}let r=new Map,o=s=>s.usage===Na.I18nText?s.i18nOwner:s.context;for(let s of n.units)for(let a of s.update)if(a.kind===_.I18nExpression){let l=r.get(o(a))||0,u=e.get(a.i18nOwner)??null,d={value:l,subTemplateIndex:u,flags:He.ExpressionIndex};OL(a,d,t,i),r.set(o(a),l+1)}}function OL(n,e,t,i){if(n.i18nPlaceholder!==null){let r=t.get(n.context),o=n.resolutionTime===Vu.Creation?r.params:r.postprocessingParams,s=o.get(n.i18nPlaceholder)||[];s.push(e),o.set(n.i18nPlaceholder,s)}n.icuPlaceholder!==null&&i.get(n.icuPlaceholder)?.expressionPlaceholders.push(e)}function VL(n){for(let e of n.units)Uf(e,e.create,null),Uf(e,e.update,null)}function Uf(n,e,t){let i=new Map,r=new Map;for(let o of e)switch(o.kind){case _.Variable:switch(o.variable.kind){case St.Identifier:if(o.variable.local){if(r.has(o.variable.identifier))continue;r.set(o.variable.identifier,o.xref)}else if(i.has(o.variable.identifier))continue;i.set(o.variable.identifier,o.xref);break;case St.Alias:if(i.has(o.variable.identifier))continue;i.set(o.variable.identifier,o.xref);break;case St.SavedView:t={view:o.variable.view,variable:o.xref};break}break;case _.Animation:case _.AnimationListener:case _.Listener:case _.TwoWayListener:Uf(n,o.handlerOps,t);break;case _.RepeaterCreate:o.trackByOps!==null&&Uf(n,o.trackByOps,t);break}for(let o of e)o.kind==_.Listener||o.kind===_.TwoWayListener||o.kind===_.Animation||o.kind===_.AnimationListener||pt(o,s=>{if(s instanceof Pt)return r.has(s.name)?new pr(r.get(s.name)):i.has(s.name)?new pr(i.get(s.name)):new Rn(new Kr(n.job.root.xref),s.name);if(s instanceof wf&&typeof s.view=="number"){if(t===null||t.view!==s.view)throw new Error(`AssertionError: no saved view ${s.view} from view ${n.xref}`);return s.view=new pr(t.variable),s}else return s},Ae.None);for(let o of e)bt(o,s=>{if(s instanceof Pt)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${s.name}`)})}var BL=new Map([[Ge.HTML,w.sanitizeHtml],[Ge.RESOURCE_URL,w.sanitizeResourceUrl],[Ge.SCRIPT,w.sanitizeScript],[Ge.STYLE,w.sanitizeStyle],[Ge.URL,w.sanitizeUrl]]),qL=new Map([[Ge.HTML,w.trustConstantHtml],[Ge.RESOURCE_URL,w.trustConstantResourceUrl]]);function UL(n){for(let e of n.units){let t=K0(e);if(n.kind!==z.Host){for(let i of e.create)if(i.kind===_.ExtractedAttribute){let r=qL.get(nw(i.securityContext))??null;i.trustedValueFn=r!==null?Y(r):null}}for(let i of e.update)switch(i.kind){case _.Property:case _.Attribute:case _.DomProperty:let r=null;if(Array.isArray(i.securityContext)&&i.securityContext.length===2&&i.securityContext.indexOf(Ge.URL)>-1&&i.securityContext.indexOf(Ge.RESOURCE_URL)>-1?r=w.sanitizeUrlOrResourceUrl:r=BL.get(nw(i.securityContext))??null,i.sanitizer=r!==null?Y(r):null,i.sanitizer===null){let o=!1;if(n.kind===z.Host||i.kind===_.DomProperty)o=!0;else{let s=t.get(i.target);if(s===void 0||!mr(s))throw Error("Property should have an element-like owner");o=$L(s)}o&&UP(i.name)&&(i.sanitizer=Y(w.validateIframeAttribute))}break}}}function $L(n){return n.kind===_.ElementStart&&n.tag?.toLowerCase()==="iframe"}function nw(n){if(Array.isArray(n)){if(n.length>1)throw Error("AssertionError: Ambiguous security context");return n[0]||Ge.NONE}return n}function HL(n){for(let e of n.units){e.create.prepend([$r(e.job.allocateXrefId(),{kind:St.SavedView,name:null,view:e.xref},new zg,Qn.None)]);for(let t of e.create){if(t.kind!==_.Listener&&t.kind!==_.TwoWayListener&&t.kind!==_.Animation&&t.kind!==_.AnimationListener)continue;let i=e!==n.root;if(!i)for(let r of t.handlerOps)bt(r,o=>{(o instanceof Ef||o instanceof Uu)&&(i=!0)});i&&zL(e,t)}}}function zL(n,e){e.handlerOps.prepend([$r(n.job.allocateXrefId(),{kind:St.Context,name:null,view:n.xref},new wf(n.xref),Qn.None)]);for(let t of e.handlerOps)t.kind===_.Statement&&t.statement instanceof Lt&&(t.statement.value=new Gg(t.statement.value))}function GL(n){let e=new Map;for(let t of n.units){let i=0;for(let r of t.create)Ra(r)&&(r.handle.slot=i,e.set(r.xref,r.handle.slot),i+=r.numSlotsUsed);t.decls=i}for(let t of n.units)for(let i of t.ops())if(i.kind===_.Template||i.kind===_.ConditionalCreate||i.kind===_.ConditionalBranchCreate||i.kind===_.RepeaterCreate){let r=n.views.get(i.xref);i.decls=r.decls}}function WL(n){let e=new Set,t=new Map;for(let i of n.units)for(let r of i.ops())r.kind===_.DeclareLet&&t.set(r.xref,r),bt(r,o=>{o instanceof Uu&&e.add(o.target)});for(let i of n.units)for(let r of i.update)pt(r,o=>o instanceof qu&&!e.has(o.target)?(QL(o)||R.remove(t.get(o.target)),o.value):o,Ae.None)}function QL(n){let e=!1;return W(n,t=>((t instanceof ts||t instanceof $u)&&(e=!0),t),Ae.None),e}function jL(n){let e=new Set;for(let t of n.units)for(let i of t.ops())bt(i,r=>{if(r instanceof Se)switch(r.operator){case q.Exponentiation:YL(r,e);break;case q.NullishCoalesce:JL(r,e);break;case q.And:case q.Or:ZL(r,e)}});for(let t of n.units)for(let i of t.ops())pt(i,r=>r instanceof mi?e.has(r)?r:r.expr:r,Ae.None)}function YL(n,e){n.lhs instanceof mi&&n.lhs.expr instanceof Wo&&e.add(n.lhs)}function JL(n,e){n.lhs instanceof mi&&(iw(n.lhs.expr)||n.lhs.expr instanceof qi)&&e.add(n.lhs),n.rhs instanceof mi&&(iw(n.rhs.expr)||n.rhs.expr instanceof qi)&&e.add(n.rhs)}function ZL(n,e){n.lhs instanceof mi&&n.lhs.expr instanceof Se&&n.lhs.expr.operator===q.NullishCoalesce&&e.add(n.lhs)}function iw(n){return n instanceof Se&&(n.operator===q.And||n.operator===q.Or)}function KL(n){for(let e of n.units)for(let t of e.update)if(t.kind===_.Binding)switch(t.bindingKind){case j.ClassName:if(t.expression instanceof nt)throw new Error("Unexpected interpolation in ClassName binding");R.replace(t,DN(t.target,t.name,t.expression,t.sourceSpan));break;case j.StyleProperty:R.replace(t,IN(t.target,t.name,t.expression,t.unit,t.sourceSpan));break;case j.Property:case j.Template:t.name==="style"?R.replace(t,AN(t.target,t.expression,t.sourceSpan)):t.name==="class"&&R.replace(t,MN(t.target,t.expression,t.sourceSpan));break}}function XL(n){for(let e of n.units)e.create.prepend($f(e.create)),e.update.prepend($f(e.update))}function $f(n){let e=0,t=[];for(let i of n){let r=new Map;bt(i,(u,d)=>{d&Ae.InChildOperation||u instanceof Xr&&r.set(u.xref,u)});let o=0,s=new Set,a=new Set,l=new Map;bt(i,(u,d)=>{d&Ae.InChildOperation||(u instanceof Wi?(s.has(u.xref)||(s.add(u.xref),l.set(u.xref,`tmp_${e}_${o++}`)),rw(l,u)):u instanceof Xr&&(r.get(u.xref)===u&&(a.add(u.xref),o--),rw(l,u)))}),t.push(...Array.from(new Set(l.values())).map(u=>ti(new Ct(u)))),e++,i.kind===_.Listener||i.kind===_.Animation||i.kind===_.AnimationListener||i.kind===_.TwoWayListener?i.handlerOps.prepend($f(i.handlerOps)):i.kind===_.RepeaterCreate&&i.trackByOps!==null&&i.trackByOps.prepend($f(i.trackByOps))}return t}function rw(n,e){let t=n.get(e.xref);if(t===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=t}function eO(n){for(let e of n.units)for(let t of e.create)if(t.kind===_.RepeaterCreate)if(t.track instanceof Kn&&t.track.name==="$index")t.trackByFn=Y(w.repeaterTrackByIndex);else if(t.track instanceof Kn&&t.track.name==="$item")t.trackByFn=Y(w.repeaterTrackByIdentity);else if(tO(n.root.xref,t.track))t.usesComponentInstance=!0,t.track.receiver.receiver.view===e.xref?t.trackByFn=t.track.receiver:(t.trackByFn=Y(w.componentInstance).callFn([]).prop(t.track.receiver.name),t.track=t.trackByFn);else{t.track=W(t.track,r=>{if(r instanceof ts||r instanceof $u)throw new Error("Illegal State: Pipes are not allowed in this context");return r instanceof Kr?(t.usesComponentInstance=!0,new Hg(r.view)):r},Ae.None);let i=new R;i.push(ti(new Lt(t.track,t.track.sourceSpan))),t.trackByOps=i}}function tO(n,e){if(!(e instanceof Cn)||e.args.length===0||e.args.length>2||!(e.receiver instanceof Rn&&e.receiver.receiver instanceof Kr)||e.receiver.receiver.view!==n)return!1;let[t,i]=e.args;return!(t instanceof Kn)||t.name!=="$index"?!1:e.args.length===1?!0:!(!(i instanceof Kn)||i.name!=="$item")}function nO(n){for(let e of n.units)for(let t of e.create)t.kind===_.RepeaterCreate&&(t.track=W(t.track,i=>{if(i instanceof Pt){if(t.varNames.$index.has(i.name))return ge("$index");if(i.name===t.varNames.$implicit)return ge("$item")}return i},Ae.None))}function iO(n){for(let e of n.units)for(let t of e.create)t.kind===_.TwoWayListener&&pt(t,i=>{if(!(i instanceof Sf))return i;let{target:r,value:o}=i;if(r instanceof Rn||r instanceof hr)return Jx(r,o).or(r.set(o));if(r instanceof pr)return Jx(r,o);throw new Error("Unsupported expression in two-way action binding.")},Ae.InChildOperation)}function rO(n){for(let e of n.units){let t=0;for(let i of e.ops())Jm(i)&&(t+=oO(i));for(let i of e.ops())bt(i,r=>{Gi(r)&&(n.compatibility===Fn.TemplateDefinitionBuilder&&r instanceof es||(px(r)&&(r.varOffset=t),Jm(r)&&(t+=ow(r))))});if(n.compatibility===Fn.TemplateDefinitionBuilder)for(let i of e.ops())bt(i,r=>{!Gi(r)||!(r instanceof es)||(px(r)&&(r.varOffset=t),Jm(r)&&(t+=ow(r)))});e.vars=t}if(n instanceof Gu)for(let e of n.units)for(let t of e.create){if(t.kind!==_.Template&&t.kind!==_.RepeaterCreate&&t.kind!==_.ConditionalCreate&&t.kind!==_.ConditionalBranchCreate)continue;let i=n.views.get(t.xref);t.vars=i.vars}}function oO(n){let e;switch(n.kind){case _.Attribute:return e=1,n.expression instanceof nt&&!sO(n.expression)&&(e+=n.expression.expressions.length),e;case _.Property:case _.DomProperty:return e=1,n.expression instanceof nt&&(e+=n.expression.expressions.length),e;case _.TwoWayProperty:return 1;case _.StyleProp:case _.ClassProp:case _.StyleMap:case _.ClassMap:return e=2,n.expression instanceof nt&&(e+=n.expression.expressions.length),e;case _.InterpolateText:return n.interpolation.expressions.length;case _.I18nExpression:case _.Conditional:case _.DeferWhen:case _.StoreLet:return 1;case _.RepeaterCreate:return n.emptyView?1:0;default:throw new Error(`Unhandled op: ${_[n.kind]}`)}}function ow(n){switch(n.kind){case Z.PureFunctionExpr:return 1+n.args.length;case Z.PipeBinding:return 1+n.args.length;case Z.PipeBindingVariadic:return 1+n.numArgs;case Z.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${n.constructor.name}`)}}function sO(n){return!(n.expressions.length!==1||n.strings.length!==2||n.strings[0]!==""||n.strings[1]!=="")}function aO(n){for(let e of n.units){bd(e.create),bd(e.update);for(let t of e.create)t.kind===_.Listener||t.kind===_.Animation||t.kind===_.AnimationListener||t.kind===_.TwoWayListener?bd(t.handlerOps):t.kind===_.RepeaterCreate&&t.trackByOps!==null&&bd(t.trackByOps);Id(e.create,n.compatibility),Id(e.update,n.compatibility);for(let t of e.create)t.kind===_.Listener||t.kind===_.Animation||t.kind===_.AnimationListener||t.kind===_.TwoWayListener?Id(t.handlerOps,n.compatibility):t.kind===_.RepeaterCreate&&t.trackByOps!==null&&Id(t.trackByOps,n.compatibility)}}var yt=(function(n){return n[n.None=0]="None",n[n.ViewContextRead=1]="ViewContextRead",n[n.ViewContextWrite=2]="ViewContextWrite",n[n.SideEffectful=4]="SideEffectful",n})(yt||{});function bd(n){let e=new Map;for(let t of n)t.kind===_.Variable&&t.flags&Qn.AlwaysInline&&(bt(t,i=>{if(Gi(i)&&nv(i)!==yt.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(t.xref,t)),pt(t,i=>i instanceof pr&&e.has(i.xref)?e.get(i.xref).initializer.clone():i,Ae.None);for(let t of e.values())R.remove(t)}function Id(n,e){let t=new Map,i=new Map,r=new Set,o=new Map;for(let u of n){if(u.kind===_.Variable){if(t.has(u.xref)||i.has(u.xref))throw new Error(`Should not see two declarations of the same variable: ${u.xref}`);t.set(u.xref,u),i.set(u.xref,0)}o.set(u,lO(u)),uO(u,i,r)}let s=!1;for(let u of n.reversed()){let d=o.get(u);if(u.kind===_.Variable&&i.get(u.xref)===0){if(s&&d.fences&yt.ViewContextWrite||d.fences&yt.SideEffectful){let p=ti(u.initializer.toStmt());o.set(p,d),R.replace(u,p)}else cO(u,i),R.remove(u);o.delete(u),t.delete(u.xref),i.delete(u.xref);continue}d.fences&yt.ViewContextRead&&(s=!0)}let a=[];for(let[u,d]of i){let h=!!(t.get(u).flags&Qn.AlwaysInline);d!==1||h||r.has(u)||a.push(u)}let l;for(;l=a.pop();){let u=t.get(l),d=o.get(u);if(!!(u.flags&Qn.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let h=u.next;h.kind!==_.ListEnd;h=h.next){let v=o.get(h);if(v.variablesUsed.has(l)){if(e===Fn.TemplateDefinitionBuilder&&!fO(u,h))break;if(dO(l,u.initializer,h,d.fences)){v.variablesUsed.delete(l);for(let x of d.variablesUsed)v.variablesUsed.add(x);v.fences|=d.fences,t.delete(l),i.delete(l),o.delete(u),R.remove(u)}break}if(!LS(v.fences,d.fences))break}}}function nv(n){switch(n.kind){case Z.NextContext:return yt.ViewContextRead|yt.ViewContextWrite;case Z.RestoreView:return yt.ViewContextRead|yt.ViewContextWrite|yt.SideEffectful;case Z.StoreLet:return yt.SideEffectful;case Z.Reference:case Z.ContextLetReference:return yt.ViewContextRead;default:return yt.None}}function lO(n){let e=yt.None,t=new Set;return bt(n,i=>{if(Gi(i))switch(i.kind){case Z.ReadVariable:t.add(i.xref);break;default:e|=nv(i)}}),{fences:e,variablesUsed:t}}function uO(n,e,t){bt(n,(i,r)=>{if(!Gi(i)||i.kind!==Z.ReadVariable)return;let o=e.get(i.xref);o!==void 0&&(e.set(i.xref,o+1),r&Ae.InChildOperation&&t.add(i.xref))})}function cO(n,e){bt(n,t=>{if(!Gi(t)||t.kind!==Z.ReadVariable)return;let i=e.get(t.xref);if(i!==void 0){if(i===0)throw new Error(`Inaccurate variable count: ${t.xref} - found another read but count is already 0`);e.set(t.xref,i-1)}})}function LS(n,e){if(n&yt.ViewContextWrite){if(e&yt.ViewContextRead)return!1}else if(n&yt.ViewContextRead&&e&yt.ViewContextWrite)return!1;return!0}function dO(n,e,t,i){let r=!1,o=!0;return pt(t,(s,a)=>{if(!Gi(s)||r||!o)return s;if(a&Ae.InChildOperation&&i&yt.ViewContextRead)return s;switch(s.kind){case Z.ReadVariable:if(s.xref===n)return r=!0,e;break;default:let l=nv(s);o=o&&LS(l,i);break}return s},Ae.None),r}function fO(n,e){switch(n.variable.kind){case St.Identifier:return n.initializer instanceof Kn&&n.initializer.name==="ctx";case St.Context:return e.kind===_.Variable;default:return!0}}function pO(n){for(let e of n.units){let t=null,i=null;for(let r of e.create)switch(r.kind){case _.I18nStart:t=r;break;case _.I18nEnd:t=null;break;case _.IcuStart:t===null&&(i=n.allocateXrefId(),R.insertBefore(tp(i,r.message,void 0,null),r));break;case _.IcuEnd:i!==null&&(R.insertAfter(np(i,null),r),i=null);break}}}var hO=[{kind:z.Tmpl,fn:GR},{kind:z.Host,fn:rP},{kind:z.Tmpl,fn:DR},{kind:z.Tmpl,fn:KR},{kind:z.Tmpl,fn:pO},{kind:z.Both,fn:T2},{kind:z.Both,fn:KL},{kind:z.Both,fn:c2},{kind:z.Both,fn:E2},{kind:z.Both,fn:a2},{kind:z.Tmpl,fn:S2},{kind:z.Both,fn:MR},{kind:z.Tmpl,fn:DL},{kind:z.Both,fn:p2},{kind:z.Both,fn:zR},{kind:z.Tmpl,fn:h2},{kind:z.Tmpl,fn:jR},{kind:z.Tmpl,fn:b2},{kind:z.Tmpl,fn:ZR},{kind:z.Both,fn:tF},{kind:z.Tmpl,fn:X2},{kind:z.Tmpl,fn:K2},{kind:z.Tmpl,fn:eP},{kind:z.Tmpl,fn:HL},{kind:z.Both,fn:t2},{kind:z.Both,fn:RL},{kind:z.Tmpl,fn:nO},{kind:z.Tmpl,fn:ML},{kind:z.Both,fn:VL},{kind:z.Tmpl,fn:I2},{kind:z.Tmpl,fn:iO},{kind:z.Tmpl,fn:eO},{kind:z.Both,fn:NL},{kind:z.Both,fn:UL},{kind:z.Tmpl,fn:bR},{kind:z.Both,fn:N2},{kind:z.Both,fn:jL},{kind:z.Both,fn:XL},{kind:z.Both,fn:aO},{kind:z.Both,fn:WL},{kind:z.Tmpl,fn:TR},{kind:z.Tmpl,fn:w2},{kind:z.Tmpl,fn:kL},{kind:z.Tmpl,fn:o2},{kind:z.Tmpl,fn:i2},{kind:z.Tmpl,fn:GL},{kind:z.Tmpl,fn:FL},{kind:z.Tmpl,fn:LL},{kind:z.Tmpl,fn:Q2},{kind:z.Tmpl,fn:CR},{kind:z.Tmpl,fn:nP},{kind:z.Both,fn:_2},{kind:z.Tmpl,fn:AL},{kind:z.Both,fn:rO},{kind:z.Tmpl,fn:Z2},{kind:z.Both,fn:kR},{kind:z.Tmpl,fn:PL},{kind:z.Tmpl,fn:RR},{kind:z.Tmpl,fn:LR},{kind:z.Tmpl,fn:k2},{kind:z.Tmpl,fn:s2},{kind:z.Tmpl,fn:VR},{kind:z.Both,fn:eF},{kind:z.Both,fn:SL},{kind:z.Both,fn:f2}];function OS(n,e){for(let t of hO)(t.kind===e||t.kind===z.Both)&&t.fn(n)}function mO(n,e){let t=BS(n.root);return VS(n.root,e),t}function VS(n,e){for(let t of n.job.units){if(t.parent!==n.xref)continue;VS(t,e);let i=BS(t);e.statements.push(i.toDeclStmt(i.name))}}function BS(n){if(n.fnName===null)throw new Error(`AssertionError: view ${n.xref} is unnamed`);let e=[];for(let o of n.create){if(o.kind!==_.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${_[o.kind]}`);e.push(o.statement)}let t=[];for(let o of n.update){if(o.kind!==_.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${_[o.kind]}`);t.push(o.statement)}let i=Hf(1,e),r=Hf(2,t);return Qr([new Tt("rf"),new Tt("ctx")],[...i,...r],void 0,void 0,n.fnName)}function Hf(n,e){return e.length===0?[]:[Jf(new Se(q.BitwiseAnd,ge("rf"),M(n)),e)]}function gO(n){if(n.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let o of n.root.create){if(o.kind!==_.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${_[o.kind]}`);e.push(o.statement)}let t=[];for(let o of n.root.update){if(o.kind!==_.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${_[o.kind]}`);t.push(o.statement)}if(e.length===0&&t.length===0)return null;let i=Hf(1,e),r=Hf(2,t);return Qr([new Tt("rf"),new Tt("ctx")],[...i,...r],void 0,void 0,n.root.fnName)}var qS=Fn.TemplateDefinitionBuilder,$o=new Aa,Ho="ng-template",vO="animate.";function Ld(n){return n instanceof sn}function _O(n){return Ld(n)&&n.nodes.length===1&&n.nodes[0]instanceof pf}function yO(n,e,t,i,r,o,s,a,l,u){let d=new Gu(n,t,qS,i,r,o,s,a,l,u);return vr(d.root,e),d}function CO(n,e,t){let i=new Mf(n.componentName,t,qS,gn.DomOnly);for(let r of n.properties??[]){let o=j.Property;r.name.startsWith("attr.")&&(r.name=r.name.substring(5),o=j.Attribute),r.isLegacyAnimation&&(o=j.LegacyAnimation),r.isAnimation&&(o=j.Animation);let s=e.calcPossibleSecurityContexts(n.componentSelector,r.name,o===j.Attribute).filter(a=>a!==Ge.NONE);EO(i,r,o,s)}for(let[r,o]of Object.entries(n.attributes)??[]){let s=e.calcPossibleSecurityContexts(n.componentSelector,r,!0).filter(a=>a!==Ge.NONE);xO(i,r,o,s)}for(let r of n.events??[])wO(i,r);return i}function EO(n,e,t,i){let r,o=e.expression.ast;o instanceof nc?r=new nt(o.strings,o.expressions.map(s=>me(s,n,e.sourceSpan)),[]):r=me(o,n,e.sourceSpan),n.root.update.push(Xo(n.root.xref,t,e.name,r,null,i,!1,!1,null,null,e.sourceSpan))}function xO(n,e,t,i){let r=Xo(n.root.xref,j.Attribute,e,t,null,i,!0,!1,null,null,t.sourceSpan);n.root.update.push(r)}function wO(n,e){let t;if(e.type===on.Animation)t=pS(n.root.xref,new Bt,e.name,null,Ju(n.root,e.handler,e.handlerSpan),e.name.endsWith("enter")?"enter":"leave",e.targetOrPhase,!0,e.sourceSpan);else{let[i,r]=e.type!==on.LegacyAnimation?[null,e.targetOrPhase]:[e.targetOrPhase,null];t=Z0(n.root.xref,new Bt,e.name,null,Ju(n.root,e.handler,e.handlerSpan),i,r,!0,e.sourceSpan)}n.root.create.push(t)}function vr(n,e){for(let t of e)if(t instanceof Hi)SO(n,t);else if(t instanceof Nn)TO(n,t);else if(t instanceof Ca)bO(n,t);else if(t instanceof Ro)US(n,t,null);else if(t instanceof va)$S(n,t,null);else if(t instanceof df)IO(n,t);else if(t instanceof cf)DO(n,t);else if(t instanceof Zo)AO(n,t);else if(t instanceof Fw)kO(n,t);else if(t instanceof ya)NO(n,t);else if(t instanceof U0)RO(n,t);else if(!(t instanceof tu))throw new Error(`Unsupported template node: ${t.constructor.name}`)}function SO(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof sn||e.i18n instanceof Yr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=n.job.allocateXrefId(),[i,r]=_i(e.name),o=ON(r,t,yS(i),e.i18n instanceof Yr?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);n.create.push(o),LO(n,o,e),GS(o,e);let s=null;e.i18n instanceof sn&&(s=n.job.allocateXrefId(),n.create.push(tp(s,e.i18n,void 0,e.startSourceSpan))),vr(n,e.children);let a=BN(t,e.endSourceSpan??e.startSourceSpan);n.create.push(a),s!==null&&R.insertBefore(np(s,e.endSourceSpan??e.startSourceSpan),a)}function TO(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof sn||e.i18n instanceof Yr))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let t=n.job.allocateView(n.xref),i=e.tagName,r="";e.tagName&&([r,i]=_i(e.tagName));let o=e.i18n instanceof Yr?e.i18n:void 0,s=yS(r),a=i===null?"":v2(i,s),l=FO(e)?yn.NgTemplate:yn.Structural,u=uS(t.xref,l,i,a,s,o,e.startSourceSpan,e.sourceSpan);n.create.push(u),OO(n,u,e,l),GS(u,e),vr(t,e.children);for(let{name:d,value:p}of e.variables)t.contextVariables.set(d,p!==""?p:"$implicit");if(l===yn.NgTemplate&&e.i18n instanceof sn){let d=n.job.allocateXrefId();R.insertAfter(tp(d,e.i18n,void 0,e.startSourceSpan),t.create.head),R.insertBefore(np(d,e.endSourceSpan??e.startSourceSpan),t.create.tail)}}function bO(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof Yr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=null;e.children.some(o=>!(o instanceof Kf)&&(!(o instanceof Ro)||o.value.trim().length>0))&&(t=n.job.allocateView(n.xref),vr(t,e.children));let i=n.job.allocateXrefId(),r=WN(i,e.selector,e.i18n,t?.xref??null,e.sourceSpan);for(let o of e.attributes){let s=$o.securityContext(e.name,o.name,!0);n.update.push(Xo(r.xref,j.Attribute,o.name,M(o.value),null,s,!0,!1,null,cr(o.i18n),o.sourceSpan))}n.create.push(r)}function US(n,e,t){n.create.push(fS(n.job.allocateXrefId(),e.value,t,e.sourceSpan))}function $S(n,e,t){let i=e.value;if(i instanceof In&&(i=i.ast),!(i instanceof nc))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${i.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof fr))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let r=e.i18n instanceof fr?e.i18n.children.filter(a=>a instanceof ku).map(a=>a.name):[];if(r.length>0&&r.length!==i.expressions.length)throw Error(`Unexpected number of i18n placeholders (${i.expressions.length}) for BoundText with ${i.expressions.length} expressions`);let o=n.job.allocateXrefId();n.create.push(fS(o,"",t,e.sourceSpan));let s=n.job.compatibility?null:e.sourceSpan;n.update.push(SN(o,new nt(i.strings,i.expressions.map(a=>me(a,n.job,s)),r),e.sourceSpan))}function IO(n,e){let t=null,i=[];for(let r=0;r<e.branches.length;r++){let o=e.branches[r],s=n.job.allocateView(n.xref),a=zf(n,s.xref,o);o.expressionAlias!==null&&s.contextVariables.set(o.expressionAlias.name,vS);let l;if(o.i18n!==void 0){if(!(o.i18n instanceof Jr))throw Error(`Unhandled i18n metadata type for if block: ${o.i18n?.constructor.name}`);l=o.i18n}let d=(r===0?cS:dS)(s.xref,yn.Block,a,"Conditional",Qt.HTML,l,o.startSourceSpan,o.sourceSpan);n.create.push(d),t===null&&(t=s.xref);let p=o.expression?me(o.expression,n.job,null):null,h=new bf(p,d.xref,d.handle,o.expressionAlias);i.push(h),vr(s,o.children)}n.update.push(sS(t,null,i,e.sourceSpan))}function DO(n,e){if(e.cases.length===0)return;let t=null,i=[];for(let r=0;r<e.cases.length;r++){let o=e.cases[r],s=n.job.allocateView(n.xref),a=zf(n,s.xref,o),l;if(o.i18n!==void 0){if(!(o.i18n instanceof Jr))throw Error(`Unhandled i18n metadata type for switch block: ${o.i18n?.constructor.name}`);l=o.i18n}let d=(r===0?cS:dS)(s.xref,yn.Block,a,"Case",Qt.HTML,l,o.startSourceSpan,o.sourceSpan);n.create.push(d),t===null&&(t=s.xref);let p=o.expression?me(o.expression,n.job,e.startSourceSpan):null,h=new bf(p,d.xref,d.handle);i.push(h),vr(s,o.children)}n.update.push(sS(t,me(e.expression,n.job,null),i,e.sourceSpan))}function Dd(n,e,t,i,r){if(t!==void 0&&!(t instanceof Jr))throw Error("Unhandled i18n metadata type for defer block");if(i===void 0)return null;let o=n.job.allocateView(n.xref);vr(o,i);let s=uS(o.xref,yn.Block,null,`Defer${e}`,Qt.HTML,t,r,r);return n.create.push(s),s}function AO(n,e){let t=null;if(n.job.deferMeta.mode===0){if(!n.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");t=n.job.deferMeta.blocks.get(e)??null}let i=Dd(n,"",e.i18n,e.children,e.sourceSpan),r=Dd(n,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),o=Dd(n,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),s=Dd(n,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=n.job.allocateXrefId(),l=QN(a,i.xref,i.handle,t,n.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=o?.xref??null,l.placeholderSlot=o?.handle??null,l.loadingSlot=r?.handle??null,l.errorSlot=s?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,l.flags=MO(e),n.create.push(l);let u=[],d=[];tg("hydrate",e.hydrateTriggers,u,d,n,a),tg("none",e.triggers,u,d,n,a),tg("prefetch",e.prefetchTriggers,u,d,n,a),u.some(h=>h.modifier==="none")||d.some(h=>h.modifier==="none")||u.push(Br(a,{kind:Be.Idle},"none",null)),n.create.push(u),n.update.push(d)}function MO(n){return Object.keys(n.hydrateTriggers).length>0?1:null}function tg(n,e,t,i,r,o){if(e.idle!==void 0){let s=Br(o,{kind:Be.Idle},n,e.idle.sourceSpan);t.push(s)}if(e.immediate!==void 0){let s=Br(o,{kind:Be.Immediate},n,e.immediate.sourceSpan);t.push(s)}if(e.timer!==void 0){let s=Br(o,{kind:Be.Timer,delay:e.timer.delay},n,e.timer.sourceSpan);t.push(s)}if(e.hover!==void 0){let s=Br(o,{kind:Be.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.hover.sourceSpan);t.push(s)}if(e.interaction!==void 0){let s=Br(o,{kind:Be.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.interaction.sourceSpan);t.push(s)}if(e.viewport!==void 0){let s=Br(o,{kind:Be.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.viewport.sourceSpan);t.push(s)}if(e.never!==void 0){let s=Br(o,{kind:Be.Never},n,e.never.sourceSpan);t.push(s)}if(e.when!==void 0){if(e.when.value instanceof nc)throw new Error("Unexpected interpolation in defer block when trigger");let s=PN(o,me(e.when.value,r.job,e.when.sourceSpan),n,e.when.sourceSpan);i.push(s)}}function kO(n,e){if(e.i18n instanceof sn&&_O(e.i18n)){let t=n.job.allocateXrefId();n.create.push(JN(t,e.i18n,Vw(e.i18n).name,null));for(let[i,r]of Object.entries(I(I({},e.vars),e.placeholders)))r instanceof va?$S(n,r,i):US(n,r,i);n.create.push(ZN(t))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function NO(n,e){let t=n.job.allocateView(n.xref),i=`\u0275$index_${t.xref}`,r=`\u0275$count_${t.xref}`,o=new Set;t.contextVariables.set(e.item.name,e.item.value);for(let k of e.contextVariables)k.value==="$index"&&o.add(k.name),k.name==="$index"?t.contextVariables.set("$index",k.value).set(i,k.value):k.name==="$count"?t.contextVariables.set("$count",k.value).set(r,k.value):t.aliases.add({kind:St.Alias,name:null,identifier:k.name,expression:PO(k,i,r)});let s=vt(e.trackBy.span,e.sourceSpan),a=me(e.trackBy,n.job,s);vr(t,e.children);let l=null,u=null;e.empty!==null&&(l=n.job.allocateView(n.xref),vr(l,e.empty.children),u=zf(n,l.xref,e.empty));let d={$index:o,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof Jr))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof Jr))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let p=e.i18n,h=e.empty?.i18n,v=zf(n,t.xref,e),x=VN(t.xref,l?.xref??null,v,a,d,u,p,h,e.startSourceSpan,e.sourceSpan);n.create.push(x);let b=me(e.expression,n.job,vt(e.expression.span,e.sourceSpan)),N=NN(x.xref,x.handle,b,e.sourceSpan);n.update.push(N)}function PO(n,e,t){switch(n.value){case"$index":return new Pt(e);case"$count":return new Pt(t);case"$first":return new Pt(e).identical(M(0));case"$last":return new Pt(e).identical(new Pt(t).minus(M(1)));case"$even":return new Pt(e).modulo(M(2)).identical(M(0));case"$odd":return new Pt(e).modulo(M(2)).notIdentical(M(0));default:throw new Error(`AssertionError: unknown @for loop variable ${n.value}`)}}function RO(n,e){let t=n.job.allocateXrefId();n.create.push(jN(t,e.name,e.sourceSpan)),n.update.push(FN(t,e.name,me(e.value,n.job,e.valueSpan),e.sourceSpan))}function me(n,e,t){if(n instanceof In)return me(n.ast,e,t);if(n instanceof dr)return n.receiver instanceof $i&&!(n.receiver instanceof Yo)?new Pt(n.name):new Rn(me(n.receiver,e,t),n.name,null,vt(n.span,t));if(n instanceof ga){if(n.receiver instanceof $i)throw new Error("Unexpected ImplicitReceiver");return new Cn(me(n.receiver,e,t),n.args.map(i=>me(i,e,t)),void 0,vt(n.span,t))}else{if(n instanceof bn)return M(n.value,void 0,vt(n.span,t));if(n instanceof la)switch(n.operator){case"+":return new Wo(su.Plus,me(n.expr,e,t),void 0,vt(n.span,t));case"-":return new Wo(su.Minus,me(n.expr,e,t),void 0,vt(n.span,t));default:throw new Error(`AssertionError: unknown unary operator ${n.operator}`)}else if(n instanceof tn){let i=m2.get(n.operation);if(i===void 0)throw new Error(`AssertionError: unknown binary operator ${n.operation}`);return new Se(i,me(n.left,e,t),me(n.right,e,t),void 0,vt(n.span,t))}else{if(n instanceof Yo)return new Kr(e.root.xref);if(n instanceof Jo)return new hr(me(n.receiver,e,t),me(n.key,e,t),void 0,vt(n.span,t));if(n instanceof ma)throw new Error("AssertionError: Chain in unknown context");if(n instanceof ef){let i=n.keys.map((r,o)=>{let s=n.values[o];return new pa(r.key,me(s,e,t),r.quoted)});return new Ui(i,void 0,vt(n.span,t))}else{if(n instanceof Xd)return new gi(n.expressions.map(i=>me(i,e,t)));if(n instanceof Zd)return new qi(me(n.condition,e,t),me(n.trueExp,e,t),me(n.falseExp,e,t),void 0,vt(n.span,t));if(n instanceof _u)return me(n.expression,e,t);if(n instanceof Kd)return new ts(e.allocateXrefId(),new Bt,n.name,[me(n.exp,e,t),...n.args.map(i=>me(i,e,t))]);if(n instanceof hu)return new ba(me(n.receiver,e,t),me(n.key,e,t),vt(n.span,t));if(n instanceof pu)return new Ta(me(n.receiver,e,t),n.name);if(n instanceof tf)return new ns(me(n.receiver,e,t),n.args.map(i=>me(i,e,t)));if(n instanceof mn)return new Hu(vt(n.span,t));if(n instanceof mu)return LM(me(n.expression,e,t),vt(n.span,t));if(n instanceof gu)return tc(me(n.expression,e,t));if(n instanceof vu)return new $d(me(n.expression,e,t),void 0,vt(n.span,t));if(n instanceof Cu)return sw(n,e,t);if(n instanceof yu)return new au(me(n.tag,e,t),sw(n.template,e,t),void 0,vt(n.span,t));if(n instanceof Eu)return new mi(me(n.expression,e,t),void 0,vt(n.span,t));throw new Error(`Unhandled expression type "${n.constructor.name}" in file "${t?.start.file.url}"`)}}}}function sw(n,e,t){return new uu(n.elements.map(i=>new Hd(i.text,vt(i.span,t))),n.expressions.map(i=>me(i,e,t)),vt(n.span,t))}function g0(n,e,t,i){let r;return e instanceof nc?r=new nt(e.strings,e.expressions.map(o=>me(o,n,null)),Object.keys(cr(t)?.placeholders??{})):e instanceof Ke?r=me(e,n,null):r=M(e),r}var HS=new Map([[Ie.Property,j.Property],[Ie.TwoWay,j.TwoWayProperty],[Ie.Attribute,j.Attribute],[Ie.Class,j.ClassName],[Ie.Style,j.StyleProperty],[Ie.LegacyAnimation,j.LegacyAnimation],[Ie.Animation,j.Animation]]);function FO(n){return _i(n.tagName??"")[1]===Ho}function cr(n){if(n==null)return null;if(!(n instanceof sn))throw Error(`Expected i18n meta to be a Message, but got: ${n.constructor.name}`);return n}function LO(n,e,t){let i=new Array,r=new Set;for(let o of t.attributes){let s=$o.securityContext(t.name,o.name,!0);i.push(Xo(e.xref,j.Attribute,o.name,g0(n.job,o.value,o.i18n),null,s,!0,!1,null,cr(o.i18n),o.sourceSpan)),o.i18n&&r.add(o.name)}for(let o of t.inputs)r.has(o.name)&&console.error(`On component ${n.job.componentName}, the binding ${o.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),i.push(Xo(e.xref,HS.get(o.type),o.name,g0(n.job,Zu(o.value),o.i18n),o.unit,o.securityContext,!1,!1,null,cr(o.i18n)??null,o.sourceSpan));n.create.push(i.filter(o=>o?.kind===_.ExtractedAttribute)),n.update.push(i.filter(o=>o?.kind===_.Binding));for(let o of t.outputs){if(o.type===on.LegacyAnimation&&o.phase===null)throw Error("Animation listener should have a phase");o.type===on.TwoWay?n.create.push(hS(e.xref,e.handle,o.name,e.tag,zS(n,o.handler,o.handlerSpan),o.sourceSpan)):o.type===on.Animation?n.create.push(pS(e.xref,e.handle,o.name,e.tag,Ju(n,o.handler,o.handlerSpan),o.name.endsWith("enter")?"enter":"leave",o.target,!1,o.sourceSpan)):n.create.push(Z0(e.xref,e.handle,o.name,e.tag,Ju(n,o.handler,o.handlerSpan),o.phase,o.target,!1,o.sourceSpan))}i.some(o=>o?.i18nMessage)!==null&&n.create.push(gS(n.job.allocateXrefId(),new Bt,e.xref))}function OO(n,e,t,i){let r=new Array;for(let o of t.templateAttrs)if(o instanceof _a){let s=$o.securityContext(Ho,o.name,!0);r.push(Ad(n,e.xref,Ie.Attribute,o.name,o.value,null,s,!0,i,cr(o.i18n),o.sourceSpan))}else r.push(Ad(n,e.xref,o.type,o.name,Zu(o.value),o.unit,o.securityContext,!0,i,cr(o.i18n),o.sourceSpan));for(let o of t.attributes){let s=$o.securityContext(Ho,o.name,!0);r.push(Ad(n,e.xref,Ie.Attribute,o.name,o.value,null,s,!1,i,cr(o.i18n),o.sourceSpan))}for(let o of t.inputs)r.push(Ad(n,e.xref,o.type,o.name,Zu(o.value),o.unit,o.securityContext,!1,i,cr(o.i18n),o.sourceSpan));n.create.push(r.filter(o=>o?.kind===_.ExtractedAttribute)),n.update.push(r.filter(o=>o?.kind===_.Binding));for(let o of t.outputs){if(o.type===on.LegacyAnimation&&o.phase===null)throw Error("Animation listener should have a phase");if(i===yn.NgTemplate&&(o.type===on.TwoWay?n.create.push(hS(e.xref,e.handle,o.name,e.tag,zS(n,o.handler,o.handlerSpan),o.sourceSpan)):n.create.push(Z0(e.xref,e.handle,o.name,e.tag,Ju(n,o.handler,o.handlerSpan),o.phase,o.target,!1,o.sourceSpan))),i===yn.Structural&&o.type!==on.LegacyAnimation){let s=$o.securityContext(Ho,o.name,!1);n.create.push(jn(e.xref,j.Property,null,o.name,null,null,null,s))}}r.some(o=>o?.i18nMessage)!==null&&n.create.push(gS(n.job.allocateXrefId(),new Bt,e.xref))}function Ad(n,e,t,i,r,o,s,a,l,u,d){let p=typeof r=="string";if(l===yn.Structural){if(!a)switch(t){case Ie.Property:case Ie.Class:case Ie.Style:return jn(e,j.Property,null,i,null,null,u,s);case Ie.TwoWay:return jn(e,j.TwoWayProperty,null,i,null,null,u,s)}if(!p&&(t===Ie.Attribute||t===Ie.LegacyAnimation||t===Ie.Animation))return null}let h=HS.get(t);return l===yn.NgTemplate&&(t===Ie.Class||t===Ie.Style||t===Ie.Attribute&&!p)&&(h=j.Property),Xo(e,h,i,g0(n.job,r,u),o,s,p,a,l,u,d)}function Ju(n,e,t){e=Zu(e);let i=new Array,r=e instanceof ma?e.expressions:[e];if(r.length===0)throw new Error("Expected listener to have non-empty expression list.");let o=r.map(a=>me(a,n.job,t)),s=o.pop();return i.push(...o.map(a=>ti(new Xn(a,a.sourceSpan)))),i.push(ti(new Lt(s,s.sourceSpan))),i}function zS(n,e,t){e=Zu(e);let i=new Array;if(e instanceof ma)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let r=me(e,n.job,t),o=new Pt("$event"),s=new Sf(r,o);return i.push(ti(new Xn(s))),i.push(ti(new Lt(o))),i}function Zu(n){return n instanceof In?n.ast:n}function GS(n,e){VO(n.localRefs);for(let{name:t,value:i}of e.references)n.localRefs.push({name:t,target:i})}function VO(n){if(!Array.isArray(n))throw new Error("AssertionError: expected an array")}function vt(n,e){if(e===null)return null;let t=e.start.moveBy(n.start),i=e.start.moveBy(n.end),r=e.fullStart.moveBy(n.start);return new re(t,i,r)}function zf(n,e,t){let i=null;for(let r of t.children)if(!(r instanceof Kf||r instanceof U0)){if(i!==null)return null;if(r instanceof Hi||r instanceof Nn&&r.tagName!==null)i=r;else return null}if(i!==null){for(let o of i.attributes)if(!o.name.startsWith(vO)){let s=$o.securityContext(Ho,o.name,!0);n.update.push(Xo(e,j.Attribute,o.name,M(o.value),null,s,!0,!1,null,cr(o.i18n),o.sourceSpan))}for(let o of i.inputs)if(o.type!==Ie.LegacyAnimation&&o.type!==Ie.Animation&&o.type!==Ie.Attribute){let s=$o.securityContext(Ho,o.name,!0);n.create.push(jn(e,j.Property,null,o.name,null,null,null,s))}let r=i instanceof Hi?i.name:i.tagName;return r===Ho?null:r}return null}var BO=!1;function qO(){return BO}function Gf(n,e){return Jf(ge(z0).bitwiseAnd(M(n),null),e)}function UO(n){return(n.descendants?1:0)|(n.static?2:0)|(n.emitDistinctChangesOnly?4:0)}function $O(n,e){if(Array.isArray(n.predicate)){let t=[];return n.predicate.forEach(i=>{let r=i.split(",").map(o=>M(o.trim()));t.push(...r)}),e.getConstLiteral(Ne(t),!0)}else switch(n.predicate.forwardRef){case 0:case 2:return n.predicate.expression;case 1:return Y(w.resolveForwardRef).callFn([n.predicate.expression])}}function WS(n,e,t,i){let r=[];i!==void 0&&r.push(...i),n.isSignal&&r.push(new Rn(ge(Nu),n.propertyName)),r.push($O(n,e),M(UO(n))),n.read&&r.push(n.read);let o=n.isSignal?t.signalBased:t.nonSignal;return Y(o).callFn(r)}var iv=Symbol("queryAdvancePlaceholder");function QS(n){let e=[],t=0,i=()=>{t>0&&(e.unshift(Y(w.queryAdvance).callFn(t===1?[]:[M(t)]).toStmt()),t=0)};for(let r=n.length-1;r>=0;r--){let o=n[r];o===iv?t++:(i(),e.unshift(o))}return i(),e}function HO(n,e,t){let i=[],r=[],o=Bw(a=>r.push(a),H0);n.forEach(a=>{let l=WS(a,e,{signalBased:w.viewQuerySignal,nonSignal:w.viewQuery});if(i.push(l.toStmt()),a.isSignal){r.push(iv);return}let u=o(),d=Y(w.loadQuery).callFn([]),p=Y(w.queryRefresh).callFn([u.set(d)]),h=ge(Nu).prop(a.propertyName).set(a.first?u.prop("first"):u);r.push(p.and(h).toStmt())});let s=t?`${t}_Query`:null;return Qr([new Tt(z0,V0),new Tt(Nu,null)],[Gf(1,i),Gf(2,QS(r))],Mn,null,s)}function zO(n,e,t){let i=[],r=[],o=Bw(a=>r.push(a),H0);for(let a of n){if(i.push(WS(a,e,{nonSignal:w.contentQuery,signalBased:w.contentQuerySignal},[ge("dirIndex")]).toStmt()),a.isSignal){r.push(iv);continue}let l=o(),u=Y(w.loadQuery).callFn([]),d=Y(w.queryRefresh).callFn([l.set(u)]),p=ge(Nu).prop(a.propertyName).set(a.first?l.prop("first"):l);r.push(d.and(p).toStmt())}let s=t?`${t}_ContentQueries`:null;return Qr([new Tt(z0,V0),new Tt(Nu,null),new Tt("dirIndex",null)],[Gf(1,i),Gf(2,QS(r))],Mn,null,s)}var v0=class extends yP{constructor(){super(c0)}parse(e,t,i){return super.parse(e,t,i)}},Md=".",GO="attr",ng="animate",WO="class",QO="style",jO="*",ig="animate-",_0=class{_exprParser;_interpolationConfig;_schemaRegistry;errors;constructor(e,t,i,r){this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=i,this.errors=r}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,t){let i=[];for(let r of Object.keys(e)){let o=e[r];typeof o=="string"?this.parsePropertyBinding(r,o,!0,!1,t,t.start.offset,void 0,[],i,t):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${o}" (${typeof o})`,t)}return i}createDirectiveHostEventAsts(e,t){let i=[];for(let r of Object.keys(e)){let o=e[r];typeof o=="string"?this.parseEvent(r,o,!1,t,t,[],i,t):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${o}" (${typeof o})`,t)}return i}parseInterpolation(e,t,i){let r=t.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,t,r,i,this._interpolationConfig);return o&&this.errors.push(...o.errors),o}catch(o){return this._reportError(`${o}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,r)}}parseInterpolationExpression(e,t){let i=t.start.offset;try{let r=this._exprParser.parseInterpolationExpression(e,t,i);return r&&this.errors.push(...r.errors),r}catch(r){return this._reportError(`${r}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,i)}}parseInlineTemplateBinding(e,t,i,r,o,s,a,l){let u=i.start.offset+jO.length,d=this._parseTemplateBindings(e,t,i,u,r);for(let p of d){let h=Or(i,p.sourceSpan),v=p.key.source,x=Or(i,p.key.span);if(p instanceof xu){let b=p.value?p.value.source:"$implicit",N=p.value?Or(i,p.value.span):void 0;a.push(new wg(v,b,h,x,N))}else if(p.value){let b=l?h:i,N=Or(i,p.value.ast.sourceSpan);this._parsePropertyAst(v,p.value,!1,b,x,N,o,s)}else o.push([v,""]),this.parseLiteralAttr(v,null,x,r,void 0,o,s,x)}}_parseTemplateBindings(e,t,i,r,o){try{let s=this._exprParser.parseTemplateBindings(e,t,i,r,o);return s.errors.forEach(a=>this.errors.push(a)),s.warnings.forEach(a=>{this._reportError(a,i,Hr.WARNING)}),s.templateBindings}catch(s){return this._reportError(`${s}`,i),[]}}parseLiteralAttr(e,t,i,r,o,s,a,l){rg(e)?(e=e.substring(1),l!==void 0&&(l=Or(l,new kn(l.start.offset+1,l.end.offset))),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',i,Hr.ERROR),this._parseLegacyAnimation(e,t,i,r,l,o,s,a)):a.push(new ta(e,this._exprParser.wrapLiteralPrimitive(t,"",r),Fi.LITERAL_ATTR,i,l,o))}parsePropertyBinding(e,t,i,r,o,s,a,l,u,d){e.length===0&&this._reportError("Property name is missing in binding",o);let p=!1;e.startsWith(ig)?(p=!0,e=e.substring(ig.length),d!==void 0&&(d=Or(d,new kn(d.start.offset+ig.length,d.end.offset)))):rg(e)&&(p=!0,e=e.substring(1),d!==void 0&&(d=Or(d,new kn(d.start.offset+1,d.end.offset)))),p?this._parseLegacyAnimation(e,t,o,s,d,a,l,u):e.startsWith(`${ng}${Md}`)?this._parseAnimation(e,this.parseBinding(t,i,a||o,s),o,d,a,l,u):this._parsePropertyAst(e,this.parseBinding(t,i,a||o,s),r,o,d,a,l,u)}parsePropertyInterpolation(e,t,i,r,o,s,a,l){let u=this.parseInterpolation(t,r||i,l);return u?(this._parsePropertyAst(e,u,!1,i,a,r,o,s),!0):!1}_parsePropertyAst(e,t,i,r,o,s,a,l){a.push([e,t.source]),l.push(new ta(e,t,i?Fi.TWO_WAY:Fi.DEFAULT,r,o,s))}_parseAnimation(e,t,i,r,o,s,a){s.push([e,t.source]),a.push(new ta(e,t,Fi.ANIMATION,i,r,o))}_parseLegacyAnimation(e,t,i,r,o,s,a,l){e.length===0&&this._reportError("Animation trigger is missing",i);let u=this.parseBinding(t||"undefined",!1,s||i,r);a.push([e,u.source]),l.push(new ta(e,u,Fi.LEGACY_ANIMATION,i,o,s))}parseBinding(e,t,i,r){try{let o=t?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return o&&this.errors.push(...o.errors),o}catch(o){return this._reportError(`${o}`,i),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}createBoundElementProperty(e,t,i=!1,r=!0){if(t.isLegacyAnimation)return new of(t.name,Ie.LegacyAnimation,Ge.NONE,t.expression,null,t.sourceSpan,t.keySpan,t.valueSpan);let o=null,s,a=null,l=t.name.split(Md),u;if(l.length>1)if(l[0]==GO){a=l.slice(1).join(Md),i||this._validatePropertyOrAttributeName(a,t.sourceSpan,!0),u=og(this._schemaRegistry,e,a,!0);let d=a.indexOf(":");if(d>-1){let p=a.substring(0,d),h=a.substring(d+1);a=Pd(p,h)}s=Ie.Attribute}else l[0]==WO?(a=l[1],s=Ie.Class,u=[Ge.NONE]):l[0]==QO?(o=l.length>2?l[2]:null,a=l[1],s=Ie.Style,u=[Ge.STYLE]):l[0]==ng&&(a=t.name,s=Ie.Animation,u=[Ge.NONE]);if(a===null){let d=this._schemaRegistry.getMappedPropName(t.name);a=r?d:t.name,u=og(this._schemaRegistry,e,d,!1),s=t.type===Fi.TWO_WAY?Ie.TwoWay:Ie.Property,i||this._validatePropertyOrAttributeName(d,t.sourceSpan,!1)}return new of(a,s,u[0],t.expression,o,t.sourceSpan,t.keySpan,t.valueSpan)}parseEvent(e,t,i,r,o,s,a,l){e.length===0&&this._reportError("Event name is missing in binding",r),rg(e)?(e=e.slice(1),l!==void 0&&(l=Or(l,new kn(l.start.offset+1,l.end.offset))),this._parseLegacyAnimationEvent(e,t,r,o,a,l)):this._parseRegularEvent(e,t,i,r,o,s,a,l)}calcPossibleSecurityContexts(e,t,i){let r=this._schemaRegistry.getMappedPropName(t);return og(this._schemaRegistry,e,r,i)}parseEventListenerName(e){let[t,i]=WM(e,[null,e]);return{eventName:i,target:t}}parseLegacyAnimationEventName(e){let t=QM(e,[e,null]);return{eventName:t[0],phase:t[1]===null?null:t[1].toLowerCase()}}_parseLegacyAnimationEvent(e,t,i,r,o,s){let{eventName:a,phase:l}=this.parseLegacyAnimationEventName(e),u=this._parseAction(t,r);o.push(new rf(a,l,on.LegacyAnimation,u,i,r,s)),a.length===0&&this._reportError("Animation event name is missing in binding",i),l?l!=="start"&&l!=="done"&&this._reportError(`The provided animation output phase value "${l}" for "@${a}" is not supported (use start or done)`,i):this._reportError(`The animation trigger output event (@${a}) is missing its phase value name (start or done are currently supported)`,i)}_parseRegularEvent(e,t,i,r,o,s,a,l){let{eventName:u,target:d}=this.parseEventListenerName(e),p=this.errors.length,h=this._parseAction(t,o),v=this.errors.length===p;s.push([e,h.source]),i&&v&&!this._isAllowedAssignmentEvent(h)&&this._reportError("Unsupported expression in a two-way binding",r);let x=on.Regular;i&&(x=on.TwoWay),e.startsWith(`${ng}${Md}`)&&(x=on.Animation),a.push(new rf(u,d,x,h,r,o,l))}_parseAction(e,t){let i=t&&t.start?t.start.offset:0;try{let r=this._exprParser.parseAction(e,t,i,this._interpolationConfig);return r&&this.errors.push(...r.errors),!r||r.ast instanceof mn?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",t,i)):r}catch(r){return this._reportError(`${r}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,i)}}_reportError(e,t,i=Hr.ERROR){this.errors.push(new ee(t,e,i))}_validatePropertyOrAttributeName(e,t,i){let r=i?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,Hr.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof In?this._isAllowedAssignmentEvent(e.ast):e instanceof _u?this._isAllowedAssignmentEvent(e.expression):e instanceof ga&&e.args.length===1&&e.receiver instanceof dr&&e.receiver.name==="$any"&&e.receiver.receiver instanceof $i&&!(e.receiver.receiver instanceof Yo)?this._isAllowedAssignmentEvent(e.args[0]):(e instanceof dr||e instanceof Jo)&&!y0(e)}};function y0(n){return n instanceof pu||n instanceof hu?!0:n instanceof Eu?y0(n.expression):n instanceof dr||n instanceof Jo||n instanceof ga?y0(n.receiver):!1}function rg(n){return n[0]=="@"}function og(n,e,t,i){let r,o=s=>n.securityContext(s,t,i);return e===null?r=n.allKnownElementNames().map(o):(r=[],da.parse(e).forEach(s=>{let a=s.element?[s.element]:n.allKnownElementNames(),l=new Set(s.notSelectors.filter(d=>d.isElementSelector()).map(d=>d.element)),u=a.filter(d=>!l.has(d));r.push(...u.map(o))})),r.length===0?[Ge.NONE]:Array.from(new Set(r)).sort()}function Or(n,e){let t=e.start-n.start.offset,i=e.end-n.end.offset;return new re(n.start.moveBy(t),n.end.moveBy(i),n.fullStart.moveBy(t),n.details)}function YO(n){if(n==null||n.length===0||n[0]=="/")return!1;let e=n.match(JO);return e===null||e[1]=="package"||e[1]=="asset"}var JO=/^([^:/?#]+):/,ZO="select",KO="link",XO="rel",eV="href",tV="stylesheet",nV="style",iV="script",rV="ngNonBindable",oV="ngProjectAs";function jS(n){let e=null,t=null,i=null,r=!1,o="";n.attrs.forEach(l=>{let u=l.name.toLowerCase();u==ZO?e=l.value:u==eV?t=l.value:u==XO?i=l.value:l.name==rV?r=!0:l.name==oV&&l.value.length>0&&(o=l.value)}),e=sV(e);let s=n.name.toLowerCase(),a=An.OTHER;return Sg(s)?a=An.NG_CONTENT:s==nV?a=An.STYLE:s==iV?a=An.SCRIPT:s==KO&&i==tV&&(a=An.STYLESHEET),new C0(a,e,t,r,o)}var An=(function(n){return n[n.NG_CONTENT=0]="NG_CONTENT",n[n.STYLE=1]="STYLE",n[n.STYLESHEET=2]="STYLESHEET",n[n.SCRIPT=3]="SCRIPT",n[n.OTHER=4]="OTHER",n})(An||{}),C0=class{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(e,t,i,r,o){this.type=e,this.selectAttr=t,this.hrefAttr=i,this.nonBindable=r,this.projectAs=o}};function sV(n){return n===null||n.length===0?"*":n}var aV=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,lV=/^track\s+([\S\s]*)/,uV=/^(as\s+)(.*)/,ip=/^else[^\S\r\n]+if/,cV=/^let\s+([\S\s]*)/,dV=/^[$A-Z_][0-9A-Z_$]*$/i,aw=/(\s*)(\S+)(\s*)/,ou=new Set(["$index","$first","$last","$even","$odd","$count"]);function lw(n){return n==="empty"}function uw(n){return n==="else"||ip.test(n)}function fV(n,e,t,i){let r=_V(e),o=[],s=cw(n,r,i);s!==null&&o.push(new Vo(s.expression,Je(t,n.children,n.children),s.expressionAlias,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan,n.i18n));for(let p of e)if(ip.test(p.name)){let h=cw(p,r,i);if(h!==null){let v=Je(t,p.children,p.children);o.push(new Vo(h.expression,v,h.expressionAlias,p.sourceSpan,p.startSourceSpan,p.endSourceSpan,p.nameSpan,p.i18n))}}else if(p.name==="else"){let h=Je(t,p.children,p.children);o.push(new Vo(null,h,null,p.sourceSpan,p.startSourceSpan,p.endSourceSpan,p.nameSpan,p.i18n))}let a=o.length>0?o[0].startSourceSpan:n.startSourceSpan,l=o.length>0?o[o.length-1].endSourceSpan:n.endSourceSpan,u=n.sourceSpan,d=o[o.length-1];return d!==void 0&&(u=new re(a.start,d.sourceSpan.end)),{node:new df(o,u,n.startSourceSpan,l,n.nameSpan),errors:r}}function pV(n,e,t,i){let r=[],o=mV(n,r,i),s=null,a=null;for(let l of e)l.name==="empty"?a!==null?r.push(new ee(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?r.push(new ee(l.sourceSpan,"@empty block cannot have parameters")):a=new Du(Je(t,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):r.push(new ee(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(o!==null)if(o.trackBy===null)r.push(new ee(n.startSourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??n.endSourceSpan,u=new re(n.sourceSpan.start,l?.end??n.sourceSpan.end);gV(o.trackBy.expression,o.trackBy.keywordSpan,r),s=new ya(o.itemName,o.expression,o.trackBy.expression,o.trackBy.keywordSpan,o.context,Je(t,n.children,n.children),a,u,n.sourceSpan,n.startSourceSpan,l,n.nameSpan,n.i18n)}return{node:s,errors:r}}function hV(n,e,t){let i=yV(n),r=n.parameters.length>0?Ku(n.parameters[0],t):t.parseBinding("",!1,n.sourceSpan,0),o=[],s=[],a=null;for(let l of n.children){if(!(l instanceof Wn))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){s.push(new ff(l.name,l.sourceSpan,l.nameSpan));continue}let u=l.name==="case"?Ku(l.parameters[0],t):null,d=new Iu(u,Je(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);u===null?a=d:o.push(d)}return a!==null&&o.push(a),{node:new cf(r,o,s,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan),errors:i}}function mV(n,e,t){if(n.parameters.length===0)return e.push(new ee(n.startSourceSpan,"@for loop does not have an expression")),null;let[i,...r]=n.parameters,o=CV(i,e)?.match(aV);if(!o||o[2].trim().length===0)return e.push(new ee(i.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,s,a]=o;ou.has(s)&&e.push(new ee(i.sourceSpan,`@for loop item name cannot be one of ${Array.from(ou).join(", ")}.`));let l=i.expression.split(" ")[0],u=new re(i.sourceSpan.start,i.sourceSpan.start.moveBy(l.length)),d={itemName:new jr(s,"$implicit",u,u),trackBy:null,expression:Ku(i,t,a),context:Array.from(ou,p=>{let h=new re(n.startSourceSpan.end,n.startSourceSpan.end);return new jr(p,p,h,h)})};for(let p of r){let h=p.expression.match(cV);if(h!==null){let x=new re(p.sourceSpan.start.moveBy(h[0].length-h[1].length),p.sourceSpan.end);vV(p.sourceSpan,h[1],x,s,d.context,e);continue}let v=p.expression.match(lV);if(v!==null){if(d.trackBy!==null)e.push(new ee(p.sourceSpan,'@for loop can only have one "track" expression'));else{let x=Ku(p,t,v[1]);x.ast instanceof mn&&e.push(new ee(n.startSourceSpan,'@for loop must have a "track" expression'));let b=new re(p.sourceSpan.start,p.sourceSpan.start.moveBy(5));d.trackBy={expression:x,keywordSpan:b}}continue}e.push(new ee(p.sourceSpan,`Unrecognized @for loop parameter "${p.expression}"`))}return d}function gV(n,e,t){let i=new E0;n.ast.visit(i),i.hasPipe&&t.push(new ee(e,"Cannot use pipes in track expressions"))}function vV(n,e,t,i,r,o){let s=e.split(","),a=t.start;for(let l of s){let u=l.split("="),d=u.length===2?u[0].trim():"",p=u.length===2?u[1].trim():"";if(d.length===0||p.length===0)o.push(new ee(n,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!ou.has(p))o.push(new ee(n,`Unknown "let" parameter variable "${p}". The allowed variables are: ${Array.from(ou).join(", ")}`));else if(d===i)o.push(new ee(n,`Invalid @for loop "let" parameter. Variable cannot be called "${i}"`));else if(r.some(h=>h.name===d))o.push(new ee(n,`Duplicate "let" parameter variable "${p}"`));else{let[,h,v]=u[0].match(aw)??[],x=h!==void 0&&u.length===2?new re(a.moveBy(h.length),a.moveBy(h.length+v.length)):t,b;if(u.length===2){let[,k,U]=u[1].match(aw)??[];b=k!==void 0?new re(a.moveBy(u[0].length+1+k.length),a.moveBy(u[0].length+1+k.length+U.length)):void 0}let N=new re(x.start,b?.end??x.end);r.push(new jr(d,p,N,x,b))}a=a.moveBy(l.length+1)}}function _V(n){let e=[],t=!1;for(let i=0;i<n.length;i++){let r=n[i];r.name==="else"?(t?e.push(new ee(r.startSourceSpan,"Conditional can only have one @else block")):n.length>1&&i<n.length-1?e.push(new ee(r.startSourceSpan,"@else block must be last inside the conditional")):r.parameters.length>0&&e.push(new ee(r.startSourceSpan,"@else block cannot have parameters")),t=!0):ip.test(r.name)||e.push(new ee(r.startSourceSpan,`Unrecognized conditional block @${r.name}`))}return e}function yV(n){let e=[],t=!1;if(n.parameters.length!==1)return e.push(new ee(n.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let i of n.children)if(!(i instanceof Wu||i instanceof is&&i.value.trim().length===0)){if(!(i instanceof Wn)||i.name!=="case"&&i.name!=="default"){e.push(new ee(i.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}i.name==="default"?(t?e.push(new ee(i.startSourceSpan,"@switch block can only have one @default block")):i.parameters.length>0&&e.push(new ee(i.startSourceSpan,"@default block cannot have parameters")),t=!0):i.name==="case"&&i.parameters.length!==1&&e.push(new ee(i.startSourceSpan,"@case block must have exactly one parameter"))}return e}function Ku(n,e,t){let i,r;return typeof t=="string"?(i=Math.max(0,n.expression.lastIndexOf(t)),r=i+t.length):(i=0,r=n.expression.length),e.parseBinding(n.expression.slice(i,r),!1,n.sourceSpan,n.sourceSpan.start.offset+i)}function cw(n,e,t){if(n.parameters.length===0)return e.push(new ee(n.startSourceSpan,"Conditional block does not have an expression")),null;let i=Ku(n.parameters[0],t),r=null;for(let o=1;o<n.parameters.length;o++){let s=n.parameters[o],a=s.expression.match(uV);if(a===null)e.push(new ee(s.sourceSpan,`Unrecognized conditional parameter "${s.expression}"`));else if(n.name!=="if"&&!ip.test(n.name))e.push(new ee(s.sourceSpan,'"as" expression is only allowed on `@if` and `@else if` blocks'));else if(r!==null)e.push(new ee(s.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim();if(dV.test(l)){let u=s.sourceSpan.start.moveBy(a[1].length),d=new re(u,u.moveBy(l.length));r=new jr(l,l,d,d)}else e.push(new ee(s.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:i,expressionAlias:r}}function CV(n,e){let t=n.expression,i=/^\s$/,r=0,o=0,s=t.length-1;for(let a=0;a<t.length;a++){let l=t[a];if(l==="(")o=a+1,r++;else{if(i.test(l))continue;break}}if(r===0)return t;for(let a=t.length-1;a>-1;a--){let l=t[a];if(l===")"){if(s=a,r--,r===0)break}else{if(i.test(l))continue;break}}return r!==0?(e.push(new ee(n.sourceSpan,"Unclosed parentheses in expression")),null):t.slice(o,s)}var E0=class extends wu{hasPipe=!1;visitPipe(){this.hasPipe=!0}},EV=/^\d+\.?\d*(ms|s)?$/,xV=/^\s$/,dw=new Map([[pi,rn],[Wr,Fo],[hi,nn]]),_n=(function(n){return n.IDLE="idle",n.TIMER="timer",n.INTERACTION="interaction",n.IMMEDIATE="immediate",n.HOVER="hover",n.VIEWPORT="viewport",n.NEVER="never",n})(_n||{});function wV({expression:n,sourceSpan:e},t,i){let r=n.indexOf("never"),o=new re(e.start.moveBy(r),e.start.moveBy(r+5)),s=rv(n,e),a=ov(n,e);r===-1?i.push(new ee(e,'Could not find "never" keyword in expression')):sv("never",t,i,new Dg(o,e,s,null,a))}function sg({expression:n,sourceSpan:e},t,i,r){let o=n.indexOf("when"),s=new re(e.start.moveBy(o),e.start.moveBy(o+4)),a=rv(n,e),l=ov(n,e);if(o===-1)r.push(new ee(e,'Could not find "when" keyword in expression'));else{let u=Xu(n,o+1),d=t.parseBinding(n.slice(u),!1,e,e.start.offset+u);sv("when",i,r,new sf(d,e,a,s,l))}}function ag({expression:n,sourceSpan:e},t,i,r){let o=n.indexOf("on"),s=new re(e.start.moveBy(o),e.start.moveBy(o+2)),a=rv(n,e),l=ov(n,e);if(o===-1)i.push(new ee(e,'Could not find "on" keyword in expression'));else{let u=Xu(n,o+1);new x0(n,u,e,t,i,n.startsWith("hydrate")?kV:MV,r,a,s,l).parse()}}function rv(n,e){return n.startsWith("prefetch")?new re(e.start,e.start.moveBy(8)):null}function ov(n,e){return n.startsWith("hydrate")?new re(e.start,e.start.moveBy(7)):null}var x0=class{expression;start;span;triggers;errors;validator;placeholder;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(e,t,i,r,o,s,a,l,u,d){this.expression=e,this.start=t,this.span=i,this.triggers=r,this.errors=o,this.validator=s,this.placeholder=a,this.prefetchSpan=l,this.onSourceSpan=u,this.hydrateSpan=d,this.tokens=new Yu().tokenize(e.slice(t))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(Jn))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(hi)){this.advance();let t=this.errors.length,i=this.consumeParameters();if(this.errors.length!==t)break;this.consumeTrigger(e,i),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,t){let i=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),r=new re(i,i.moveBy(e.strValue.length)),o=i.moveBy(this.token().end-e.index),s=e.index===0,a=s?this.onSourceSpan:null,l=s?this.prefetchSpan:null,u=s?this.hydrateSpan:null,d=new re(s?this.span.start:i,o);try{switch(e.toString()){case _n.IDLE:this.trackTrigger("idle",SV(t,r,d,l,a,u));break;case _n.TIMER:this.trackTrigger("timer",TV(t,r,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case _n.INTERACTION:this.trackTrigger("interaction",DV(t,r,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case _n.IMMEDIATE:this.trackTrigger("immediate",bV(t,r,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case _n.HOVER:this.trackTrigger("hover",IV(t,r,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case _n.VIEWPORT:this.trackTrigger("viewport",AV(t,r,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(p){this.error(e,p.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(hi))return this.unexpectedToken(this.token()),e;this.advance();let t=[],i="";for(;this.index<this.tokens.length;){let r=this.token();if(r.isCharacter(nn)&&t.length===0){i.length&&e.push(i);break}if(r.type===fe.Character&&dw.has(r.numValue)&&t.push(dw.get(r.numValue)),t.length>0&&r.isCharacter(t[t.length-1])&&t.pop(),t.length===0&&r.isCharacter(Jn)&&i.length>0){e.push(i),i="",this.advance();continue}i+=this.tokenText(),this.advance()}return(!this.token().isCharacter(nn)||t.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(Jn)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,t){sv(e,this.triggers,this.errors,t)}error(e,t){let i=this.span.start.moveBy(this.start+e.index),r=i.moveBy(e.end-e.index);this.errors.push(new ee(new re(i,r),t))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function sv(n,e,t,i){e[n]?t.push(new ee(i.sourceSpan,`Duplicate "${n}" trigger is not allowed`)):e[n]=i}function SV(n,e,t,i,r,o){if(n.length>0)throw new Error(`"${_n.IDLE}" trigger cannot have parameters`);return new Ag(e,t,i,r,o)}function TV(n,e,t,i,r,o){if(n.length!==1)throw new Error(`"${_n.TIMER}" trigger must have exactly one parameter`);let s=Wf(n[0]);if(s===null)throw new Error(`Could not parse time value of trigger "${_n.TIMER}"`);return new kg(s,e,t,i,r,o)}function bV(n,e,t,i,r,o){if(n.length>0)throw new Error(`"${_n.IMMEDIATE}" trigger cannot have parameters`);return new Mg(e,t,i,r,o)}function IV(n,e,t,i,r,o,s,a){return a(_n.HOVER,n),new af(n[0]??null,e,t,i,r,o)}function DV(n,e,t,i,r,o,s){return s(_n.INTERACTION,n),new lf(n[0]??null,e,t,i,r,o)}function AV(n,e,t,i,r,o,s){return s(_n.VIEWPORT,n),new uf(n[0]??null,e,t,i,r,o)}function MV(n,e){if(e.length>1)throw new Error(`"${n}" trigger can only have zero or one parameters`)}function kV(n,e){if(e.length>0)throw new Error(`Hydration trigger "${n}" cannot have parameters`)}function Xu(n,e=0){let t=!1;for(let i=e;i<n.length;i++)if(xV.test(n[i]))t=!0;else if(t)return i;return-1}function Wf(n){let e=n.match(EV);if(!e)return null;let[t,i]=e;return parseFloat(t)*(i==="s"?1e3:1)}var NV=/^prefetch\s+when\s/,PV=/^prefetch\s+on\s/,RV=/^hydrate\s+when\s/,FV=/^hydrate\s+on\s/,LV=/^hydrate\s+never(\s*)$/,YS=/^minimum\s/,OV=/^after\s/,VV=/^when\s/,BV=/^on\s/;function w0(n){return n==="placeholder"||n==="loading"||n==="error"}function qV(n,e,t,i){let r=[],{placeholder:o,loading:s,error:a}=UV(e,r,t),{triggers:l,prefetchTriggers:u,hydrateTriggers:d}=GV(n,i,r,o),p=n.endSourceSpan,h=n.sourceSpan.end;if(e.length>0){let b=e[e.length-1];p=b.endSourceSpan,h=b.sourceSpan.end}let v=new re(n.sourceSpan.start,h);return{node:new Zo(Je(t,n.children,n.children),l,u,d,o,s,a,n.nameSpan,v,n.sourceSpan,n.startSourceSpan,p,n.i18n),errors:r}}function UV(n,e,t){let i=null,r=null,o=null;for(let s of n)try{if(!w0(s.name)){e.push(new ee(s.startSourceSpan,`Unrecognized block "@${s.name}"`));break}switch(s.name){case"placeholder":i!==null?e.push(new ee(s.startSourceSpan,"@defer block can only have one @placeholder block")):i=$V(s,t);break;case"loading":r!==null?e.push(new ee(s.startSourceSpan,"@defer block can only have one @loading block")):r=HV(s,t);break;case"error":o!==null?e.push(new ee(s.startSourceSpan,"@defer block can only have one @error block")):o=zV(s,t);break}}catch(a){e.push(new ee(s.startSourceSpan,a.message))}return{placeholder:i,loading:r,error:o}}function $V(n,e){let t=null;for(let i of n.parameters)if(YS.test(i.expression)){if(t!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let r=Wf(i.expression.slice(Xu(i.expression)));if(r===null)throw new Error('Could not parse time value of parameter "minimum"');t=r}else throw new Error(`Unrecognized parameter in @placeholder block: "${i.expression}"`);return new Su(Je(e,n.children,n.children),t,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function HV(n,e){let t=null,i=null;for(let r of n.parameters)if(OV.test(r.expression)){if(t!=null)throw new Error('@loading block can only have one "after" parameter');let o=Wf(r.expression.slice(Xu(r.expression)));if(o===null)throw new Error('Could not parse time value of parameter "after"');t=o}else if(YS.test(r.expression)){if(i!=null)throw new Error('@loading block can only have one "minimum" parameter');let o=Wf(r.expression.slice(Xu(r.expression)));if(o===null)throw new Error('Could not parse time value of parameter "minimum"');i=o}else throw new Error(`Unrecognized parameter in @loading block: "${r.expression}"`);return new Tu(Je(e,n.children,n.children),t,i,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function zV(n,e){if(n.parameters.length>0)throw new Error("@error block cannot have parameters");return new bu(Je(e,n.children,n.children),n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function GV(n,e,t,i){let r={},o={},s={};for(let a of n.parameters)VV.test(a.expression)?sg(a,e,r,t):BV.test(a.expression)?ag(a,r,t,i):NV.test(a.expression)?sg(a,e,o,t):PV.test(a.expression)?ag(a,o,t,i):RV.test(a.expression)?sg(a,e,s,t):FV.test(a.expression)?ag(a,s,t,i):LV.test(a.expression)?wV(a,s,t):t.push(new ee(a.sourceSpan,"Unrecognized trigger"));return s.never&&Object.keys(s).length>1&&t.push(new ee(n.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:r,prefetchTriggers:o,hydrateTriggers:s}}var WV=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,fw=1,pw=2,hw=3,mw=4,gw=5,QV=6,Ql=7,Vr={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},lg="*",jV=new Set(["link","style","script","ng-template","ng-container","ng-content"]),YV=new Set(["ngProjectAs","ngNonBindable"]);function JV(n,e,t){let i=new S0(e,t),r=Je(i,n,n),o=e.errors.concat(i.errors),s={nodes:r,errors:o,styleUrls:i.styleUrls,styles:i.styles,ngContentSelectors:i.ngContentSelectors};return t.collectCommentNodes&&(s.commentNodes=i.commentNodes),s}var S0=class{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(e,t){this.bindingParser=e,this.options=t}visitElement(e){let t=Ld(e.i18n);t&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let i=jS(e);if(i.type===An.SCRIPT)return null;if(i.type===An.STYLE){let k=ZV(e);return k!==null&&this.styles.push(k),null}else if(i.type===An.STYLESHEET&&YO(i.hrefAttr))return this.styleUrls.push(i.hrefAttr),null;let r=hk(e.name),{attributes:o,boundEvents:s,references:a,variables:l,templateVariables:u,elementHasInlineTemplate:d,parsedProperties:p,templateParsedProperties:h,i18nAttrsMeta:v}=this.prepareAttributes(e.attrs,r),x=this.extractDirectives(e),b;i.nonBindable?b=Je(vw,e.children).flat(1/0):b=Je(this,e.children,e.children);let N;if(i.type===An.NG_CONTENT){let k=i.selectAttr,U=e.attrs.map($=>this.visitAttribute($));N=new Ca(k,U,b,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n),this.ngContentSelectors.push(k)}else if(r){let k=this.categorizePropertyAttributes(e.name,p,v);N=new Nn(e.name,o,k.bound,s,x,[],b,a,l,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let k=this.categorizePropertyAttributes(e.name,p,v);if(e.name==="ng-container")for(let U of k.bound)U.type===Ie.Attribute&&this.reportError("Attribute bindings are not supported on ng-container. Use property bindings instead.",U.sourceSpan);N=new Hi(e.name,o,k.bound,s,x,b,a,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n)}return d&&(N=this.wrapInTemplate(N,h,u,v,r,t)),t&&(this.inI18nBlock=!1),N}visitAttribute(e){return new _a(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Ld(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let t=e.i18n,i={},r={};return Object.keys(t.placeholders).forEach(o=>{let s=t.placeholders[o];if(o.startsWith(_k)){let a=o.trim(),l=this.bindingParser.parseInterpolationExpression(s.text,s.sourceSpan);i[a]=new va(l,s.sourceSpan)}else r[o]=this._visitTextWithInterpolation(s.text,s.sourceSpan,null)}),new Fw(i,r,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new Kf(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,t){let i=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return i.errors.length===0&&i.ast instanceof mn&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new U0(e.name,i,e.sourceSpan,e.nameSpan,e.valueSpan)}visitComponent(e){let t=Ld(e.i18n);if(t&&(this.inI18nBlock&&this.reportError("Cannot mark a component as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0),e.tagName!==null&&jV.has(e.tagName))return this.reportError(`Tag name "${e.tagName}" cannot be used as a component tag`,e.startSourceSpan),null;let{attributes:i,boundEvents:r,references:o,templateVariables:s,elementHasInlineTemplate:a,parsedProperties:l,templateParsedProperties:u,i18nAttrsMeta:d}=this.prepareAttributes(e.attrs,!1);this.validateSelectorlessReferences(o);let p=this.extractDirectives(e),h;e.attrs.find(b=>b.name==="ngNonBindable")?h=Je(vw,e.children).flat(1/0):h=Je(this,e.children,e.children);let v=this.categorizePropertyAttributes(e.tagName,l,d),x=new tu(e.componentName,e.tagName,e.fullName,i,v.bound,r,p,h,o,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return a&&(x=this.wrapInTemplate(x,u,s,d,!1,t)),t&&(this.inI18nBlock=!1),x}visitDirective(){return null}visitBlockParameter(){return null}visitBlock(e,t){let i=Array.isArray(t)?t.indexOf(e):-1;if(i===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let r=null;switch(e.name){case"defer":r=qV(e,this.findConnectedBlocks(i,t,w0),this,this.bindingParser);break;case"switch":r=hV(e,this,this.bindingParser);break;case"for":r=pV(e,this.findConnectedBlocks(i,t,lw),this,this.bindingParser);break;case"if":r=fV(e,this.findConnectedBlocks(i,t,uw),this,this.bindingParser);break;default:let o;w0(e.name)?(o=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):lw(e.name)?(o=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):uw(e.name)?(o=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):o=`Unrecognized block @${e.name}.`,r={node:new ff(e.name,e.sourceSpan,e.nameSpan),errors:[new ee(e.sourceSpan,o)]};break}return this.errors.push(...r.errors),r.node}findConnectedBlocks(e,t,i){let r=[];for(let o=e+1;o<t.length;o++){let s=t[o];if(!(s instanceof Wu)){if(s instanceof is&&s.value.trim().length===0){this.processedNodes.add(s);continue}if(!(s instanceof Wn)||!i(s.name))break;r.push(s),this.processedNodes.add(s)}}return r}categorizePropertyAttributes(e,t,i){let r=[],o=[];return t.forEach(s=>{let a=i[s.name];if(s.isLiteral)o.push(new _a(s.name,s.expression.source||"",s.sourceSpan,s.keySpan,s.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,s,!0,!1);r.push(bg.fromBoundElementProperty(l,a))}}),{bound:r,literal:o}}prepareAttributes(e,t){let i=[],r=[],o=[],s=[],a=[],l={},u=[],d=[],p=!1;for(let h of e){let v=!1,x=_w(h.name),b=!1;if(h.i18n&&(l[h.name]=h.i18n),x.startsWith(lg)){p&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",h.sourceSpan),b=!0,p=!0;let N=h.value,k=x.substring(lg.length),U=[],$=h.valueSpan?h.valueSpan.fullStart.offset:h.sourceSpan.fullStart.offset+h.name.length;this.bindingParser.parseInlineTemplateBinding(k,N,h.sourceSpan,$,[],u,U,!0),d.push(...U.map(H=>new jr(H.name,H.value,H.sourceSpan,H.keySpan,H.valueSpan)))}else v=this.parseAttribute(t,h,[],i,r,o,s);!v&&!b&&a.push(this.visitAttribute(h))}return{attributes:a,boundEvents:r,references:s,variables:o,templateVariables:d,elementHasInlineTemplate:p,parsedProperties:i,templateParsedProperties:u,i18nAttrsMeta:l}}parseAttribute(e,t,i,r,o,s,a){let l=_w(t.name),u=t.value,d=t.sourceSpan,p=t.valueSpan?t.valueSpan.fullStart.offset:d.fullStart.offset;function h(k,U,$){let H=t.name.length-l.length,K=k.start.moveBy(U.length+H),ve=K.moveBy($.length);return new re(K,ve,K,$)}let v=l.match(WV);if(v){if(v[fw]!=null){let k=v[Ql],U=h(d,v[fw],k);this.bindingParser.parsePropertyBinding(k,u,!1,!1,d,p,t.valueSpan,i,r,U)}else if(v[pw])if(e){let k=v[Ql],U=h(d,v[pw],k);this.parseVariable(k,u,d,U,t.valueSpan,s)}else this.reportError('"let-" is only supported on ng-template elements.',d);else if(v[hw]){let k=v[Ql],U=h(d,v[hw],k);this.parseReference(k,u,d,U,t.valueSpan,a)}else if(v[mw]){let k=[],U=v[Ql],$=h(d,v[mw],U);this.bindingParser.parseEvent(U,u,!1,d,t.valueSpan||d,i,k,$),ug(k,o)}else if(v[gw]){let k=v[Ql],U=h(d,v[gw],k);this.bindingParser.parsePropertyBinding(k,u,!1,!0,d,p,t.valueSpan,i,r,U),this.parseAssignmentEvent(k,u,d,t.valueSpan,i,o,U,p)}else if(v[QV]){let k=h(d,"",l);this.bindingParser.parseLiteralAttr(l,u,d,p,t.valueSpan,i,r,k)}return!0}let x=null;if(l.startsWith(Vr.BANANA_BOX.start)?x=Vr.BANANA_BOX:l.startsWith(Vr.PROPERTY.start)?x=Vr.PROPERTY:l.startsWith(Vr.EVENT.start)&&(x=Vr.EVENT),x!==null&&l.endsWith(x.end)&&l.length>x.start.length+x.end.length){let k=l.substring(x.start.length,l.length-x.end.length),U=h(d,x.start,k);if(x.start===Vr.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(k,u,!1,!0,d,p,t.valueSpan,i,r,U),this.parseAssignmentEvent(k,u,d,t.valueSpan,i,o,U,p);else if(x.start===Vr.PROPERTY.start)this.bindingParser.parsePropertyBinding(k,u,!1,!1,d,p,t.valueSpan,i,r,U);else{let $=[];this.bindingParser.parseEvent(k,u,!1,d,t.valueSpan||d,i,$,U),ug($,o)}return!0}let b=h(d,"",l);return this.bindingParser.parsePropertyInterpolation(l,u,d,t.valueSpan,i,r,b,t.valueTokens??null)}extractDirectives(e){let t=e instanceof vn?e.tagName:e.name,i=[],r=new Set;for(let o of e.directives){let s=!1;for(let v of o.attrs)v.name.startsWith(lg)?(s=!0,this.reportError(`Shorthand template syntax "${v.name}" is not supported inside a directive context`,v.sourceSpan)):YV.has(v.name)&&(s=!0,this.reportError(`Attribute "${v.name}" is not supported in a directive context`,v.sourceSpan));if(!s&&r.has(o.name)&&(s=!0,this.reportError(`Cannot apply directive "${o.name}" multiple times on the same element`,o.sourceSpan)),s)continue;let{attributes:a,parsedProperties:l,boundEvents:u,references:d,i18nAttrsMeta:p}=this.prepareAttributes(o.attrs,!1);this.validateSelectorlessReferences(d);let{bound:h}=this.categorizePropertyAttributes(t,l,p);for(let v of h)v.type!==Ie.Property&&v.type!==Ie.TwoWay&&(s=!0,this.reportError("Binding is not supported in a directive context",v.sourceSpan));s||(r.add(o.name),i.push(new Rw(o.name,a,h,u,d,o.sourceSpan,o.startSourceSpan,o.endSourceSpan,void 0)))}return i}filterAnimationAttributes(e){return e.filter(t=>!t.name.startsWith("animate."))}filterAnimationInputs(e){return e.filter(t=>t.type!==Ie.Animation)}wrapInTemplate(e,t,i,r,o,s){let a=this.categorizePropertyAttributes("ng-template",t,r),l=[];a.literal.forEach(h=>l.push(h)),a.bound.forEach(h=>l.push(h));let u={attributes:[],inputs:[],outputs:[]};(e instanceof Hi||e instanceof tu)&&(u.attributes.push(...this.filterAnimationAttributes(e.attributes)),u.inputs.push(...this.filterAnimationInputs(e.inputs)),u.outputs.push(...e.outputs));let d=o&&s?void 0:e.i18n,p;return e instanceof tu?p=e.tagName:e instanceof Nn?p=null:p=e.name,new Nn(p,u.attributes,u.inputs,u.outputs,[],l,[e],[],i,!1,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,d)}_visitTextWithInterpolation(e,t,i,r){let o=TS(e),s=this.bindingParser.parseInterpolation(o,t,i);return s?new va(s,t,r):new Ro(o,t)}parseVariable(e,t,i,r,o,s){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',i):e.length===0&&this.reportError("Variable does not have a name",i),s.push(new jr(e,t,i,r,o))}parseReference(e,t,i,r,o,s){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',i):e.length===0?this.reportError("Reference does not have a name",i):s.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,i),s.push(new Au(e,t,i,r,o))}parseAssignmentEvent(e,t,i,r,o,s,a,l){let u=[];this.bindingParser.parseEvent(`${e}Change`,t,!0,i,r||i,o,u,a),ug(u,s)}validateSelectorlessReferences(e){if(e.length===0)return;let t=new Set;for(let i of e)i.value.length>0?this.reportError("Cannot specify a value for a local reference in this context",i.valueSpan||i.sourceSpan):t.has(i.name)?this.reportError("Duplicate reference names are not allowed",i.sourceSpan):t.add(i.name)}reportError(e,t,i=Hr.ERROR){this.errors.push(new ee(t,e,i))}},T0=class{visitElement(e){let t=jS(e);if(t.type===An.SCRIPT||t.type===An.STYLE||t.type===An.STYLESHEET)return null;let i=Je(this,e.children,null);return new Hi(e.name,Je(this,e.attrs),[],[],[],i,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid)}visitComment(e){return null}visitAttribute(e){return new _a(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new Ro(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,t){let i=[new Ro(e.startSourceSpan.toString(),e.startSourceSpan),...Je(this,e.children)];return e.endSourceSpan!==null&&i.push(new Ro(e.endSourceSpan.toString(),e.endSourceSpan)),i}visitBlockParameter(e,t){return null}visitLetDeclaration(e,t){return new Ro(`@let ${e.name} = ${e.value};`,e.sourceSpan)}visitComponent(e,t){let i=Je(this,e.children,null);return new Hi(e.fullName,Je(this,e.attrs),[],[],[],i,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,!1)}visitDirective(e,t){return null}},vw=new T0;function _w(n){return/^data-/i.test(n)?n.substring(5):n}function ug(n,e){e.push(...n.map(t=>Ig.fromParsedEvent(t)))}function ZV(n){return n.children.length!==1||!(n.children[0]instanceof is)?null:n.children[0].value}var KV=[" ",`
`,"\r","	"];function XV(n,e,t={}){let{interpolationConfig:i,preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:o}=t,s=t.enableSelectorless??!1,a=Qf(i,s),u=new v0().parse(n,e,V(I({leadingTriviaChars:KV},t),{tokenizeExpansionForms:!0,tokenizeBlocks:t.enableBlockSyntax??!0,tokenizeLet:t.enableLetSyntax??!0,selectorlessEnabled:s}));if(!t.alwaysAttemptHtmlToR3AstConversion&&u.errors&&u.errors.length>0){let K={interpolationConfig:i,preserveWhitespaces:r,errors:u.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&(K.commentNodes=[]),K}let d=u.rootNodes,p=!(t.preserveSignificantWhitespace??!0),h=new Vf(i,!r,o,void 0,t.preserveSignificantWhitespace,p),v=h.visitAllWithErrors(d);if(!t.alwaysAttemptHtmlToR3AstConversion&&v.errors&&v.errors.length>0){let K={interpolationConfig:i,preserveWhitespaces:r,errors:v.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&(K.commentNodes=[]),K}d=v.rootNodes,r||(d=Je(new Lf(!0,void 0,!1),d),h.hasI18nMeta&&(d=Je(new Vf(i,!1,void 0,void 0,!0,p),d)));let{nodes:x,errors:b,styleUrls:N,styles:k,ngContentSelectors:U,commentNodes:$}=JV(d,a,{collectCommentNodes:!!t.collectCommentNodes});b.push(...u.errors,...v.errors);let H={interpolationConfig:i,preserveWhitespaces:r,errors:b.length>0?b:null,nodes:x,styleUrls:N,styles:k,ngContentSelectors:U};return t.collectCommentNodes&&(H.commentNodes=$),H}var e3=new Aa;function Qf(n=Oi,e=!1){return new _0(new Of(new Yu,e),n,e3,[])}var JS="%COMP%",t3=`_nghost-${JS}`,n3=`_ngcontent-${JS}`;function ZS(n,e,t){let i=new Zr,r=L0(n.selector);return i.set("type",n.type.value),r.length>0&&i.set("selectors",na(r)),n.queries.length>0&&i.set("contentQueries",zO(n.queries,e,n.name)),n.viewQueries.length&&i.set("viewQuery",HO(n.viewQueries,e,n.name)),i.set("hostBindings",c3(n.host,n.typeSourceSpan,t,e,n.selector||"",n.name,i)),i.set("inputs",KE(n.inputs,!0)),i.set("outputs",KE(n.outputs)),n.exportAs!==null&&i.set("exportAs",Ne(n.exportAs.map(o=>M(o)))),n.isStandalone===!1&&i.set("standalone",M(!1)),n.isSignal&&i.set("signals",M(!0)),i}function KS(n,e){let t=[],i=e.providers,r=e.viewProviders;if(i||r){let o=[i||new gi([])];r&&o.push(r),t.push(Y(w.ProvidersFeature).callFn(o))}if(e.hostDirectives?.length&&t.push(Y(w.HostDirectivesFeature).callFn([m3(e.hostDirectives)])),e.usesInheritance&&t.push(Y(w.InheritDefinitionFeature)),e.fullInheritance&&t.push(Y(w.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&t.push(Y(w.NgOnChangesFeature)),"externalStyles"in e&&e.externalStyles?.length){let o=e.externalStyles.map(s=>M(s));t.push(Y(w.ExternalStylesFeature).callFn([Ne(o)]))}t.length&&n.set("features",Ne(t))}function i3(n,e,t){let i=ZS(n,e,t);KS(i,n);let r=Y(w.defineDirective).callFn([i.toLiteralMap()],void 0,!0),o=u3(n);return{expression:r,type:o,statements:[]}}function r3(n,e,t){let i=ZS(n,e,t);KS(i,n);let r=n.selector&&da.parse(n.selector),o=r&&r[0];if(o){let x=o.getAttrs();x.length&&i.set("attrs",e.getConstLiteral(Ne(x.map(b=>b!=null?M(b):M(void 0))),!0))}let s=n.name,a=null;if(n.defer.mode===1&&n.defer.dependenciesFn!==null){let x=`${s}_DeferFn`;e.statements.push(new Ct(x,n.defer.dependenciesFn,void 0,Ft.Final)),a=ge(x)}let l=n.isStandalone&&!n.hasDirectiveDependencies?gn.DomOnly:gn.Full,u=yO(n.name,n.template.nodes,e,l,n.relativeContextFilePath,n.i18nUseExternalIds,n.defer,a,n.relativeTemplatePath,qO());OS(u,z.Tmpl);let d=mO(u,e);if(u.contentSelectors!==null&&i.set("ngContentSelectors",u.contentSelectors),i.set("decls",M(u.root.decls)),i.set("vars",M(u.root.vars)),u.consts.length>0&&(u.constsInitializers.length>0?i.set("consts",vi([],[...u.constsInitializers,new Lt(Ne(u.consts))])):i.set("consts",Ne(u.consts))),i.set("template",d),n.declarationListEmitMode!==3&&n.declarations.length>0)i.set("dependencies",s3(Ne(n.declarations.map(x=>x.type)),n.declarationListEmitMode));else if(n.declarationListEmitMode===3){let x=[n.type.value];n.rawImports&&x.push(n.rawImports),i.set("dependencies",Y(w.getComponentDepsFactory).callFn(x))}n.encapsulation===null&&(n.encapsulation=Do.Emulated);let p=!!n.externalStyles?.length;if(n.styles&&n.styles.length){let b=(n.encapsulation==Do.Emulated?h3(n.styles,n3,t3):n.styles).reduce((N,k)=>(k.trim().length>0&&N.push(e.getConstLiteral(M(k))),N),[]);b.length>0&&(p=!0,i.set("styles",Ne(b)))}!p&&n.encapsulation===Do.Emulated&&(n.encapsulation=Do.None),n.encapsulation!==Do.Emulated&&i.set("encapsulation",M(n.encapsulation)),n.animations!==null&&i.set("data",an([{key:"animation",value:n.animations,quoted:!1}])),n.changeDetection!==null&&(typeof n.changeDetection=="number"&&n.changeDetection!==F0.Default?i.set("changeDetection",M(n.changeDetection)):typeof n.changeDetection=="object"&&i.set("changeDetection",n.changeDetection));let h=Y(w.defineComponent).callFn([i.toLiteralMap()],void 0,!0),v=o3(n);return{expression:h,type:v,statements:[]}}function o3(n){let e=XS(n);return e.push(I0(n.template.ngContentSelectors)),e.push(Ot(M(n.isStandalone))),e.push(eT(n)),n.isSignal&&e.push(Ot(M(n.isSignal))),Ot(Y(w.ComponentDeclaration,e))}function s3(n,e){switch(e){case 0:return n;case 1:return vi([],n);case 2:let t=n.prop("map").callFn([Y(w.resolveForwardRef)]);return vi([],t);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function a3(n){return Ot(M(n))}function b0(n){let e=Object.keys(n).map(t=>{let i=Array.isArray(n[t])?n[t][0]:n[t];return{key:t,value:M(i),quoted:!0}});return an(e)}function I0(n){return n.length>0?Ot(Ne(n.map(e=>M(e)))):Bi}function XS(n){let e=n.selector!==null?n.selector.replace(/\n/g,""):null;return[Zf(n.type.type,n.typeArgumentCount),e!==null?a3(e):Bi,n.exportAs!==null?I0(n.exportAs):Bi,Ot(l3(n)),Ot(b0(n.outputs)),I0(n.queries.map(t=>t.propertyName))]}function l3(n){return an(Object.keys(n.inputs).map(e=>{let t=n.inputs[e],i=[{key:"alias",value:M(t.bindingPropertyName),quoted:!0},{key:"required",value:M(t.required),quoted:!0}];return t.isSignal&&i.push({key:"isSignal",value:M(t.isSignal),quoted:!0}),{key:e,value:an(i),quoted:!0}}))}function u3(n){let e=XS(n);return e.push(Bi),e.push(Ot(M(n.isStandalone))),e.push(eT(n)),n.isSignal&&e.push(Ot(M(n.isSignal))),Ot(Y(w.DirectiveDeclaration,e))}function c3(n,e,t,i,r,o,s){let a=t.createBoundHostProperties(n.properties,e),l=t.createDirectiveHostEventAsts(n.listeners,e);n.specialAttributes.styleAttr&&(n.attributes.style=M(n.specialAttributes.styleAttr)),n.specialAttributes.classAttr&&(n.attributes.class=M(n.specialAttributes.classAttr));let u=CO({componentName:o,componentSelector:r,properties:a,events:l,attributes:n.attributes},t,i);OS(u,z.Host),s.set("hostAttrs",u.root.attributes);let d=u.root.vars;return d!==null&&d>0&&s.set("hostVars",M(d)),gO(u)}var d3=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function f3(n){let e={},t={},i={},r={};for(let o of Object.keys(n)){let s=n[o],a=o.match(d3);if(a===null)switch(o){case"class":if(typeof s!="string")throw new Error("Class binding must be string");r.classAttr=s;break;case"style":if(typeof s!="string")throw new Error("Style binding must be string");r.styleAttr=s;break;default:typeof s=="string"?e[o]=M(s):e[o]=s}else if(a[1]!=null){if(typeof s!="string")throw new Error("Property binding must be string");i[a[1]]=s}else if(a[2]!=null){if(typeof s!="string")throw new Error("Event binding must be string");t[a[2]]=s}}return{attributes:e,listeners:t,properties:i,specialAttributes:r}}function p3(n,e){let t=Qf();return t.createDirectiveHostEventAsts(n.listeners,e),t.createBoundHostProperties(n.properties,e),t.errors}function h3(n,e,t){let i=new qg;return n.map(r=>i.shimCssText(r,e,t))}function eT(n){return n.hostDirectives?.length?Ot(Ne(n.hostDirectives.map(e=>an([{key:"directive",value:tc(e.directive.type),quoted:!1},{key:"inputs",value:b0(e.inputs||{}),quoted:!1},{key:"outputs",value:b0(e.outputs||{}),quoted:!1}])))):Bi}function m3(n){let e=[],t=!1;for(let i of n){if(!i.inputs&&!i.outputs)e.push(i.directive.type);else{let r=[{key:"directive",value:i.directive.type,quoted:!1}];if(i.inputs){let o=yw(i.inputs);o&&r.push({key:"inputs",value:o,quoted:!1})}if(i.outputs){let o=yw(i.outputs);o&&r.push({key:"outputs",value:o,quoted:!1})}e.push(an(r))}i.isForwardReference&&(t=!0)}return t?new Gr([],[new Lt(Ne(e))]):Ne(e)}function yw(n){let e=[];for(let t in n)n.hasOwnProperty(t)&&e.push(M(t),M(n[t]));return e.length>0?Ne(e):null}var D0=class extends wu{visit(e){e instanceof In?this.visit(e.ast):e.visit(this)}visitElement(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitTemplate(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.templateAttrs),this.visitAllTemplateNodes(e.variables),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitContent(e){this.visitAllTemplateNodes(e.children)}visitBoundAttribute(e){this.visit(e.value)}visitBoundEvent(e){this.visit(e.handler)}visitBoundText(e){this.visit(e.value)}visitIcu(e){Object.keys(e.vars).forEach(t=>this.visit(e.vars[t])),Object.keys(e.placeholders).forEach(t=>this.visit(e.placeholders[t]))}visitDeferredBlock(e){e.visitAll(this)}visitDeferredTrigger(e){e instanceof sf&&this.visit(e.value)}visitDeferredBlockPlaceholder(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockError(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockLoading(e){this.visitAllTemplateNodes(e.children)}visitSwitchBlock(e){this.visit(e.expression),this.visitAllTemplateNodes(e.cases)}visitSwitchBlockCase(e){e.expression&&this.visit(e.expression),this.visitAllTemplateNodes(e.children)}visitForLoopBlock(e){e.item.visit(this),this.visitAllTemplateNodes(e.contextVariables),this.visit(e.expression),this.visitAllTemplateNodes(e.children),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.visitAllTemplateNodes(e.children)}visitIfBlock(e){this.visitAllTemplateNodes(e.branches)}visitIfBlockBranch(e){e.expression&&this.visit(e.expression),e.expressionAlias?.visit(this),this.visitAllTemplateNodes(e.children)}visitLetDeclaration(e){this.visit(e.value)}visitComponent(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitDirective(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.references)}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitText(e){}visitUnknownBlock(e){}visitAllTemplateNodes(e){for(let t of e)this.visit(t)}};var A0=class{directiveMatcher;constructor(e){this.directiveMatcher=e}bind(e){if(!e.template&&!e.host)throw new Error("Empty bound targets are not supported");let t=new Map,i=[],r=new Set,o=new Map,s=new Map,a=new Map,l=new Map,u=new Map,d=new Map,p=new Set,h=new Set,v=[];if(e.template){let x=jf.apply(e.template);g3(x,a),M0.apply(e.template,this.directiveMatcher,t,i,r,o,s),Yf.applyWithScope(e.template,x,l,u,d,p,h,v)}return e.host&&(t.set(e.host.node,e.host.directives),Yf.applyWithScope(e.host.node,jf.apply(e.host.node),l,u,d,p,h,v)),new k0(e,t,i,r,o,s,l,u,d,a,p,h,v)}},jf=class n{parentScope;rootNode;namedEntities=new Map;elementLikeInScope=new Set;childScopes=new Map;isDeferred;constructor(e,t){this.parentScope=e,this.rootNode=t,this.isDeferred=e!==null&&e.isDeferred?!0:t instanceof Zo}static newRootScope(){return new n(null,null)}static apply(e){let t=n.newRootScope();return t.ingest(e),t}ingest(e){e instanceof Nn?(e.variables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof Vo?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(t=>t.visit(this))):e instanceof ya?(this.visitVariable(e.item),e.contextVariables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof Iu||e instanceof Du||e instanceof Zo||e instanceof bu||e instanceof Su||e instanceof Tu||e instanceof Ca?e.children.forEach(t=>t.visit(this)):e instanceof Mu||e.forEach(t=>t.visit(this))}visitElement(e){this.visitElementLike(e)}visitTemplate(e){e.directives.forEach(t=>t.visit(this)),e.references.forEach(t=>this.visitReference(t)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitComponent(e){this.visitElementLike(e)}visitDirective(e){e.references.forEach(t=>this.visitReference(t))}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitElementLike(e){e.directives.forEach(t=>t.visit(this)),e.references.forEach(t=>this.visitReference(t)),e.children.forEach(t=>t.visit(this)),this.elementLikeInScope.add(e)}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let t=this.childScopes.get(e);if(t===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return t}ingestScopedNode(e){let t=new n(this,e);t.ingest(e),this.childScopes.set(e,t)}},M0=class n{directiveMatcher;directives;eagerDirectives;missingDirectives;bindings;references;isInDeferBlock=!1;constructor(e,t,i,r,o,s){this.directiveMatcher=e,this.directives=t,this.eagerDirectives=i,this.missingDirectives=r,this.bindings=o,this.references=s}static apply(e,t,i,r,o,s,a){new n(t,i,r,o,s,a).ingest(e)}ingest(e){e.forEach(t=>t.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitDeferredBlock(e){let t=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(i=>i.visit(this)),this.isInDeferBlock=t,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockError(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(t=>t.visit(this))}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){e.children.forEach(t=>t.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(t=>t.visit(this))}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(t=>t.visit(this))}visitContent(e){e.children.forEach(t=>t.visit(this))}visitComponent(e){if(this.directiveMatcher instanceof Vd){let t=this.directiveMatcher.match(e.componentName);t.length>0?this.trackSelectorlessMatchesAndDirectives(e,t):this.missingDirectives.add(e.componentName)}e.directives.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this))}visitDirective(e){if(this.directiveMatcher instanceof Vd){let t=this.directiveMatcher.match(e.name);t.length>0?this.trackSelectorlessMatchesAndDirectives(e,t):this.missingDirectives.add(e.name)}}visitElementOrTemplate(e){if(this.directiveMatcher instanceof Od){let t=[],i=Ek(e);this.directiveMatcher.match(i,(r,o)=>t.push(...o)),this.trackSelectorBasedBindingsAndDirectives(e,t)}else e.references.forEach(t=>{t.value.trim()===""&&this.references.set(t,e)});e.directives.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this))}trackMatchedDirectives(e,t){t.length>0&&(this.directives.set(e,t),this.isInDeferBlock||this.eagerDirectives.push(...t))}trackSelectorlessMatchesAndDirectives(e,t){if(t.length===0)return;this.trackMatchedDirectives(e,t);let i=(r,o,s)=>{r[s].hasBindingPropertyName(o.name)&&this.bindings.set(o,r)};for(let r of t)e.inputs.forEach(o=>i(r,o,"inputs")),e.attributes.forEach(o=>i(r,o,"inputs")),e.outputs.forEach(o=>i(r,o,"outputs"));e.references.forEach(r=>this.references.set(r,{directive:t[0],node:e}))}trackSelectorBasedBindingsAndDirectives(e,t){this.trackMatchedDirectives(e,t),e.references.forEach(r=>{let o=null;if(r.value.trim()==="")o=t.find(s=>s.isComponent)||null;else if(o=t.find(s=>s.exportAs!==null&&s.exportAs.some(a=>a===r.value))||null,o===null)return;o!==null?this.references.set(r,{directive:o,node:e}):this.references.set(r,e)});let i=(r,o)=>{let s=t.find(l=>l[o].hasBindingPropertyName(r.name)),a=s!==void 0?s:e;this.bindings.set(r,a)};e.inputs.forEach(r=>i(r,"inputs")),e.attributes.forEach(r=>i(r,"inputs")),e instanceof Nn&&e.templateAttrs.forEach(r=>i(r,"inputs")),e.outputs.forEach(r=>i(r,"outputs"))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},Yf=class n extends D0{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode=e=>e.visit(this);constructor(e,t,i,r,o,s,a,l,u){super(),this.bindings=e,this.symbols=t,this.usedPipes=i,this.eagerPipes=r,this.deferBlocks=o,this.nestingLevel=s,this.scope=a,this.rootNode=l,this.level=u}static applyWithScope(e,t,i,r,o,s,a,l){let u=e instanceof Nn?e:null;new n(i,r,s,a,l,o,t,u,0).ingest(e)}ingest(e){if(e instanceof Nn)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Vo)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof ya)this.visitNode(e.item),e.contextVariables.forEach(t=>this.visitNode(t)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Zo){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof Iu||e instanceof Du||e instanceof bu||e instanceof Su||e instanceof Tu||e instanceof Ca?(e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)):e instanceof Mu?this.nestingLevel.set(e,0):e.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.directives.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.hydrateTriggers.when?.value.visit(this),e.hydrateTriggers.never?.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){super.visitLetDeclaration(e),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,t){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,t)}visitPropertyRead(e,t){return this.maybeMap(e,e.name),super.visitPropertyRead(e,t)}visitSafePropertyRead(e,t){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,t)}ingestScopedNode(e){let t=this.scope.getChildScope(e);new n(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,t,e,this.level+1).ingest(e)}maybeMap(e,t){if(!(e.receiver instanceof $i)||e.receiver instanceof Yo)return;let i=this.scope.lookup(t);i!==null&&this.bindings.set(e,i)}},k0=class{target;directives;eagerDirectives;missingDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(e,t,i,r,o,s,a,l,u,d,p,h,v){this.target=e,this.directives=t,this.eagerDirectives=i,this.missingDirectives=r,this.bindings=o,this.references=s,this.exprTargets=a,this.symbols=l,this.nestingLevel=u,this.scopedNodeEntities=d,this.usedPipes=p,this.eagerPipes=h,this.deferredBlocks=v.map(x=>x[0]),this.deferredScopes=new Map(v)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(t=>t.forEach(i=>e.add(i))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,t){if(!(t instanceof lf)&&!(t instanceof uf)&&!(t instanceof af))return null;let i=t.reference;if(i===null){let o=null;if(e.placeholder!==null){for(let s of e.placeholder.children)if(!(s instanceof Kf)){if(o!==null)return null;s instanceof Hi&&(o=s)}}return o}let r=this.findEntityInScope(e,i);if(r instanceof Au&&this.getDefinitionNodeOfSymbol(r)!==e){let o=this.getReferenceTarget(r);if(o!==null)return this.referenceTargetToElement(o)}if(e.placeholder!==null){let o=this.findEntityInScope(e.placeholder,i),s=o instanceof Au?this.getReferenceTarget(o):null;if(s!==null)return this.referenceTargetToElement(s)}return null}isDeferred(e){for(let t of this.deferredBlocks){if(!this.deferredScopes.has(t))continue;let i=[this.deferredScopes.get(t)];for(;i.length>0;){let r=i.pop();if(r.elementLikeInScope.has(e))return!0;i.push(...r.childScopes.values())}}return!1}referencedDirectiveExists(e){return!this.missingDirectives.has(e)}findEntityInScope(e,t){let i=this.getEntitiesInScope(e);for(let r of i)if(r.name===t)return r;return null}referenceTargetToElement(e){return e instanceof Hi?e:e instanceof Nn||e.node instanceof tu||e.node instanceof Rw||e.node instanceof Mu?null:this.referenceTargetToElement(e.node)}};function g3(n,e){let t=new Map;function i(o){if(t.has(o.rootNode))return t.get(o.rootNode);let s=o.namedEntities,a;return o.parentScope!==null?a=new Map([...i(o.parentScope),...s]):a=new Map(s),t.set(o.rootNode,a),a}let r=[n];for(;r.length>0;){let o=r.pop();for(let s of o.childScopes.values())r.push(s);i(o)}for(let[o,s]of t)e.set(o,new Set(s.values()))}var N0=class{},P0=class{jitEvaluator;FactoryTarget=ar;ResourceLoader=N0;elementSchemaRegistry=new Aa;constructor(e=new Og){this.jitEvaluator=e}compilePipe(e,t,i){let r={name:i.name,type:_t(i.type),typeArgumentCount:0,deps:null,pipeName:i.pipeName,pure:i.pure,isStandalone:i.isStandalone},o=ux(r);return this.jitExpression(o.expression,e,t,[])}compilePipeDeclaration(e,t,i){let r=P3(i),o=ux(r);return this.jitExpression(o.expression,e,t,[])}compileInjectable(e,t,i){let{expression:r,statements:o}=XE({name:i.name,type:_t(i.type),typeArgumentCount:i.typeArgumentCount,providedIn:Tw(i.providedIn),useClass:Xs(i,"useClass"),useFactory:Sw(i,"useFactory"),useValue:Xs(i,"useValue"),useExisting:Xs(i,"useExisting"),deps:i.deps?.map(rT)},!0);return this.jitExpression(r,e,t,o)}compileInjectableDeclaration(e,t,i){let{expression:r,statements:o}=XE({name:i.type.name,type:_t(i.type),typeArgumentCount:0,providedIn:Tw(i.providedIn),useClass:Xs(i,"useClass"),useFactory:Sw(i,"useFactory"),useValue:Xs(i,"useValue"),useExisting:Xs(i,"useExisting"),deps:i.deps?.map(bw)},!0);return this.jitExpression(r,e,t,o)}compileInjector(e,t,i){let r={name:i.name,type:_t(i.type),providers:i.providers&&i.providers.length>0?new ye(i.providers):null,imports:i.imports.map(s=>new ye(s))},o=lx(r);return this.jitExpression(o.expression,e,t,[])}compileInjectorDeclaration(e,t,i){let r=R3(i),o=lx(r);return this.jitExpression(o.expression,e,t,[])}compileNgModule(e,t,i){let r={kind:zr.Global,type:_t(i.type),bootstrap:i.bootstrap.map(_t),declarations:i.declarations.map(_t),publicDeclarationTypes:null,imports:i.imports.map(_t),includeImportTypes:!0,exports:i.exports.map(_t),selectorScopeMode:yf.Inline,containsForwardDecls:!1,schemas:i.schemas?i.schemas.map(_t):null,id:i.id?new ye(i.id):null},o=zk(r);return this.jitExpression(o.expression,e,t,[])}compileNgModuleDeclaration(e,t,i){let r=Gk(i);return this.jitExpression(r,e,t,[])}compileDirective(e,t,i){let r=xw(i);return this.compileDirectiveFromMeta(e,t,r)}compileDirectiveDeclaration(e,t,i){let r=this.createParseSourceSpan("Directive",i.type.name,t),o=nT(i,r);return this.compileDirectiveFromMeta(e,t,o)}compileDirectiveFromMeta(e,t,i){let r=new jd,o=Qf(),s=i3(i,r,o);return this.jitExpression(s.expression,e,t,r.statements)}compileComponent(e,t,i){let{template:r,interpolation:o,defer:s}=iT(i.template,i.name,t,i.preserveWhitespaces,i.interpolation,void 0),a=V(I(I({},i),xw(i)),{selector:i.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:r,declarations:i.declarations.map(C3),declarationListEmitMode:0,defer:s,styles:[...i.styles,...r.styles],encapsulation:i.encapsulation,interpolation:o,changeDetection:i.changeDetection??null,animations:i.animations!=null?new ye(i.animations):null,viewProviders:i.viewProviders!=null?new ye(i.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),l=`ng:///${i.name}.js`;return this.compileComponentFromMeta(e,l,a)}compileComponentDeclaration(e,t,i){let r=this.createParseSourceSpan("Component",i.type.name,t),o=y3(i,r,t);return this.compileComponentFromMeta(e,t,o)}compileComponentFromMeta(e,t,i){let r=new jd,o=Qf(i.interpolation),s=r3(i,r,o);return this.jitExpression(s.expression,e,t,r.statements)}compileFactory(e,t,i){let r=Ao({name:i.name,type:_t(i.type),typeArgumentCount:i.typeArgumentCount,deps:w3(i.deps),target:i.target});return this.jitExpression(r.expression,e,t,r.statements)}compileFactoryDeclaration(e,t,i){let r=Ao({name:i.type.name,type:_t(i.type),typeArgumentCount:0,deps:Array.isArray(i.deps)?i.deps.map(bw):i.deps,target:i.target});return this.jitExpression(r.expression,e,t,r.statements)}createParseSourceSpan(e,t,i){return Ok(e,t,i)}jitExpression(e,t,i,r){let o=[...r,new Ct("$def",e,void 0,Ft.Exported)];return this.jitEvaluator.evaluateStatements(i,o,new Bg(t),!0).$def}};function Cw(n){return V(I({},n),{isSignal:n.isSignal,predicate:tT(n.predicate),read:n.read?new ye(n.read):null,static:n.static,emitDistinctChangesOnly:n.emitDistinctChangesOnly})}function Ew(n){return{propertyName:n.propertyName,first:n.first??!1,predicate:tT(n.predicate),descendants:n.descendants??!1,read:n.read?new ye(n.read):null,static:n.static??!1,emitDistinctChangesOnly:n.emitDistinctChangesOnly??!0,isSignal:!!n.isSignal}}function tT(n){return Array.isArray(n)?n:q0(new ye(n),1)}function xw(n){let e=N3(n.inputs||[]),t=dg(n.outputs||[]),i=n.propMetadata,r={},o={};for(let a in i)i.hasOwnProperty(a)&&i[a].forEach(l=>{D3(l)?r[a]={bindingPropertyName:l.alias||a,classPropertyName:a,required:l.required||!1,isSignal:!!l.isSignal,transformFunction:l.transform!=null?new ye(l.transform):null}:A3(l)&&(o[a]=l.alias||a)});let s=n.hostDirectives?.length?n.hostDirectives.map(a=>typeof a=="function"?{directive:_t(a),inputs:null,outputs:null,isForwardReference:!1}:{directive:_t(a.directive),isForwardReference:!1,inputs:a.inputs?dg(a.inputs):null,outputs:a.outputs?dg(a.outputs):null}):null;return V(I({},n),{typeArgumentCount:0,typeSourceSpan:n.typeSourceSpan,type:_t(n.type),deps:null,host:I({},T3(n.propMetadata,n.typeSourceSpan,n.host)),inputs:I(I({},e),r),outputs:I(I({},t),o),queries:n.queries.map(Cw),providers:n.providers!=null?new ye(n.providers):null,viewQueries:n.viewQueries.map(Cw),fullInheritance:!1,hostDirectives:s})}function nT(n,e){let t=n.hostDirectives?.length?n.hostDirectives.map(i=>({directive:_t(i.directive),isForwardReference:!1,inputs:i.inputs?ww(i.inputs):null,outputs:i.outputs?ww(i.outputs):null})):null;return{name:n.type.name,type:_t(n.type),typeSourceSpan:e,selector:n.selector??null,inputs:n.inputs?M3(n.inputs):{},outputs:n.outputs??{},host:v3(n.host),queries:(n.queries??[]).map(Ew),viewQueries:(n.viewQueries??[]).map(Ew),providers:n.providers!==void 0?new ye(n.providers):null,exportAs:n.exportAs??null,usesInheritance:n.usesInheritance??!1,lifecycle:{usesOnChanges:n.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:n.isStandalone??Pw(n.version),isSignal:n.isSignal??!1,hostDirectives:t}}function v3(n={}){return{attributes:_3(n.attributes??{}),listeners:n.listeners??{},properties:n.properties??{},specialAttributes:{classAttr:n.classAttribute,styleAttr:n.styleAttribute}}}function ww(n){let e=null;for(let t=1;t<n.length;t+=2)e=e||{},e[n[t-1]]=n[t];return e}function _3(n){let e={};for(let t of Object.keys(n))e[t]=new ye(n[t]);return e}function y3(n,e,t){let{template:i,interpolation:r,defer:o}=iT(n.template,n.type.name,t,n.preserveWhitespaces??!1,n.interpolation,n.deferBlockDependencies),s=[];if(n.dependencies)for(let l of n.dependencies)switch(l.kind){case"directive":case"component":s.push(cg(l));break;case"pipe":s.push(x3(l));break}else(n.components||n.directives||n.pipes)&&(n.components&&s.push(...n.components.map(l=>cg(l,!0))),n.directives&&s.push(...n.directives.map(l=>cg(l))),n.pipes&&s.push(...E3(n.pipes)));let a=s.some(({kind:l})=>l===wa.Directive||l===wa.NgModule);return V(I({},nT(n,e)),{template:i,styles:n.styles??[],declarations:s,viewProviders:n.viewProviders!==void 0?new ye(n.viewProviders):null,animations:n.animations!==void 0?new ye(n.animations):null,defer:o,changeDetection:n.changeDetection??F0.Default,encapsulation:n.encapsulation??Do.Emulated,interpolation:r,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null,hasDirectiveDependencies:a})}function C3(n){return V(I({},n),{type:new ye(n.type)})}function cg(n,e=null){return{kind:wa.Directive,isComponent:e||n.kind==="component",selector:n.selector,type:new ye(n.type),inputs:n.inputs??[],outputs:n.outputs??[],exportAs:n.exportAs??null}}function E3(n){return n?Object.keys(n).map(e=>({kind:wa.Pipe,name:e,type:new ye(n[e])})):[]}function x3(n){return{kind:wa.Pipe,name:n.name,type:new ye(n.type)}}function iT(n,e,t,i,r,o){let s=r?hf.fromArray(r):Oi,a=XV(n,t,{preserveWhitespaces:i,interpolationConfig:s});if(a.errors!==null){let d=a.errors.map(p=>p.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${d}`)}let u=new A0(null).bind({template:a.nodes});return{template:a,interpolation:s,defer:S3(u,o)}}function Xs(n,e){if(n.hasOwnProperty(e))return q0(new ye(n[e]),0)}function Sw(n,e){if(n.hasOwnProperty(e))return new ye(n[e])}function Tw(n){let e=typeof n=="function"?new ye(n):new Vt(n??null);return q0(e,0)}function w3(n){return n==null?null:n.map(rT)}function rT(n){let e=n.attribute!=null,t=n.token===null?null:new ye(n.token),i=e?new ye(n.attribute):t;return oT(i,e,n.host,n.optional,n.self,n.skipSelf)}function bw(n){let e=n.attribute??!1,t=n.token===null?null:new ye(n.token);return oT(t,e,n.host??!1,n.optional??!1,n.self??!1,n.skipSelf??!1)}function oT(n,e,t,i,r,o){let s=e?M("unknown"):null;return{token:n,attributeNameType:s,host:t,optional:i,self:r,skipSelf:o}}function S3(n,e){let t=n.getDeferBlocks(),i=new Map;for(let r=0;r<t.length;r++){let o=e?.[r];i.set(t[r],o?new ye(o):null)}return{mode:0,blocks:i}}function T3(n,e,t){let i=f3(t||{}),r=p3(i,e);if(r.length)throw new Error(r.map(o=>o.msg).join(`
`));for(let o in n)n.hasOwnProperty(o)&&n[o].forEach(s=>{b3(s)?i.properties[s.hostPropertyName||o]=ik("this",o):I3(s)&&(i.listeners[s.eventName||o]=`${o}(${(s.args||[]).join(",")})`)});return i}function b3(n){return n.ngMetadataName==="HostBinding"}function I3(n){return n.ngMetadataName==="HostListener"}function D3(n){return n.ngMetadataName==="Input"}function A3(n){return n.ngMetadataName==="Output"}function M3(n){return Object.keys(n).reduce((e,t)=>{let i=n[t];return typeof i=="string"||Array.isArray(i)?e[t]=k3(i):e[t]={bindingPropertyName:i.publicName,classPropertyName:t,transformFunction:i.transformFunction!==null?new ye(i.transformFunction):null,required:i.isRequired,isSignal:i.isSignal},e},{})}function k3(n){return typeof n=="string"?{bindingPropertyName:n,classPropertyName:n,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:n[0],classPropertyName:n[1],transformFunction:n[2]?new ye(n[2]):null,required:!1,isSignal:!1}}function N3(n){return n.reduce((e,t)=>{if(typeof t=="string"){let[i,r]=sT(t);e[r]={bindingPropertyName:i,classPropertyName:r,required:!1,isSignal:!1,transformFunction:null}}else e[t.name]={bindingPropertyName:t.alias||t.name,classPropertyName:t.name,required:t.required||!1,isSignal:!1,transformFunction:t.transform!=null?new ye(t.transform):null};return e},{})}function dg(n){return n.reduce((e,t)=>{let[i,r]=sT(t);return e[r]=i,e},{})}function sT(n){let[e,t]=n.split(":",2).map(i=>i.trim());return[t??e,e]}function P3(n){return{name:n.type.name,type:_t(n.type),typeArgumentCount:0,pipeName:n.name,deps:null,pure:n.pure??!0,isStandalone:n.isStandalone??Pw(n.version)}}function R3(n){return{name:n.type.name,type:_t(n.type),providers:n.providers!==void 0&&n.providers.length>0?new ye(n.providers):null,imports:n.imports!==void 0?n.imports.map(e=>new ye(e)):[]}}function F3(n){let e=n.ng||(n.ng={});e.\u0275compilerFacade=new P0}var R0=class{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return Li.PARSABLE_DATA}},BJ=new R0;var qJ=new vg("20.3.13");F3(eu);var av;function rp(){return av}function Qi(n){let e=av;return av=n,e}var aT=Symbol("NotFound");function La(n){return n===aT||n?.name==="\u0275NotFound"}var jt=null,op=!1,lv=1,L3=null,It=Symbol("SIGNAL");function le(n){let e=jt;return jt=n,e}function up(){return jt}var rs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oa(n){if(op)throw new Error("");if(jt===null)return;jt.consumerOnSignalRead(n);let e=jt.producersTail;if(e!==void 0&&e.producer===n)return;let t,i=jt.recomputing;if(i&&(t=e!==void 0?e.nextProducer:jt.producers,t!==void 0&&t.producer===n)){jt.producersTail=t,t.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===jt&&(!i||V3(r,jt)))return;let o=qa(jt),s={producer:n,consumer:jt,nextProducer:t,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};jt.producersTail=s,e!==void 0?e.nextProducer=s:jt.producers=s,o&&dT(n,s)}function lT(){lv++}function cp(n){if(!(qa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===lv)){if(!n.producerMustRecompute(n)&&!Ba(n)){lp(n);return}n.producerRecomputeValue(n),lp(n)}}function uv(n){if(n.consumers===void 0)return;let e=op;op=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||O3(i)}}finally{op=e}}function cv(){return jt?.consumerAllowSignalWrites!==!1}function O3(n){n.dirty=!0,uv(n),n.consumerMarkedDirty?.(n)}function lp(n){n.dirty=!1,n.lastCleanEpoch=lv}function os(n){return n&&uT(n),le(n)}function uT(n){n.producersTail=void 0,n.recomputing=!0}function Va(n,e){le(e),n&&cT(n)}function cT(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(qa(n))do t=dv(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ba(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,i=e.lastReadVersion;if(i!==t.version||(cp(t),i!==t.version))return!0}return!1}function ss(n){if(qa(n)){let e=n.producers;for(;e!==void 0;)e=dv(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function dT(n,e){let t=n.consumersTail,i=qa(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)dT(r.producer,r)}function dv(n){let e=n.producer,t=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!qa(e)){let o=e.producers;for(;o!==void 0;)o=dv(o)}return t}function qa(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function dp(n){L3?.(n)}function V3(n,e){let t=e.producersTail;if(t!==void 0){let i=e.producers;do{if(i===n)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function fp(n,e){return Object.is(n,e)}function sc(n,e){let t=Object.create(B3);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(cp(t),Oa(t),t.value===oc)throw t.error;return t.value};return i[It]=t,dp(t),i}var sp=Symbol("UNSET"),ap=Symbol("COMPUTING"),oc=Symbol("ERRORED"),B3=V(I({},rs),{value:sp,dirty:!0,error:null,equal:fp,kind:"computed",producerMustRecompute(n){return n.value===sp||n.value===ap},producerRecomputeValue(n){if(n.value===ap)throw new Error("");let e=n.value;n.value=ap;let t=os(n),i,r=!1;try{i=n.computation(),le(null),r=e!==sp&&e!==oc&&i!==oc&&n.equal(e,i)}catch(o){i=oc,n.error=o}finally{Va(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function q3(){throw new Error}var fT=q3;function pT(n){fT(n)}function fv(n){fT=n}var U3=null;function pv(n,e){let t=Object.create(pp);t.value=n,e!==void 0&&(t.equal=e);let i=()=>hT(t);return i[It]=t,dp(t),[i,s=>Ua(t,s),s=>hv(t,s)]}function hT(n){return Oa(n),n.value}function Ua(n,e){cv()||pT(n),n.equal(n.value,e)||(n.value=e,$3(n))}function hv(n,e){cv()||pT(n),Ua(n,e(n.value))}var pp=V(I({},rs),{equal:fp,value:void 0,kind:"signal"});function $3(n){n.version++,lT(),uv(n),U3?.(n)}function Ue(n){return typeof n=="function"}function hp(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var mp=hp(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ac(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ln=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Ue(i))try{i()}catch(o){e=o instanceof mp?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{mT(o)}catch(s){e=e??[],s instanceof mp?e=[...e,...s.errors]:e.push(s)}}if(e)throw new mp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)mT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ac(t,e)}remove(e){let{_finalizers:t}=this;t&&ac(t,e),e instanceof n&&e._removeParent(this)}};ln.EMPTY=(()=>{let n=new ln;return n.closed=!0,n})();var mv=ln.EMPTY;function gp(n){return n instanceof ln||n&&"closed"in n&&Ue(n.remove)&&Ue(n.add)&&Ue(n.unsubscribe)}function mT(n){Ue(n)?n():n.unsubscribe()}var Ci={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $a={setTimeout(n,e,...t){let{delegate:i}=$a;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$a;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function vp(n){$a.setTimeout(()=>{let{onUnhandledError:e}=Ci;if(e)e(n);else throw n})}function gv(){}var gT=vv("C",void 0,void 0);function vT(n){return vv("E",void 0,n)}function _T(n){return vv("N",n,void 0)}function vv(n,e,t){return{kind:n,value:e,error:t}}var as=null;function Ha(n){if(Ci.useDeprecatedSynchronousErrorHandling){let e=!as;if(e&&(as={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=as;if(as=null,t)throw i}}else n()}function yT(n){Ci.useDeprecatedSynchronousErrorHandling&&as&&(as.errorThrown=!0,as.error=n)}var ls=class extends ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gp(e)&&e.add(this)):this.destination=G3}static create(e,t,i){return new za(e,t,i)}next(e){this.isStopped?yv(_T(e),this):this._next(e)}error(e){this.isStopped?yv(vT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yv(gT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},H3=Function.prototype.bind;function _v(n,e){return H3.call(n,e)}var Cv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){_p(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){_p(i)}else _p(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){_p(t)}}},za=class extends ls{constructor(e,t,i){super();let r;if(Ue(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Ci.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&_v(e.next,o),error:e.error&&_v(e.error,o),complete:e.complete&&_v(e.complete,o)}):r=e}this.destination=new Cv(r)}};function _p(n){Ci.useDeprecatedSynchronousErrorHandling?yT(n):vp(n)}function z3(n){throw n}function yv(n,e){let{onStoppedNotification:t}=Ci;t&&$a.setTimeout(()=>t(n,e))}var G3={closed:!0,next:gv,error:z3,complete:gv};var Ga=typeof Symbol=="function"&&Symbol.observable||"@@observable";function CT(n){return n}function ET(n){return n.length===0?CT:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var lt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=Q3(t)?t:new za(t,i,r);return Ha(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=xT(i),new i((r,o)=>{let s=new za({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Ga](){return this}pipe(...t){return ET(t)(this)}toPromise(t){return t=xT(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function xT(n){var e;return(e=n??Ci.Promise)!==null&&e!==void 0?e:Promise}function W3(n){return n&&Ue(n.next)&&Ue(n.error)&&Ue(n.complete)}function Q3(n){return n&&n instanceof ls||W3(n)&&gp(n)}function j3(n){return Ue(n?.lift)}function Wa(n){return e=>{if(j3(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qa(n,e,t,i,r){return new Ev(n,e,t,i,r)}var Ev=class extends ls{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var wT=hp(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ji=(()=>{class n extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new yp(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new wT}next(t){Ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?mv:(this.currentObservers=null,o.push(t),new ln(()=>{this.currentObservers=null,ac(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new lt;return t.source=this,t}}return n.create=(e,t)=>new yp(e,t),n})(),yp=class extends ji{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:mv}};var lc=class extends ji{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};function Y3(n){return n[n.length-1]}function ST(n){return Ue(Y3(n))?n.pop():void 0}function bT(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(p){s(p)}}function l(d){try{u(i.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}function TT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function us(n){return this instanceof us?(this.v=n,this):new us(n)}function IT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(v){return function(x){return Promise.resolve(x).then(v,p)}}function a(v,x){i[v]&&(r[v]=function(b){return new Promise(function(N,k){o.push([v,b,N,k])>1||l(v,b)})},x&&(r[v]=x(r[v])))}function l(v,x){try{u(i[v](x))}catch(b){h(o[0][3],b)}}function u(v){v.value instanceof us?Promise.resolve(v.value.v).then(d,p):h(o[0][2],v)}function d(v){l("next",v)}function p(v){l("throw",v)}function h(v,x){v(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function DT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof TT=="function"?TT(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Cp=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ep(n){return Ue(n?.then)}function xp(n){return Ue(n[Ga])}function wp(n){return Symbol.asyncIterator&&Ue(n?.[Symbol.asyncIterator])}function Sp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function J3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tp=J3();function bp(n){return Ue(n?.[Tp])}function Ip(n){return IT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield us(t.read());if(r)return yield us(void 0);yield yield us(i)}}finally{t.releaseLock()}})}function Dp(n){return Ue(n?.getReader)}function io(n){if(n instanceof lt)return n;if(n!=null){if(xp(n))return Z3(n);if(Cp(n))return K3(n);if(Ep(n))return X3(n);if(wp(n))return AT(n);if(bp(n))return eB(n);if(Dp(n))return tB(n)}throw Sp(n)}function Z3(n){return new lt(e=>{let t=n[Ga]();if(Ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function K3(n){return new lt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function X3(n){return new lt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,vp)})}function eB(n){return new lt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function AT(n){return new lt(e=>{nB(n,e).catch(t=>e.error(t))})}function tB(n){return AT(Ip(n))}function nB(n,e){var t,i,r,o;return bT(this,void 0,void 0,function*(){try{for(t=DT(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Yi(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Ap(n,e=0){return Wa((t,i)=>{t.subscribe(Qa(i,r=>Yi(i,n,()=>i.next(r),e),()=>Yi(i,n,()=>i.complete(),e),r=>Yi(i,n,()=>i.error(r),e)))})}function Mp(n,e=0){return Wa((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function MT(n,e){return io(n).pipe(Mp(e),Ap(e))}function kT(n,e){return io(n).pipe(Mp(e),Ap(e))}function NT(n,e){return new lt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function PT(n,e){return new lt(t=>{let i;return Yi(t,e,()=>{i=n[Tp](),Yi(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>Ue(i?.return)&&i.return()})}function kp(n,e){if(!n)throw new Error("Iterable cannot be null");return new lt(t=>{Yi(t,e,()=>{let i=n[Symbol.asyncIterator]();Yi(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function RT(n,e){return kp(Ip(n),e)}function FT(n,e){if(n!=null){if(xp(n))return MT(n,e);if(Cp(n))return NT(n,e);if(Ep(n))return kT(n,e);if(wp(n))return kp(n,e);if(bp(n))return PT(n,e);if(Dp(n))return RT(n,e)}throw Sp(n)}function xv(n,e){return e?FT(n,e):io(n)}function cs(n,e){return Wa((t,i)=>{let r=0;t.subscribe(Qa(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:iB}=Array;function rB(n,e){return iB(e)?n(...e):n(e)}function LT(n){return cs(e=>rB(n,e))}var{isArray:oB}=Array,{getPrototypeOf:sB,prototype:aB,keys:lB}=Object;function OT(n){if(n.length===1){let e=n[0];if(oB(e))return{args:e,keys:null};if(uB(e)){let t=lB(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function uB(n){return n&&typeof n=="object"&&sB(n)===aB}function VT(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function wv(...n){let e=ST(n),{args:t,keys:i}=OT(n),r=new lt(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let d=0;d<s;d++){let p=!1;io(t[d]).subscribe(Qa(o,h=>{p||(p=!0,u--),a[d]=h},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(i?VT(i,a):a),o.complete())}))}});return e?r.pipe(LT(e)):r}function BT(n){let e=le(null);try{return n()}finally{le(e)}}var qT=V(I({},rs),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function UT(n){if(n.dirty=!1,n.version>0&&!Ba(n))return;n.version++;let e=os(n);try{n.cleanup(),n.fn()}finally{Va(n,e)}}var Fp="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",te=class extends Error{code;constructor(e,t){super(ms(e,t)),this.code=e}};function cB(n){return`NG0${Math.abs(n)}`}function ms(n,e){return`${cB(n)}${e?": "+e:""}`}var ri=globalThis;function We(n){for(let e in n)if(n[e]===We)return e;throw Error("")}function zT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ro(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ro).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Lp(n,e){return n?e?`${n} ${e}`:n:e||""}var dB=We({__forward_ref__:We});function Jt(n){return n.__forward_ref__=Jt,n.toString=function(){return ro(this())},n}function qt(n){return Rv(n)?n():n}function Rv(n){return typeof n=="function"&&n.hasOwnProperty(dB)&&n.__forward_ref__===Jt}function Qe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Cr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Op(n){return fB(n,Vp)}function fB(n,e){return n.hasOwnProperty(e)&&n[e]||null}function pB(n){let e=n?.[Vp]??null;return e||null}function Tv(n){return n&&n.hasOwnProperty(Pp)?n[Pp]:null}var Vp=We({\u0275prov:We}),Pp=We({\u0275inj:We}),_e=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Qe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Fv(n){return n&&!!n.\u0275providers}var Lv=We({\u0275cmp:We}),Ov=We({\u0275dir:We}),Vv=We({\u0275pipe:We});var cc=We({\u0275fac:We}),gs=We({__NG_ELEMENT_ID__:We}),$T=We({__NG_ENV_ID__:We});function xi(n){return typeof n=="string"?n:n==null?"":String(n)}function GT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():xi(n)}var WT=We({ngErrorCode:We}),hB=We({ngErrorMessage:We}),mB=We({ngTokenPath:We});function Bv(n,e){return QT("",-200,e)}function Bp(n,e){throw new te(-201,!1)}function QT(n,e,t){let i=new te(e,n);return i[WT]=e,i[hB]=n,t&&(i[mB]=t),i}function gB(n){return n[WT]}var bv;function jT(){return bv}function un(n){let e=bv;return bv=n,e}function qv(n,e,t){let i=Op(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(e!==void 0)return e;Bp(n,"Injector")}var vB={},ds=vB,_B="__NG_DI_FLAG__",Iv=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=fs(t)||0;try{return this.injector.get(e,i&8?null:ds,i)}catch(r){if(La(r))return r;throw r}}};function yB(n,e=0){let t=rp();if(t===void 0)throw new te(-203,!1);if(t===null)return qv(n,void 0,e);{let i=CB(e),r=t.retrieve(n,i);if(La(r)){if(i.optional)return null;throw r}return r}}function Le(n,e=0){return(jT()||yB)(qt(n),e)}function J(n,e){return Le(n,fs(e))}function fs(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function CB(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Dv(n){let e=[];for(let t=0;t<n.length;t++){let i=qt(n[t]);if(Array.isArray(i)){if(i.length===0)throw new te(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=EB(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(Le(r,o))}else e.push(Le(i))}return e}function EB(n){return n[_B]}function oo(n,e){let t=n.hasOwnProperty(cc);return t?n[cc]:null}function YT(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function JT(n){return n.flat(Number.POSITIVE_INFINITY)}function qp(n,e){n.forEach(t=>Array.isArray(t)?qp(t,e):e(t))}function Uv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function pc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ZT(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function KT(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function Up(n,e,t){let i=Ya(n,e);return i>=0?n[i|1]=t:(i=~i,KT(n,i,e,t)),i}function $p(n,e){let t=Ya(n,e);if(t>=0)return n[t|1]}function Ya(n,e){return xB(n,e,1)}function xB(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var ao={},Yt=[],lo=new _e(""),$v=new _e("",-1),Hv=new _e(""),dc=class{get(e,t=ds){if(t===ds){let r=QT("",-201);throw r.name="\u0275NotFound",r}return t}};function vs(n){return n[Lv]||null}function zv(n){return n[Ov]||null}function XT(n){return n[Vv]||null}function Hp(n){return{\u0275providers:n}}function eb(...n){return{\u0275providers:Gv(!0,n),\u0275fromNgModule:!0}}function Gv(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return qp(e,s=>{let a=s;Rp(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&tb(r,o),t}function tb(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Wv(r,o=>{e(o,i)})}}function Rp(n,e,t,i){if(n=qt(n),!n)return!1;let r=null,o=Tv(n),s=!o&&vs(n);if(!o&&!s){let l=n.ngModule;if(o=Tv(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Rp(u,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{qp(o.imports,d=>{Rp(d,e,t,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&tb(u,e)}if(!a){let u=oo(r)||(()=>new r);e({provide:r,useFactory:u,deps:Yt},r),e({provide:Hv,useValue:r,multi:!0},r),e({provide:lo,useValue:()=>Le(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=n;Wv(l,d=>{e(d,u)})}}else return!1;return r!==n&&n.providers!==void 0}function Wv(n,e){for(let t of n)Fv(t)&&(t=t.\u0275providers),Array.isArray(t)?Wv(t,e):e(t)}var wB=We({provide:String,useValue:We});function nb(n){return n!==null&&typeof n=="object"&&wB in n}function SB(n){return!!(n&&n.useExisting)}function TB(n){return!!(n&&n.useFactory)}function ps(n){return typeof n=="function"}function ib(n){return!!n.useClass}var hc=new _e(""),Np={},HT={},Sv;function mc(){return Sv===void 0&&(Sv=new dc),Sv}var ii=class{},hs=class extends ii{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Mv(e,s=>this.processProvider(s)),this.records.set($v,ja(void 0,this)),r.has("environment")&&this.records.set(ii,ja(void 0,this));let o=this.records.get(hc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Hv,Yt,{self:!0}))}retrieve(e,t){let i=fs(t)||0;try{return this.get(e,ds,i)}catch(r){if(La(r))return r;throw r}}destroy(){uc(this),this._destroyed=!0;let e=le(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(e)}}onDestroy(e){return uc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){uc(this);let t=Qi(this),i=un(void 0),r;try{return e()}finally{Qi(t),un(i)}}get(e,t=ds,i){if(uc(this),e.hasOwnProperty($T))return e[$T](this);let r=fs(i),o,s=Qi(this),a=un(void 0);try{if(!(r&4)){let u=this.records.get(e);if(u===void 0){let d=MB(e)&&Op(e);d&&this.injectableDefInScope(d)?u=ja(Av(e),Np):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let l=r&2?mc():this.parent;return t=r&8&&t===ds?null:t,l.get(e,t)}catch(l){let u=gB(l);throw u===-200||u===-201?new te(u,null):l}finally{un(a),Qi(s)}}resolveInjectorInitializers(){let e=le(null),t=Qi(this),i=un(void 0),r;try{let o=this.get(lo,Yt,{self:!0});for(let s of o)s()}finally{Qi(t),un(i),le(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(ro(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=qt(e);let t=ps(e)?e:qt(e&&e.provide),i=IB(e);if(!ps(e)&&e.multi===!0){let r=this.records.get(t);r||(r=ja(void 0,Np,!0),r.factory=()=>Dv(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=le(null);try{if(t.value===HT)throw Bv(ro(e));return t.value===Np&&(t.value=HT,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&AB(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{le(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=qt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Av(n){let e=Op(n),t=e!==null?e.factory:oo(n);if(t!==null)return t;if(n instanceof _e)throw new te(204,!1);if(n instanceof Function)return bB(n);throw new te(204,!1)}function bB(n){if(n.length>0)throw new te(204,!1);let t=pB(n);return t!==null?()=>t.factory(n):()=>new n}function IB(n){if(nb(n))return ja(void 0,n.useValue);{let e=Qv(n);return ja(e,Np)}}function Qv(n,e,t){let i;if(ps(n)){let r=qt(n);return oo(r)||Av(r)}else if(nb(n))i=()=>qt(n.useValue);else if(TB(n))i=()=>n.useFactory(...Dv(n.deps||[]));else if(SB(n))i=(r,o)=>Le(qt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=qt(n&&(n.useClass||n.provide));if(DB(n))i=()=>new r(...Dv(n.deps));else return oo(r)||Av(r)}return i}function uc(n){if(n.destroyed)throw new te(205,!1)}function ja(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function DB(n){return!!n.deps}function AB(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function MB(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Mv(n,e){for(let t of n)Array.isArray(t)?Mv(t,e):t&&Fv(t)?Mv(t.\u0275providers,e):e(t)}function zp(n,e){let t;n instanceof hs?(uc(n),t=n):t=new Iv(n);let i,r=Qi(t),o=un(void 0);try{return e()}finally{Qi(r),un(o)}}function rb(){return jT()!==void 0||rp()!=null}var wi=0,se=1,de=2,Et=3,oi=4,cn=5,_s=6,Ja=7,ut=8,Er=9,Ji=10,Ze=11,Za=12,jv=13,ys=14,dn=15,uo=16,Cs=17,Zi=18,gc=19,Yv=20,yr=21,Gp=22,xr=23,Bn=24,Es=25,xs=26,ot=27,ob=1,Jv=6,co=7,vc=8,ws=9,st=10;function Ki(n){return Array.isArray(n)&&typeof n[ob]=="object"}function Si(n){return Array.isArray(n)&&n[ob]===!0}function Zv(n){return(n.flags&4)!==0}function fo(n){return n.componentOffset>-1}function Wp(n){return(n.flags&1)===1}function Xi(n){return!!n.template}function Ka(n){return(n[de]&512)!==0}function Ss(n){return(n[de]&256)===256}var Kv="svg",sb="math";function si(n){for(;Array.isArray(n);)n=n[wi];return n}function Xv(n,e){return si(e[n])}function Ti(n,e){return si(e[n.index])}function _c(n,e){return n.data[e]}function e_(n,e){return n[e]}function t_(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function ai(n,e){let t=e[n];return Ki(t)?t:t[wi]}function Qp(n){return(n[de]&128)===128}function ab(n){return Si(n[Et])}function er(n,e){return e==null?null:n[e]}function n_(n){n[Cs]=0}function i_(n){n[de]&1024||(n[de]|=1024,Qp(n)&&po(n))}function lb(n,e){for(;n>0;)e=e[ys],n--;return e}function yc(n){return!!(n[de]&9216||n[Bn]?.dirty)}function jp(n){n[Ji].changeDetectionScheduler?.notify(8),n[de]&64&&(n[de]|=1024),yc(n)&&po(n)}function po(n){n[Ji].changeDetectionScheduler?.notify(0);let e=so(n);for(;e!==null&&!(e[de]&8192||(e[de]|=8192,!Qp(e)));)e=so(e)}function r_(n,e){if(Ss(n))throw new te(911,!1);n[yr]===null&&(n[yr]=[]),n[yr].push(e)}function ub(n,e){if(n[yr]===null)return;let t=n[yr].indexOf(e);t!==-1&&n[yr].splice(t,1)}function so(n){let e=n[Et];return Si(e)?e[Et]:e}function o_(n){return n[Ja]??=[]}function s_(n){return n.cleanup??=[]}function cb(n,e,t,i){let r=o_(e);r.push(t),n.firstCreatePass&&s_(n).push(i,r.length-1)}var Ce={lFrame:xb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var kv=!1;function db(){return Ce.lFrame.elementDepthCount}function fb(){Ce.lFrame.elementDepthCount++}function a_(){Ce.lFrame.elementDepthCount--}function pb(){return Ce.bindingsEnabled}function l_(){return Ce.skipHydrationRootTNode!==null}function u_(n){return Ce.skipHydrationRootTNode===n}function c_(){Ce.skipHydrationRootTNode=null}function ae(){return Ce.lFrame.lView}function ct(){return Ce.lFrame.tView}function S(n){return Ce.lFrame.contextLView=n,n[ut]}function T(n){return Ce.lFrame.contextLView=null,n}function Ut(){let n=d_();for(;n!==null&&n.type===64;)n=n.parent;return n}function d_(){return Ce.lFrame.currentTNode}function hb(){let n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Xa(n,e){let t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function f_(){return Ce.lFrame.isParent}function p_(){Ce.lFrame.isParent=!1}function h_(){return kv}function el(n){let e=kv;return kv=n,e}function Ts(){let n=Ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function m_(){return Ce.lFrame.bindingIndex}function mb(n){return Ce.lFrame.bindingIndex=n}function ho(){return Ce.lFrame.bindingIndex++}function Cc(n){let e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function gb(){return Ce.lFrame.inI18n}function vb(n,e){let t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yp(e)}function _b(){return Ce.lFrame.currentDirectiveIndex}function Yp(n){Ce.lFrame.currentDirectiveIndex=n}function yb(n){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Cb(){return Ce.lFrame.currentQueryIndex}function Jp(n){Ce.lFrame.currentQueryIndex=n}function kB(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[cn]:null}function g_(n,e,t){if(t&4){let r=e,o=n;for(;r=r.parent,r===null&&!(t&1);)if(r=kB(o),r===null||(o=o[ys],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=Ce.lFrame=Eb();return i.currentTNode=e,i.lView=n,!0}function Zp(n){let e=Eb(),t=n[se];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Eb(){let n=Ce.lFrame,e=n===null?null:n.child;return e===null?xb(n):e}function xb(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function wb(){let n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var v_=wb;function Kp(){let n=wb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Sb(n){return(Ce.lFrame.contextLView=lb(n,Ce.lFrame.contextLView))[ut]}function bi(){return Ce.lFrame.selectedIndex}function mo(n){Ce.lFrame.selectedIndex=n}function Ec(){let n=Ce.lFrame;return _c(n.tView,n.selectedIndex)}function wr(){Ce.lFrame.currentNamespace=Kv}function Sr(){NB()}function NB(){Ce.lFrame.currentNamespace=null}function Tb(){return Ce.lFrame.currentNamespace}var bb=!0;function Xp(){return bb}function eh(n){bb=n}function Nv(n,e=null,t=null,i){let r=Ib(n,e,t,i);return r.resolveInjectorInitializers(),r}function Ib(n,e=null,t=null,i,r=new Set){let o=[t||Yt,eb(n)];return i=i||(typeof n=="object"?void 0:ro(n)),new hs(o,e||mc(),i||null,r)}var On=class n{static THROW_IF_NOT_FOUND=ds;static NULL=new dc;static create(e,t){if(Array.isArray(e))return Nv({name:""},t,e,"");{let i=e.name??"";return Nv({name:i},e.parent,e.providers,i)}}static \u0275prov=Qe({token:n,providedIn:"any",factory:()=>Le($v)});static __NG_ELEMENT_ID__=-1},$t=new _e(""),tr=(()=>{class n{static __NG_ELEMENT_ID__=PB;static __NG_ENV_ID__=t=>t}return n})(),fc=class extends tr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ss(this._lView)}onDestroy(e){let t=this._lView;return r_(t,e),()=>ub(t,e)}};function PB(){return new fc(ae())}var Vn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Tr=new _e("",{providedIn:"root",factory:()=>{let n=J(ii),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Vn),e.handleError(t))}}}),Db={provide:lo,useValue:()=>void J(Vn),multi:!0};function __(n){return typeof n=="function"&&n[It]!==void 0}function P(n,e){let[t,i,r]=pv(n,e?.equal),o=t,s=o[It];return o.set=i,o.update=r,o.asReadonly=y_.bind(o),o}function y_(){let n=this[It];if(n.readonlyFn===void 0){let e=()=>this();e[It]=n,n.readonlyFn=e}return n.readonlyFn}function C_(n){return __(n)&&typeof n.set=="function"}var tl=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=RB}return n})();function RB(){return new tl(ae(),Ut())}var Ei=class{},nl=new _e("",{providedIn:"root",factory:()=>!1});var E_=new _e(""),th=new _e(""),bs=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new lc(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new lt(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Qe({token:n,providedIn:"root",factory:()=>new n})}return n})();function Is(...n){}var xc=(()=>{class n{static \u0275prov=Qe({token:n,providedIn:"root",factory:()=>new Pv})}return n})(),Pv=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,i]of this.queues)t===null?e||=this.flushQueue(i):e||=t.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}};function Fc(n){return{toString:n}.toString()}function $B(n){return typeof n=="function"}var fh=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function cI(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var Lc=(()=>{let n=()=>dI;return n.ngInherit=!0,n})();function dI(n){return n.type.prototype.ngOnChanges&&(n.setInput=zB),HB}function HB(){let n=pI(this),e=n?.current;if(e){let t=n.previous;if(t===ao)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function zB(n,e,t,i,r){let o=this.declaredInputs[i],s=pI(n)||GB(n,{previous:ao,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new fh(u&&u.currentValue,t,l===ao),cI(n,e,r,t)}var fI="__ngSimpleChanges__";function pI(n){return n[fI]||null}function GB(n,e){return n[fI]=e}var Ab=[];var ze=function(n,e=null,t){for(let i=0;i<Ab.length;i++){let r=Ab[i];r(n,e,t)}};function WB(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=dI(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function QB(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function ah(n,e,t){hI(n,e,3,t)}function lh(n,e,t,i){(n[de]&3)===t&&hI(n,e,t,i)}function x_(n,e){let t=n[de];(t&3)===e&&(t&=16383,t+=1,n[de]=t)}function hI(n,e,t,i){let r=i!==void 0?n[Cs]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[Cs]+=65536),(a<o||o==-1)&&(jB(n,t,e,l),n[Cs]=(n[Cs]&4294901760)+l+2),l++}function Mb(n,e){ze(4,n,e);let t=le(null);try{e.call(n)}finally{le(t),ze(5,n,e)}}function jB(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[de]>>14<n[Cs]>>16&&(n[de]&3)===e&&(n[de]+=16384,Mb(a,o)):Mb(a,o)}var rl=-1,As=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function YB(n){return(n.flags&8)!==0}function JB(n){return(n.flags&16)!==0}function ZB(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];XB(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function KB(n){return n===3||n===4||n===6}function XB(n){return n.charCodeAt(0)===64}function ol(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?kb(n,t,r,null,e[++i]):kb(n,t,r,null,null))}}return n}function kb(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function mI(n){return n!==rl}function ph(n){return n&32767}function eq(n){return n>>16}function hh(n,e){let t=eq(n),i=e;for(;t>0;)i=i[ys],t--;return i}var P_=!0;function mh(n){let e=P_;return P_=n,e}var tq=256,gI=tq-1,vI=5,nq=0,nr={};function iq(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(gs)&&(i=t[gs]),i==null&&(i=t[gs]=nq++);let r=i&gI,o=1<<r;e.data[n+(r>>vI)]|=o}function gh(n,e){let t=_I(n,e);if(t!==-1)return t;let i=e[se];i.firstCreatePass&&(n.injectorIndex=e.length,w_(i.data,n),w_(e,null),w_(i.blueprint,null));let r=Cy(n,e),o=n.injectorIndex;if(mI(r)){let s=ph(r),a=hh(r,e),l=a[se].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function w_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _I(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Cy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=wI(r),i===null)return rl;if(t++,r=r[ys],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return rl}function R_(n,e,t){iq(n,e,t)}function yI(n,e,t){if(t&8||n!==void 0)return n;Bp(e,"NodeInjector")}function CI(n,e,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=n[Er],o=un(void 0);try{return r?r.get(e,i,t&8):qv(e,i,t&8)}finally{un(o)}}return yI(i,e,t)}function EI(n,e,t,i=0,r){if(n!==null){if(e[de]&2048&&!(i&2)){let s=aq(n,e,t,i,nr);if(s!==nr)return s}let o=xI(n,e,t,i,nr);if(o!==nr)return o}return CI(e,t,i,r)}function xI(n,e,t,i,r){let o=oq(t);if(typeof o=="function"){if(!g_(e,n,i))return i&1?yI(r,t,i):CI(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&8))Bp(t);else return s}finally{v_()}}else if(typeof o=="number"){let s=null,a=_I(n,e),l=rl,u=i&1?e[dn][cn]:null;for((a===-1||i&4)&&(l=a===-1?Cy(n,e):e[a+8],l===rl||!Pb(i,!1)?a=-1:(s=e[se],a=ph(l),e=hh(l,e)));a!==-1;){let d=e[se];if(Nb(o,a,d.data)){let p=rq(a,e,t,s,i,u);if(p!==nr)return p}l=e[a+8],l!==rl&&Pb(i,e[se].data[a+8]===u)&&Nb(o,a,e)?(s=d,a=ph(l),e=hh(l,e)):a=-1}}return r}function rq(n,e,t,i,r,o){let s=e[se],a=s.data[n+8],l=i==null?fo(a)&&P_:i!=s&&(a.type&3)!==0,u=r&1&&o===a,d=uh(a,s,t,l,u);return d!==null?Tc(e,s,d,a,r):nr}function uh(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,d=o>>20,p=i?a:a+d,h=r?a+d:u;for(let v=p;v<h;v++){let x=s[v];if(v<l&&t===x||v>=l&&x.type===t)return v}if(r){let v=s[l];if(v&&Xi(v)&&v.type===t)return l}return null}function Tc(n,e,t,i,r){let o=n[t],s=e.data;if(o instanceof As){let a=o;if(a.resolving){let v=GT(s[t]);throw Bv(v)}let l=mh(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,p=a.injectImpl?un(a.injectImpl):null,h=g_(n,i,0);try{o=n[t]=a.factory(void 0,r,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&WB(t,s[t],e)}finally{p!==null&&un(p),mh(l),a.resolving=!1,v_()}}return o}function oq(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(gs)?n[gs]:void 0;return typeof e=="number"?e>=0?e&gI:sq:e}function Nb(n,e,t){let i=1<<n;return!!(t[e+(n>>vI)]&i)}function Pb(n,e){return!(n&2)&&!(n&1&&e)}var Ds=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return EI(this._tNode,this._lView,e,fs(i),t)}};function sq(){return new Ds(Ut(),ae())}function rr(n){return Fc(()=>{let e=n.prototype.constructor,t=e[cc]||F_(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[cc]||F_(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function F_(n){return Rv(n)?()=>{let e=F_(qt(n));return e&&e()}:oo(n)}function aq(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[de]&2048&&!Ka(s);){let a=xI(o,s,t,i|2,nr);if(a!==nr)return a;let l=o.parent;if(!l){let u=s[Yv];if(u){let d=u.get(t,nr,i);if(d!==nr)return d}l=wI(s),s=s[ys]}o=l}return r}function wI(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[cn]:null}function lq(){return cl(Ut(),ae())}function cl(n,e){return new pn(Ti(n,e))}var pn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=lq}return n})();function uq(n){return n instanceof pn?n.nativeElement:n}function cq(){return this._results[Symbol.iterator]()}var vh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ji}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=JT(e);(this._changesDetected=!YT(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=cq};function SI(n){return(n.flags&128)===128}var Ey=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Ey||{}),TI=new Map,dq=0;function fq(){return dq++}function pq(n){TI.set(n[gc],n)}function L_(n){TI.delete(n[gc])}var Rb="__ngContext__";function sl(n,e){Ki(e)?(n[Rb]=e[gc],pq(e)):n[Rb]=e}function bI(n){return DI(n[Za])}function II(n){return DI(n[oi])}function DI(n){for(;n!==null&&!Si(n);)n=n[oi];return n}var O_;function xy(n){O_=n}function wy(){if(O_!==void 0)return O_;if(typeof document<"u")return document;throw new te(210,!1)}var Ih=new _e("",{providedIn:"root",factory:()=>hq}),hq="ng",Dh=new _e(""),Oc=new _e("",{providedIn:"platform",factory:()=>"unknown"});var Ah=new _e("",{providedIn:"root",factory:()=>wy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mq="h",gq="b";var AI="r";var MI="di";var kI=!1,NI=new _e("",{providedIn:"root",factory:()=>kI});var vq=(n,e,t,i)=>{};function _q(n,e,t,i){vq(n,e,t,i)}function Mh(n){return(n.flags&32)===32}var yq=()=>null;function PI(n,e,t=!1){return yq(n,e,t)}function RI(n,e){let t=n.contentQueries;if(t!==null){let i=le(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];Jp(o),a.contentQueries(2,e[s],s)}}}finally{le(i)}}}function V_(n,e,t){Jp(0);let i=le(null);try{e(n,t)}finally{le(i)}}function FI(n,e,t){if(Zv(e)){let i=le(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{le(i)}}}var br=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(br||{}),nh;function Cq(){if(nh===void 0&&(nh=null,ri.trustedTypes))try{nh=ri.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nh}function kh(n){return Cq()?.createHTML(n)||n}var ih;function LI(){if(ih===void 0&&(ih=null,ri.trustedTypes))try{ih=ri.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ih}function Fb(n){return LI()?.createHTML(n)||n}function Lb(n){return LI()?.createScriptURL(n)||n}var Ir=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fp})`}},B_=class extends Ir{getTypeName(){return"HTML"}},q_=class extends Ir{getTypeName(){return"Style"}},U_=class extends Ir{getTypeName(){return"Script"}},$_=class extends Ir{getTypeName(){return"URL"}},H_=class extends Ir{getTypeName(){return"ResourceURL"}};function li(n){return n instanceof Ir?n.changingThisBreaksApplicationSecurity:n}function or(n,e){let t=OI(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Fp})`)}return t===e}function OI(n){return n instanceof Ir&&n.getTypeName()||null}function Sy(n){return new B_(n)}function Ty(n){return new q_(n)}function by(n){return new U_(n)}function Iy(n){return new $_(n)}function Dy(n){return new H_(n)}function Eq(n){let e=new G_(n);return xq()?new z_(e):e}var z_=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(kh(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},G_=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=kh(e),t}};function xq(){try{return!!new window.DOMParser().parseFromString(kh(""),"text/html")}catch{return!1}}var wq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vc(n){return n=String(n),n.match(wq)?n:"unsafe:"+n}function Dr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Bc(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var VI=Dr("area,br,col,hr,img,wbr"),BI=Dr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qI=Dr("rp,rt"),Sq=Bc(qI,BI),Tq=Bc(BI,Dr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bq=Bc(qI,Dr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ob=Bc(VI,Tq,bq,Sq),UI=Dr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Iq=Dr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dq=Dr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Aq=Bc(UI,Iq,Dq),Mq=Dr("script,style,template"),W_=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=Pq(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=Nq(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=Vb(e).toLowerCase();if(!Ob.hasOwnProperty(t))return this.sanitizedSomething=!0,!Mq.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!Aq.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;UI[a]&&(l=Vc(l)),this.buf.push(" ",s,'="',Bb(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=Vb(e).toLowerCase();Ob.hasOwnProperty(t)&&!VI.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Bb(e))}};function kq(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Nq(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw $I(e);return e}function Pq(n){let e=n.firstChild;if(e&&kq(n,e))throw $I(e);return e}function Vb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function $I(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Rq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fq=/([^\#-~ |!])/g;function Bb(n){return n.replace(/&/g,"&amp;").replace(Rq,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(Fq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var rh;function Nh(n,e){let t=null;try{rh=rh||Eq(n);let i=e?String(e):"";t=rh.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=rh.getInertBodyElement(i)}while(i!==o);let a=new W_().sanitizeChildren(qb(t)||t);return kh(a)}finally{if(t){let i=qb(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function qb(n){return"content"in n&&Lq(n)?n.content:null}function Lq(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var xn=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(xn||{});function Ph(n){let e=My();return e?Fb(e.sanitize(xn.HTML,n)||""):or(n,"HTML")?Fb(li(n)):Nh(wy(),xi(n))}function Dt(n){let e=My();return e?e.sanitize(xn.URL,n)||"":or(n,"URL")?li(n):Vc(xi(n))}function Ay(n){let e=My();if(e)return Lb(e.sanitize(xn.RESOURCE_URL,n)||"");if(or(n,"ResourceURL"))return Lb(li(n));throw new te(904,!1)}function My(){let n=ae();return n&&n[Ji].sanitizer}function Oq(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var HI="ng-template";function Vq(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Oq(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(ky(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ky(n){return n.type===4&&n.value!==HI}function Bq(n,e,t){let i=n.type===4&&!t?HI:n.value;return e===i}function qq(n,e,t){let i=4,r=n.attrs,o=r!==null?Hq(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Ii(i)&&!Ii(l))return!1;if(s&&Ii(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Bq(n,l,t)||l===""&&e.length===1){if(Ii(i))return!1;s=!0}}else if(i&8){if(r===null||!Vq(n,r,l,t)){if(Ii(i))return!1;s=!0}}else{let u=e[++a],d=Uq(l,r,ky(n),t);if(d===-1){if(Ii(i))return!1;s=!0;continue}if(u!==""){let p;if(d>o?p="":p=r[d+1].toLowerCase(),i&2&&u!==p){if(Ii(i))return!1;s=!0}}}}return Ii(i)||s}function Ii(n){return(n&1)===0}function Uq(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return zq(e,n)}function zI(n,e,t=!1){for(let i=0;i<e.length;i++)if(qq(n,e[i],t))return!0;return!1}function $q(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Hq(n){for(let e=0;e<n.length;e++){let t=n[e];if(KB(t))return e}return n.length}function zq(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function Gq(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Ub(n,e){return n?":not("+e.trim()+")":e}function Wq(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Ii(s)&&(e+=Ub(o,r),r=""),i=s,o=o||!Ii(i);t++}return r!==""&&(e+=Ub(o,r)),e}function Qq(n){return n.map(Wq).join(",")}function jq(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Ii(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Ht={};function Yq(n,e){return n.createText(e)}function Jq(n,e,t){n.setValue(e,t)}function GI(n,e,t){return n.createElement(e,t)}function _h(n,e,t,i,r){n.insertBefore(e,t,i,r)}function WI(n,e,t){n.appendChild(e,t)}function $b(n,e,t,i,r){i!==null?_h(n,e,t,i,r):WI(n,e,t)}function QI(n,e,t,i){n.removeChild(null,e,t,i)}function Zq(n,e,t){n.setAttribute(e,"style",t)}function Kq(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function jI(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&ZB(n,e,i),r!==null&&Kq(n,e,r),o!==null&&Zq(n,e,o)}function Ny(n,e,t,i,r,o,s,a,l,u,d){let p=ot+i,h=p+r,v=Xq(p,h),x=typeof u=="function"?u():u;return v[se]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:d}}function Xq(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ht);return t}function e8(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ny(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Py(n,e,t,i,r,o,s,a,l,u,d){let p=e.blueprint.slice();return p[wi]=r,p[de]=i|4|128|8|64|1024,(u!==null||n&&n[de]&2048)&&(p[de]|=2048),n_(p),p[Et]=p[ys]=n,p[ut]=t,p[Ji]=s||n&&n[Ji],p[Ze]=a||n&&n[Ze],p[Er]=l||n&&n[Er]||null,p[cn]=o,p[gc]=fq(),p[_s]=d,p[Yv]=u,p[dn]=e.type==2?n[dn]:p,p}function t8(n,e,t){let i=Ti(e,n),r=e8(t),o=n[Ji].rendererFactory,s=Ry(n,Py(n,r,null,YI(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function YI(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function JI(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ry(n,e){return n[Za]?n[jv][oi]=e:n[Za]=e,n[jv]=e,e}function E(n=1){ZI(ct(),ae(),bi()+n,!1)}function ZI(n,e,t,i){if(!i)if((e[de]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ah(e,o,t)}else{let o=n.preOrderHooks;o!==null&&lh(e,o,0,t)}mo(t)}var Rh=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Rh||{});function Q_(n,e,t,i){let r=le(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Rh.SignalBased)!==0&&(l=e[o][It]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,l,i,t,o):cI(e,l,o,i)}finally{le(r)}}var ir=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(ir||{}),n8;function Fy(n,e){return n8(n,e)}var Ms=new Set,Fh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Fh||{}),Ps=new _e(""),Hb=new Set;function vo(n){Hb.has(n)||(Hb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var KI=!1,j_=class extends ji{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,rb()&&(this.destroyRef=J(tr,{optional:!0})??void 0,this.pendingTasks=J(bs,{optional:!0})??void 0)}emit(e){let t=le(null);try{super.next(e)}finally{le(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof ln&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},qn=j_;function XI(n){let e,t;function i(){n=Is;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function zb(n){return queueMicrotask(()=>n()),()=>{n=Is}}var Ly="isAngularZone",yh=Ly+"_ID",i8=0,ht=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new qn(!1);onMicrotaskEmpty=new qn(!1);onStable=new qn(!1);onError=new qn(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=KI}=e;if(typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,s8(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ly)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new te(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,r8,Is,Is);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},r8={};function Oy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function o8(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){XI(()=>{n.callbackScheduled=!1,Y_(n),n.isCheckStableRunning=!0,Oy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Y_(n)}function s8(n){let e=()=>{o8(n)},t=i8++;n._inner=n._inner.fork({name:"angular",properties:{[Ly]:!0,[yh]:t,[yh+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(a8(l))return i.invokeTask(o,s,a,l);try{return Gb(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Wb(n)}},onInvoke:(i,r,o,s,a,l,u)=>{try{return Gb(n),i.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!l8(l)&&e(),Wb(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Y_(n),Oy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Y_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Gb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Wb(n){n._nesting--,Oy(n)}var bc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new qn;onMicrotaskEmpty=new qn;onStable=new qn;onError=new qn;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function a8(n){return eD(n,"__ignore_ng_zone__")}function l8(n){return eD(n,"__scheduler_tick__")}function eD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Vy=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Qe({token:n,providedIn:"root",factory:()=>new n})}return n})(),tD=[0,1,2,3],nD=(()=>{class n{ngZone=J(ht);scheduler=J(Ei);errorHandler=J(Vn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){J(Ps,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ze(16),this.executing=!0;for(let i of tD)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ze(17)}register(t){let{view:i}=t;i!==void 0?((i[Es]??=[]).push(t),po(i),i[de]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(Fh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Qe({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ch=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Es];e&&(this.view[Es]=e.filter(t=>t!==this))}};function By(n,e){let t=e?.injector??J(On);return vo("NgAfterNextRender"),c8(n,t,e,!0)}function u8(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function c8(n,e,t,i){let r=e.get(Vy);r.impl??=e.get(nD);let o=e.get(Ps,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(tr):null,a=e.get(tl,null,{optional:!0}),l=new Ch(r.impl,u8(n),a?.view,i,s,o?.snapshot(null));return r.impl.register(l),l}var iD=new _e("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function rD(n,e,t){let i=n.get(iD);if(Array.isArray(e))for(let r of e)i.queue.add(r),t?.detachedLeaveAnimationFns?.push(r);else i.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);i.scheduler&&i.scheduler(n)}function d8(n,e){let t=n.get(iD);if(e.detachedLeaveAnimationFns){for(let i of e.detachedLeaveAnimationFns)t.queue.delete(i);e.detachedLeaveAnimationFns=void 0}}function f8(n,e){for(let[t,i]of e)rD(n,i.animateFns)}function Qb(n,e,t,i){let r=n?.[xs]?.enter;e!==null&&r&&r.has(t.index)&&f8(i,r)}function il(n,e,t,i,r,o,s,a){if(r!=null){let l,u=!1;Si(r)?l=r:Ki(r)&&(u=!0,r=r[wi]);let d=si(r);n===0&&i!==null?(Qb(a,i,o,t),s==null?WI(e,i,d):_h(e,i,d,s||null,!0)):n===1&&i!==null?(Qb(a,i,o,t),_h(e,i,d,s||null,!0)):n===2?jb(a,o,t,p=>{QI(e,d,u,p)}):n===3&&jb(a,o,t,()=>{e.destroyNode(d)}),l!=null&&w8(e,n,t,l,o,i,s)}}function p8(n,e){oD(n,e),e[wi]=null,e[cn]=null}function h8(n,e,t,i,r,o){i[wi]=r,i[cn]=e,Oh(n,i,t,1,r,o)}function oD(n,e){e[Ji].changeDetectionScheduler?.notify(9),Oh(n,e,e[Ze],2,null,null)}function m8(n){let e=n[Za];if(!e)return S_(n[se],n);for(;e;){let t=null;if(Ki(e))t=e[Za];else{let i=e[st];i&&(t=i)}if(!t){for(;e&&!e[oi]&&e!==n;)Ki(e)&&S_(e[se],e),e=e[Et];e===null&&(e=n),Ki(e)&&S_(e[se],e),t=e&&e[oi]}e=t}}function qy(n,e){let t=n[ws],i=t.indexOf(e);t.splice(i,1)}function Lh(n,e){if(Ss(e))return;let t=e[Ze];t.destroyNode&&Oh(n,e,t,3,null,null),m8(e)}function S_(n,e){if(Ss(e))return;let t=le(null);try{e[de]&=-129,e[de]|=256,e[Bn]&&ss(e[Bn]),_8(n,e),v8(n,e),e[se].type===1&&e[Ze].destroy();let i=e[uo];if(i!==null&&Si(e[Et])){i!==e[Et]&&qy(i,e);let r=e[Zi];r!==null&&r.detachView(n)}L_(e)}finally{le(t)}}function jb(n,e,t,i){let r=n?.[xs];if(r==null||r.leave==null||!r.leave.has(e.index))return i(!1);n&&Ms.add(n),rD(t,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:d}=u();a.push(d)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),g8(n,i)}else n&&Ms.delete(n),i(!1)},r)}function g8(n,e){let t=n[xs]?.running;if(t){t.then(()=>{n[xs].running=void 0,Ms.delete(n),e(!0)});return}e(!1)}function v8(n,e){let t=n.cleanup,i=e[Ja];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[Ja]=null);let r=e[yr];if(r!==null){e[yr]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[xr];if(o!==null){e[xr]=null;for(let s of o)s.destroy()}}function _8(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof As)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];ze(4,a,l);try{l.call(a)}finally{ze(5,a,l)}}else{ze(4,r,o);try{o.call(r)}finally{ze(5,r,o)}}}}}function sD(n,e,t){return y8(n,e.parent,t)}function y8(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[wi];if(fo(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===br.None||r===br.Emulated)return null}return Ti(i,t)}function aD(n,e,t){return E8(n,e,t)}function C8(n,e,t){return n.type&40?Ti(n,t):null}var E8=C8,Yb;function Uy(n,e,t,i){let r=sD(n,i,e),o=e[Ze],s=i.parent||e[cn],a=aD(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)$b(o,r,t[l],a,!1);else $b(o,r,t,a,!1);Yb!==void 0&&Yb(o,i,e,t,r)}function wc(n,e){if(e!==null){let t=e.type;if(t&3)return Ti(e,n);if(t&4)return J_(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return wc(n,i);{let r=n[e.index];return Si(r)?J_(-1,r):si(r)}}else{if(t&128)return wc(n,e.next);if(t&32)return Fy(e,n)()||si(n[e.index]);{let i=lD(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=so(n[dn]);return wc(r,i)}else return wc(n,e.next)}}}return null}function lD(n,e){if(e!==null){let i=n[dn][cn],r=e.projection;return i.projection[r]}return null}function J_(n,e){let t=st+n+1;if(t<e.length){let i=e[t],r=i[se].firstChild;if(r!==null)return wc(i,r)}return e[co]}function $y(n,e,t,i,r,o,s){for(;t!=null;){let a=i[Er];if(t.type===128){t=t.next;continue}let l=i[t.index],u=t.type;if(s&&e===0&&(l&&sl(si(l),i),t.flags|=2),!Mh(t))if(u&8)$y(n,e,t.child,i,r,o,!1),il(e,n,a,r,l,t,o,i);else if(u&32){let d=Fy(t,i),p;for(;p=d();)il(e,n,a,r,p,t,o,i);il(e,n,a,r,l,t,o,i)}else u&16?uD(n,e,i,t,r,o):il(e,n,a,r,l,t,o,i);t=s?t.projectionNext:t.next}}function Oh(n,e,t,i,r,o){$y(t,i,n.firstChild,e,r,o,!1)}function x8(n,e,t){let i=e[Ze],r=sD(n,t,e),o=t.parent||e[cn],s=aD(o,t,e);uD(i,0,e,t,r,s)}function uD(n,e,t,i,r,o){let s=t[dn],l=s[cn].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];il(e,n,t[Er],r,d,i,o,t)}else{let u=l,d=s[Et];SI(i)&&(u.flags|=128),$y(n,e,u,d,r,o,!0)}}function w8(n,e,t,i,r,o,s){let a=i[co],l=si(i);a!==l&&il(e,n,t,o,a,r,s);for(let u=st;u<i.length;u++){let d=i[u];Oh(d[se],d,n,e,o,a)}}function S8(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:ir.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ir.Important),n.setStyle(t,i,r,o))}}function cD(n,e,t,i,r){let o=bi(),s=i&2;try{mo(-1),s&&e.length>ot&&ZI(n,e,ot,!1),ze(s?2:0,r,t),t(i,r)}finally{mo(o),ze(s?3:1,r,t)}}function dD(n,e,t){M8(n,e,t),(t.flags&64)===64&&k8(n,e,t)}function Hy(n,e,t=Ti){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function T8(n,e,t,i){let o=i.get(NI,kI)||t===br.ShadowDom,s=n.selectRootElement(e,o);return b8(s),s}function b8(n){I8(n)}var I8=()=>null;function D8(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function fD(n,e,t,i,r,o){let s=e[se];if(zy(n,s,e,t,i)){fo(n)&&A8(e,n.index);return}n.type&3&&(t=D8(t)),pD(n,e,t,i,r,o)}function pD(n,e,t,i,r,o){if(n.type&3){let s=Ti(n,e);i=o!=null?o(i,n.value||"",t):i,r.setProperty(s,t,i)}else n.type&12}function A8(n,e){let t=ai(e,n);t[de]&16||(t[de]|=64)}function M8(n,e,t){let i=t.directiveStart,r=t.directiveEnd;fo(t)&&t8(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||gh(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],l=Tc(e,n,s,t);if(sl(l,e),o!==null&&L8(e,s-i,l,a,t,o),Xi(a)){let u=ai(t.index,e);u[ut]=Tc(e,n,s,t)}}}function k8(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=_b();try{mo(o);for(let a=i;a<r;a++){let l=n.data[a],u=e[a];Yp(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&N8(l,u)}}finally{mo(-1),Yp(s)}}function N8(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function P8(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];zI(e,o.selectors,!1)&&(i??=[],Xi(o)?i.unshift(o):i.push(o))}return i}function R8(n,e,t,i,r,o){let s=Ti(n,e);F8(e[Ze],s,o,n.value,t,i,r)}function F8(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?xi(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function L8(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Q_(i,t,l,u)}}function hD(n,e,t,i,r){let o=ot+t,s=e[se],a=r(s,e,n,i,t);e[o]=a,Xa(n,!0);let l=n.type===2;return l?(jI(e[Ze],a,n),(db()===0||Wp(n))&&sl(a,e),fb()):sl(a,e),Xp()&&(!l||!Mh(n))&&Uy(s,e,a,n),n}function mD(n){let e=n;return f_()?p_():(e=e.parent,Xa(e,!1)),e}function O8(n,e){let t=n[Er];if(!t)return;let i;try{i=t.get(Tr,null)}catch{i=null}i?.(e)}function zy(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],d=s[l+1],p=e.data[u];Q_(p,t[u],d,r),a=!0}if(o)for(let l of o){let u=t[l],d=e.data[l];Q_(d,u,i,r),a=!0}return a}function V8(n,e){let t=ai(e,n),i=t[se];B8(i,t);let r=t[wi];r!==null&&t[_s]===null&&(t[_s]=PI(r,t[Er])),ze(18),Gy(i,t,t[ut]),ze(19,t[ut])}function B8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Gy(n,e,t){Zp(e);try{let i=n.viewQuery;i!==null&&V_(1,i,t);let r=n.template;r!==null&&cD(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Zi]?.finishViewCreation(n),n.staticContentQueries&&RI(n,e),n.staticViewQueries&&V_(2,n.viewQuery,t);let o=n.components;o!==null&&q8(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[de]&=-5,Kp()}}function q8(n,e){for(let t=0;t<e.length;t++)V8(n,e[t])}function qc(n,e,t,i){let r=le(null);try{let o=e.tView,a=n[de]&4096?4096:16,l=Py(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];l[uo]=u;let d=n[Zi];return d!==null&&(l[Zi]=d.createEmbeddedView(o)),Gy(o,l,t),l}finally{le(r)}}function al(n,e){return!e||e.firstChild===null||SI(n)}function Ic(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(si(o)),Si(o)&&gD(o,i);let s=t.type;if(s&8)Ic(n,e,t.child,i);else if(s&32){let a=Fy(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=lD(e,t);if(Array.isArray(a))i.push(...a);else{let l=so(e[dn]);Ic(l[se],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function gD(n,e){for(let t=st;t<n.length;t++){let i=n[t],r=i[se].firstChild;r!==null&&Ic(i[se],i,r,e)}n[co]!==n[wi]&&e.push(n[co])}function vD(n){if(n[Es]!==null){for(let e of n[Es])e.impl.addSequence(e);n[Es].length=0}}var _D=[];function U8(n){return n[Bn]??$8(n)}function $8(n){let e=_D.pop()??Object.create(z8);return e.lView=n,e}function H8(n){n.lView[Bn]!==n&&(n.lView=null,_D.push(n))}var z8=V(I({},rs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{po(n.lView)},consumerOnSignalRead(){this.lView[Bn]=this}});function G8(n){let e=n[Bn]??Object.create(W8);return e.lView=n,e}var W8=V(I({},rs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=so(n.lView);for(;e&&!yD(e[se]);)e=so(e);e&&i_(e)},consumerOnSignalRead(){this.lView[Bn]=this}});function yD(n){return n.type!==2}function CD(n){if(n[xr]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[xr])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[de]&8192)}}var Q8=100;function ED(n,e=0){let i=n[Ji].rendererFactory,r=!1;r||i.begin?.();try{j8(n,e)}finally{r||i.end?.()}}function j8(n,e){let t=h_();try{el(!0),Z_(n,e);let i=0;for(;yc(n);){if(i===Q8)throw new te(103,!1);i++,Z_(n,1)}}finally{el(t)}}function Y8(n,e,t,i){if(Ss(e))return;let r=e[de],o=!1,s=!1;Zp(e);let a=!0,l=null,u=null;o||(yD(n)?(u=U8(e),l=os(u)):up()===null?(a=!1,u=G8(e),l=os(u)):e[Bn]&&(ss(e[Bn]),e[Bn]=null));try{n_(e),mb(n.bindingStartIndex),t!==null&&cD(n,e,t,2,i);let d=(r&3)===3;if(!o)if(d){let v=n.preOrderCheckHooks;v!==null&&ah(e,v,null)}else{let v=n.preOrderHooks;v!==null&&lh(e,v,0,null),x_(e,0)}if(s||J8(e),CD(e),xD(e,0),n.contentQueries!==null&&RI(n,e),!o)if(d){let v=n.contentCheckHooks;v!==null&&ah(e,v)}else{let v=n.contentHooks;v!==null&&lh(e,v,1),x_(e,1)}K8(n,e);let p=n.components;p!==null&&SD(e,p,0);let h=n.viewQuery;if(h!==null&&V_(2,h,i),!o)if(d){let v=n.viewCheckHooks;v!==null&&ah(e,v)}else{let v=n.viewHooks;v!==null&&lh(e,v,2),x_(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Gp]){for(let v of e[Gp])v();e[Gp]=null}o||(vD(e),e[de]&=-73)}catch(d){throw o||po(e),d}finally{u!==null&&(Va(u,l),a&&H8(u)),Kp()}}function xD(n,e){for(let t=bI(n);t!==null;t=II(t))for(let i=st;i<t.length;i++){let r=t[i];wD(r,e)}}function J8(n){for(let e=bI(n);e!==null;e=II(e)){if(!(e[de]&2))continue;let t=e[ws];for(let i=0;i<t.length;i++){let r=t[i];i_(r)}}}function Z8(n,e,t){ze(18);let i=ai(e,n);wD(i,t),ze(19,i[ut])}function wD(n,e){Qp(n)&&Z_(n,e)}function Z_(n,e){let i=n[se],r=n[de],o=n[Bn],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Ba(o)),s||=!1,o&&(o.dirty=!1),n[de]&=-9217,s)Y8(i,n,i.template,n[ut]);else if(r&8192){let a=le(null);try{CD(n),xD(n,1);let l=i.components;l!==null&&SD(n,l,1),vD(n)}finally{le(a)}}}function SD(n,e,t){for(let i=0;i<e.length;i++)Z8(n,e[i],t)}function K8(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)mo(~r);else{let o=r,s=t[++i],a=t[++i];vb(s,o);let l=e[o];ze(24,l),a(2,l),ze(25,l)}}}finally{mo(-1)}}function Wy(n,e){let t=h_()?64:1088;for(n[Ji].changeDetectionScheduler?.notify(e);n;){n[de]|=t;let i=so(n);if(Ka(n)&&!i)return n;n=i}return null}function TD(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function bD(n,e){let t=st+e;if(t<n.length)return n[t]}function Uc(n,e,t,i=!0){let r=e[se];if(X8(r,e,n,t),i){let s=J_(t,n),a=e[Ze],l=a.parentNode(n[co]);l!==null&&h8(r,n[cn],a,e,l,s)}let o=e[_s];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ID(n,e){let t=Dc(n,e);return t!==void 0&&Lh(t[se],t),t}function Dc(n,e){if(n.length<=st)return;let t=st+e,i=n[t];if(i){let r=i[uo];r!==null&&r!==n&&qy(r,i),e>0&&(n[t-1][oi]=i[oi]);let o=pc(n,st+e);p8(i[se],i);let s=o[Zi];s!==null&&s.detachView(o[se]),i[Et]=null,i[oi]=null,i[de]&=-129}return i}function X8(n,e,t,i){let r=st+i,o=t.length;i>0&&(t[r-1][oi]=e),i<o-st?(e[oi]=t[r],Uv(t,st+i,e)):(t.push(e),e[oi]=null),e[Et]=t;let s=e[uo];s!==null&&t!==s&&DD(s,e);let a=e[Zi];a!==null&&a.insertView(n),jp(e),e[de]|=128}function DD(n,e){let t=n[ws],i=e[Et];if(Ki(i))n[de]|=2;else{let r=i[Et][dn];e[dn]!==r&&(n[de]|=2)}t===null?n[ws]=[e]:t.push(e)}var go=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[se];return Ic(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[ut]}set context(e){this._lView[ut]=e}get destroyed(){return Ss(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Et];if(Si(e)){let t=e[vc],i=t?t.indexOf(this):-1;i>-1&&(Dc(e,i),pc(t,i))}this._attachedToViewContainer=!1}Lh(this._lView[se],this._lView)}onDestroy(e){r_(this._lView,e)}markForCheck(){Wy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){jp(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,ED(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ka(this._lView),t=this._lView[uo];t!==null&&!e&&qy(t,this._lView),oD(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e;let t=Ka(this._lView),i=this._lView[uo];i!==null&&!t&&DD(i,this._lView),jp(this._lView)}};var ll=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=eU;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=qc(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new go(o)}}return n})();function eU(){return Qy(Ut(),ae())}function Qy(n,e){return n.type&4?new ll(e,n,cl(n,e)):null}function $c(n,e,t,i,r){let o=n.data[e];if(o===null)o=tU(n,e,t,i,r),gb()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=hb();o.injectorIndex=s===null?-1:s.injectorIndex}return Xa(o,!0),o}function tU(n,e,t,i,r){let o=d_(),s=f_(),a=s?o:o&&o.parent,l=n.data[e]=iU(n,a,t,e,i,r);return nU(n,l,o,s),l}function nU(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function iU(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return l_()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Cte=new RegExp(`^(\\d+)*(${gq}|${mq})*(.*)`);function rU(n){let e=n[Jv]??[],i=n[Et][Ze],r=[];for(let o of e)o.data[MI]!==void 0?r.push(o):oU(o,i);n[Jv]=r}function oU(n,e){let t=0,i=n.firstChild;if(i){let r=n.data[AI];for(;t<r;){let o=i.nextSibling;QI(e,i,!1),i=o,t++}}}var sU=()=>null,aU=()=>null;function Eh(n,e){return sU(n,e)}function AD(n,e,t){return aU(n,e,t)}var MD=class{},Vh=class{},K_=class{resolveComponentFactory(e){throw new te(917,!1)}},Bh=class{static NULL=new K_},ks=class{},Un=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>lU()}return n})();function lU(){let n=ae(),e=Ut(),t=ai(e.index,n);return(Ki(t)?t:n)[Ze]}var kD=(()=>{class n{static \u0275prov=Qe({token:n,providedIn:"root",factory:()=>null})}return n})();var ch={},X_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){let r=this.injector.get(e,ch,i);return r!==ch||t===ch?r:this.parentInjector.get(e,t,i)}};function xh(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Lp(r,a);else if(o==2){let l=a,u=e[++s];i=Lp(i,l+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function je(n,e=0){let t=ae();if(t===null)return Le(n,e);let i=Ut();return EI(i,t,qt(n),e)}function uU(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a=s,l=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,u]=d.resolveHostDirectives(s);break}fU(n,e,t,a,o,l,u)}o!==null&&i!==null&&cU(t,i,o)}function cU(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new te(-301,!1);i.push(e[r],o)}}function dU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function fU(n,e,t,i,r,o,s){let a=i.length,l=!1;for(let h=0;h<a;h++){let v=i[h];!l&&Xi(v)&&(l=!0,dU(n,t,h)),R_(gh(t,e),n,v.type)}_U(t,n.data.length,a);for(let h=0;h<a;h++){let v=i[h];v.providersResolver&&v.providersResolver(v)}let u=!1,d=!1,p=JI(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let v=i[h];if(t.mergedAttrs=ol(t.mergedAttrs,v.hostAttrs),hU(n,t,e,p,v),vU(p,v,r),s!==null&&s.has(v)){let[b,N]=s.get(v);t.directiveToIndex.set(v.type,[p,b+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let x=v.type.prototype;!u&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}pU(n,t,o)}function pU(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))Jb(0,e,r,i),Jb(1,e,r,i),Kb(e,i,!1);else{let o=t.get(r);Zb(0,e,o,i),Zb(1,e,o,i),Kb(e,i,!0)}}}function Jb(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),ND(e,o)}}function Zb(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),ND(e,s)}}function ND(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Kb(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||ky(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let u=r[l];for(let d of u)if(d===e){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function hU(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=oo(r.type,!0)),s=new As(o,Xi(r),je,null);n.blueprint[i]=s,t[i]=s,mU(n,e,i,JI(n,t,r.hostVars,Ht),r)}function mU(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;gU(s)!=a&&s.push(a),s.push(t,i,o)}}function gU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function vU(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Xi(e)&&(t[""]=n)}}function _U(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function PD(n,e,t,i,r,o,s,a){let l=e[se],u=l.consts,d=er(u,s),p=$c(l,n,t,i,d);return o&&uU(l,e,p,er(u,a),r),p.mergedAttrs=ol(p.mergedAttrs,p.attrs),p.attrs!==null&&xh(p,p.attrs,!1),p.mergedAttrs!==null&&xh(p,p.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,p),p}function RD(n,e){QB(n,e),Zv(e)&&n.queries.elementEnd(e)}function yU(n,e,t,i,r,o){let s=e.consts,a=er(s,r),l=$c(e,n,t,i,a);if(l.mergedAttrs=ol(l.mergedAttrs,l.attrs),o!=null){let u=er(s,o);l.localNames=[];for(let d=0;d<u.length;d+=2)l.localNames.push(u[d],-1)}return l.attrs!==null&&xh(l,l.attrs,!1),l.mergedAttrs!==null&&xh(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function dl(n,e,t){return n[e]=t}function jy(n,e){return n[e]}function fn(n,e,t){if(t===Ht)return!1;let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function Ac(n,e,t,i){let r=fn(n,e,t);return fn(n,e+1,i)||r}function CU(n,e,t,i,r){let o=Ac(n,e,t,i);return fn(n,e+2,r)||o}function ey(n,e,t,i,r,o){let s=Ac(n,e,t,i);return Ac(n,e+2,r,o)||s}function dh(n,e,t){return function i(r){let o=fo(n)?ai(n.index,e):e;Wy(o,5);let s=e[ut],a=Xb(e,s,t,r),l=i.__ngNextListenerFn__;for(;l;)a=Xb(e,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function Xb(n,e,t,i){let r=le(null);try{return ze(6,e,t),t(i)!==!1}catch(o){return O8(n,o),!1}finally{ze(7,e,t),le(r)}}function FD(n,e,t,i,r,o,s,a){let l=Wp(n),u=!1,d=null;if(!i&&l&&(d=xU(e,t,o,n.index)),d!==null){let p=d.__ngLastListenerFn__||d;p.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let p=Ti(n,t),h=i?i(p):p;_q(t,h,o,a);let v=r.listen(h,o,a);if(!EU(o)){let x=i?b=>i(si(b[n.index])):n.index;LD(x,e,t,o,a,v,!1)}}return u}function EU(n){return n.startsWith("animation")||n.startsWith("transition")}function xU(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Ja],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function LD(n,e,t,i,r,o,s){let a=e.firstCreatePass?s_(e):null,l=o_(t),u=l.length;l.push(r,o),a&&a.push(i,n,u,(u+1)*(s?-1:1))}function eI(n,e,t,i,r,o){let s=e[t],a=e[se],u=a.data[t].outputs[i],p=s[u].subscribe(o);LD(n.index,a,e,r,o,p,!0)}var ty=Symbol("BINDING");var ny=class extends Bh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=vs(e);return new Mc(t,this.ngModule)}};function wU(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&Rh.SignalBased)!==0};return r&&(o.transform=r),o})}function SU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function TU(n,e,t){let i=e instanceof ii?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new X_(t,i):t}function bU(n){let e=n.get(ks,null);if(e===null)throw new te(407,!1);let t=n.get(kD,null),i=n.get(Ei,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function IU(n,e){let t=OD(n);return GI(e,t,t==="svg"?Kv:t==="math"?sb:null)}function OD(n){return(n.selectors[0][0]||"div").toLowerCase()}var Mc=class extends Vh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=wU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=SU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Qq(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r,o,s){ze(22);let a=le(null);try{let l=this.componentDef,u=DU(i,l,s,o),d=TU(l,r||this.ngModule,e),p=bU(d),h=p.rendererFactory.createRenderer(null,l),v=i?T8(h,i,l.encapsulation,d):IU(l,h),x=s?.some(tI)||o?.some(k=>typeof k!="function"&&k.bindings.some(tI)),b=Py(null,u,null,512|YI(l),null,null,p,h,d,null,PI(v,d,!0));b[ot]=v,Zp(b);let N=null;try{let k=PD(ot,b,2,"#host",()=>u.directiveRegistry,!0,0);jI(h,v,k),sl(v,b),dD(u,b,k),FI(u,k,b),RD(u,k),t!==void 0&&MU(k,this.ngContentSelectors,t),N=ai(k.index,b),b[ut]=N[ut],Gy(u,b,null)}catch(k){throw N!==null&&L_(N),L_(b),k}finally{ze(23),Kp()}return new wh(this.componentType,b,!!x)}finally{le(a)}}};function DU(n,e,t,i){let r=n?["ng-version","20.3.13"]:jq(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[ty].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(i)for(let d=0;d<i.length;d++){let p=i[d];if(typeof p!="function")for(let h of p.bindings){a+=h[ty].requiredVars;let v=d+1;h.create&&(h.targetIdx=v,(o??=[]).push(h)),h.update&&(h.targetIdx=v,(s??=[]).push(h))}}let l=[e];if(i)for(let d of i){let p=typeof d=="function"?d:d.type,h=zv(p);l.push(h)}return Ny(0,null,AU(o,s),1,a,l,null,null,null,[r],null)}function AU(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let i of n)i.create();if(t&2&&e)for(let i of e)i.update()}}function tI(n){let e=n[ty].kind;return e==="input"||e==="twoWay"}var wh=class extends MD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=_c(t[se],ot),this.location=cl(this._tNode,t),this.instance=ai(this._tNode.index,t)[ut],this.hostView=this.changeDetectorRef=new go(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=zy(i,r[se],r,e,t);this.previousInputValues.set(e,t);let s=ai(i.index,r);Wy(s,1)}get injector(){return new Ds(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function MU(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Hc=(()=>{class n{static __NG_ELEMENT_ID__=kU}return n})();function kU(){let n=Ut();return BD(n,ae())}var NU=Hc,VD=class extends NU{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return cl(this._hostTNode,this._hostLView)}get injector(){return new Ds(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cy(this._hostTNode,this._hostLView);if(mI(e)){let t=hh(e,this._hostLView),i=ph(e),r=t[se].data[i+8];return new Ds(r,t)}else return new Ds(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=nI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-st}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Eh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,al(this._hostTNode,s)),a}createComponent(e,t,i,r,o,s,a){let l=e&&!$B(e),u;if(l)u=t;else{let N=t||{};u=N.index,i=N.injector,r=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let d=l?e:new Mc(vs(e)),p=i||this.parentInjector;if(!o&&d.ngModule==null){let k=(l?p:this.parentInjector).get(ii,null);k&&(o=k)}let h=vs(d.componentType??{}),v=Eh(this._lContainer,h?.id??null),x=v?.firstChild??null,b=d.create(p,r,x,o,s,a);return this.insertImpl(b.hostView,u,al(this._hostTNode,v)),b}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(ab(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Et],u=new VD(l,l[cn],l[Et]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Uc(s,r,o,i),e.attachToViewContainerRef(),Uv(T_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=nI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Dc(this._lContainer,t);i&&(pc(T_(this._lContainer),t),Lh(i[se],i))}detach(e){let t=this._adjustIndex(e,-1),i=Dc(this._lContainer,t);return i&&pc(T_(this._lContainer),t)!=null?new go(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function nI(n){return n[vc]}function T_(n){return n[vc]||(n[vc]=[])}function BD(n,e){let t,i=e[n.index];return Si(i)?t=i:(t=TD(i,e,null,n),e[n.index]=t,Ry(e,t)),RU(t,e,n,i),new VD(t,n,e)}function PU(n,e){let t=n[Ze],i=t.createComment(""),r=Ti(e,n),o=t.parentNode(r);return _h(t,o,i,t.nextSibling(r),!1),i}var RU=OU,FU=()=>!1;function LU(n,e,t){return FU(n,e,t)}function OU(n,e,t,i){if(n[co])return;let r;t.type&8?r=si(i):r=PU(e,t),n[co]=r}var iy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},ry=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)$D(e,t).matches!==null&&this.queries[t].setDirty()}},oy=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=zU(e):this.predicate=e}},sy=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ay=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,VU(t,o)),this.matchTNodeWithReadOption(e,t,uh(t,e,o,!1,!1))}else i===ll?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,uh(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===pn||r===Hc||r===ll&&t.type&4)this.addMatch(t.index,-2);else{let o=uh(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function VU(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function BU(n,e){return n.type&11?cl(n,e):n.type&4?Qy(n,e):null}function qU(n,e,t,i){return t===-1?BU(e,n):t===-2?UU(n,e,i):Tc(n,n[se],t,e)}function UU(n,e,t){if(t===pn)return cl(e,n);if(t===ll)return Qy(e,n);if(t===Hc)return BD(e,n)}function qD(n,e,t,i){let r=e[Zi].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let d=o[u];a.push(qU(e,d,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function ly(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=qD(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let u=o[a+1],d=e[-l];for(let p=st;p<d.length;p++){let h=d[p];h[uo]===h[Et]&&ly(h[se],h,u,i)}if(d[ws]!==null){let p=d[ws];for(let h=0;h<p.length;h++){let v=p[h];ly(v[se],v,u,i)}}}}}return i}function UD(n,e){return n[Zi].queries[e].queryList}function $U(n,e,t){let i=new vh((t&4)===4);return cb(n,e,i,i.destroy),(e[Zi]??=new ry).queries.push(new iy(i))-1}function HU(n,e,t){let i=ct();return i.firstCreatePass&&(GU(i,new oy(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),$U(i,ae(),e)}function zU(n){return n.split(",").map(e=>e.trim())}function GU(n,e,t){n.queries===null&&(n.queries=new sy),n.queries.track(new ay(e,t))}function $D(n,e){return n.queries.getByIndex(e)}function WU(n,e){let t=n[se],i=$D(t,e);return i.crossesNgTemplate?ly(t,n,e,[]):qD(t,n,i,e)}function HD(n,e,t){let i,r=sc(()=>{i._dirtyCounter();let o=jU(i,n);if(e&&o===void 0)throw new te(-951,!1);return o});return i=r[It],i._dirtyCounter=P(0),i._flatValue=void 0,r}function zD(n){return HD(!0,!1,n)}function GD(n){return HD(!0,!0,n)}function QU(n,e){let t=n[It];t._lView=ae(),t._queryIndex=e,t._queryList=UD(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}function jU(n,e){let t=n._lView,i=n._queryIndex;if(t===void 0||i===void 0||t[de]&4)return e?void 0:Yt;let r=UD(t,i),o=WU(t,i);return r.reset(o,uq),e?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}var kc=class{};var Nc=class extends kc{injector;componentFactoryResolver=new ny(this);instance=null;constructor(e){super();let t=new hs([...e.providers,{provide:kc,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver}],e.parent||mc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function WD(n,e,t=null){return new Nc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var YU=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Gv(!1,t.type),r=i.length>0?WD([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Qe({token:n,providedIn:"environment",factory:()=>new n(Le(ii))})}return n})();function Pe(n){return Fc(()=>{let e=QD(n),t=V(I({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ey.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(YU).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||br.Emulated,styles:n.styles||Yt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&vo("NgStandalone"),jD(t);let i=n.dependencies;return t.directiveDefs=iI(i,JU),t.pipeDefs=iI(i,XT),t.id=XU(t),t})}function JU(n){return vs(n)||zv(n)}function _o(n){return Fc(()=>({type:n.type,bootstrap:n.bootstrap||Yt,declarations:n.declarations||Yt,imports:n.imports||Yt,exports:n.exports||Yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ZU(n,e){if(n==null)return ao;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=Rh.None,l=null),t[o]=[i,a,l],e[o]=s}return t}function KU(n){if(n==null)return ao;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function mt(n){return Fc(()=>{let e=QD(n);return jD(e),e})}function zc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function QD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ao,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Yt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ZU(n.inputs,e),outputs:KU(n.outputs),debugInfo:null}}function jD(n){n.features?.forEach(e=>e(n))}function iI(n,e){return n?()=>{let t=typeof n=="function"?n():n,i=[];for(let r of t){let o=e(r);o!==null&&i.push(o)}return i}:null}function XU(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function e$(n){return Object.getPrototypeOf(n.prototype).constructor}function wn(n){let e=e$(n.type),t=!0,i=[n];for(;e;){let r;if(Xi(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=b_(n.inputs),s.declaredInputs=b_(n.declaredInputs),s.outputs=b_(n.outputs);let a=r.hostBindings;a&&o$(n,a);let l=r.viewQuery,u=r.contentQueries;if(l&&i$(n,l),u&&r$(n,u),t$(n,r),zT(n.outputs,r.outputs),Xi(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===wn&&(t=!1)}}e=Object.getPrototypeOf(e)}n$(i)}function t$(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function n$(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ol(r.hostAttrs,t=ol(t,r.hostAttrs))}}function b_(n){return n===ao?{}:n===Yt?[]:n}function i$(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function r$(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function o$(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function s$(n,e,t,i,r,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ol(n.mergedAttrs,n.attrs);let d=n.tView=Ny(2,n,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Xa(n,!1);let l=a$(t,e,n,i);Xp()&&Uy(t,e,l,n),sl(l,e);let u=TD(l,e,l,n);e[i+ot]=u,Ry(e,u),LU(u,n,e)}function Pc(n,e,t,i,r,o,s,a,l,u,d){let p=t+ot,h;if(e.firstCreatePass){if(h=$c(e,p,4,s||null,a||null),u!=null){let v=er(e.consts,u);h.localNames=[];for(let x=0;x<v.length;x+=2)h.localNames.push(v[x],-1)}}else h=e.data[p];return s$(h,n,e,t,i,r,o,l),u!=null&&Hy(n,h,d),h}var a$=l$;function l$(n,e,t,i){return eh(!0),e[Ze].createComment("")}var Yy=new _e("");function fl(n){return!!n&&typeof n.then=="function"}function Jy(n){return!!n&&typeof n.subscribe=="function"}var YD=new _e("");var Zy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=J(YD,{optional:!0})??[];injector=J(On);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=zp(this.injector,r);if(fl(o))t.push(o);else if(Jy(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JD=new _e("");function ZD(){fv(()=>{let n="";throw new te(600,n)})}function KD(n){return n.isBoundToModule}var u$=10;var yo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=J(Tr);afterRenderManager=J(Vy);zonelessEnabled=J(nl);rootEffectScheduler=J(xc);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ji;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=J(bs);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(cs(t=>!t))}constructor(){J(Ps,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=J(ii);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=On.NULL){return this._injector.get(ht).run(()=>{ze(10);let s=t instanceof Vh;if(!this._injector.get(Zy).done){let x="";throw new te(405,x)}let l;s?l=t:l=this._injector.get(Bh).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let u=KD(l)?void 0:this._injector.get(kc),d=i||l.selector,p=l.create(r,[],d,u),h=p.location.nativeElement,v=p.injector.get(Yy,null);return v?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),Sc(this.components,p),v?.unregisterApplication(h)}),this._loadComponent(p),ze(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ze(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Fh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new te(101,!1);let t=le(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,le(t),this.afterTick.next(),ze(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ks,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<u$;)ze(14),this.synchronizeOnce(),ze(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!yc(r))continue;let o=i&&!this.zonelessEnabled?0:1;ED(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>yc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Sc(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(JD,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new te(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Co(n,e,t,i){let r=ae(),o=ho();if(fn(r,o,e)){let s=ct(),a=Ec();R8(a,r,n,e,t,i)}return Co}var bte=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var uy=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function I_(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function c$(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let u=n.at(o),d=e[o],p=I_(o,u,o,d,t);if(p!==0){p<0&&n.updateValue(o,d),o++;continue}let h=n.at(s),v=e[l],x=I_(s,h,l,v,t);if(x!==0){x<0&&n.updateValue(s,v),s--,l--;continue}let b=t(o,u),N=t(s,h),k=t(o,d);if(Object.is(k,N)){let U=t(l,v);Object.is(U,b)?(n.swap(o,s),n.updateValue(s,v),l--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(i??=new Sh,r??=oI(n,o,s,t),cy(n,i,o,k))n.updateValue(o,d),o++,s++;else if(r.has(k))i.set(b,n.detach(o)),s--;else{let U=n.create(o,e[o]);n.attach(o,U),o++,s++}}for(;o<=l;)rI(n,i,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let d=n.at(o),p=u.value,h=I_(o,d,o,p,t);if(h!==0)h<0&&n.updateValue(o,p),o++,u=l.next();else{i??=new Sh,r??=oI(n,o,s,t);let v=t(o,p);if(cy(n,i,o,v))n.updateValue(o,p),o++,s++,u=l.next();else if(!r.has(v))n.attach(o,n.create(o,p)),o++,s++,u=l.next();else{let x=t(o,d);i.set(x,n.detach(o)),s--}}}for(;!u.done;)rI(n,i,t,n.length,u.value),u=l.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(l=>{n.destroy(l)})}function cy(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function rI(n,e,t,i,r){if(cy(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function oI(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Sh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function L(n,e,t,i,r,o,s,a){vo("NgControlFlow");let l=ae(),u=ct(),d=er(u.consts,o);return Pc(l,u,n,e,t,i,r,d,256,s,a),Ky}function Ky(n,e,t,i,r,o,s,a){vo("NgControlFlow");let l=ae(),u=ct(),d=er(u.consts,o);return Pc(l,u,n,e,t,i,r,d,512,s,a),Ky}function O(n,e){vo("NgControlFlow");let t=ae(),i=ho(),r=t[i]!==Ht?t[i]:-1,o=r!==-1?Th(t,ot+r):void 0,s=0;if(fn(t,i,n)){let a=le(null);try{if(o!==void 0&&ID(o,s),n!==-1){let l=ot+n,u=Th(t,l),d=hy(t[se],l),p=AD(u,d,t),h=qc(t,d,e,{dehydratedView:p});Uc(u,h,s,al(d,p))}}finally{le(a)}}else if(o!==void 0){let a=bD(o,s);a!==void 0&&(a[ut]=e)}}var dy=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-st}};function Eo(n){return n}function Rs(n,e){return e}var fy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function Ee(n,e,t,i,r,o,s,a,l,u,d,p,h){vo("NgControlFlow");let v=ae(),x=ct(),b=l!==void 0,N=ae(),k=a?s.bind(N[dn][ut]):s,U=new fy(b,k);N[ot+n]=U,Pc(v,x,n+1,e,t,i,r,er(x.consts,o),256),b&&Pc(v,x,n+2,l,u,d,p,er(x.consts,h),512)}var py=class extends uy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-st}at(e){return this.getLView(e)[ut].$implicit}attach(e,t){let i=t[_s];this.needsIndexUpdate||=e!==this.length,Uc(this.lContainer,t,e,al(this.templateTNode,i)),d$(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,f$(this.lContainer,e),p$(this.lContainer,e)}create(e,t){let i=Eh(this.lContainer,this.templateTNode.tView.ssrId),r=qc(this.hostLView,this.templateTNode,new dy(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Lh(e[se],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[ut].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ut].$index=e}getLView(e){return h$(this.lContainer,e)}};function xe(n){let e=le(null),t=bi();try{let i=ae(),r=i[se],o=i[t],s=t+1,a=Th(i,s);if(o.liveCollection===void 0){let u=hy(r,s);o.liveCollection=new py(a,i,u)}else o.liveCollection.reset();let l=o.liveCollection;if(c$(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=ho(),d=l.length===0;if(fn(i,u,d)){let p=t+2,h=Th(i,p);if(d){let v=hy(r,p),x=AD(h,v,i),b=qc(i,v,void 0,{dehydratedView:x});Uc(h,b,0,al(v,x))}else r.firstUpdatePass&&rU(h),ID(h,0)}}}finally{le(e)}}function Th(n,e){return n[e]}function d$(n,e){if(n.length<=st)return;let t=st+e,i=n[t],r=i?i[xs]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[Er];d8(o,r),Ms.delete(i),r.detachedLeaveAnimationFns=void 0}}function f$(n,e){if(n.length<=st)return;let t=st+e,i=n[t],r=i?i[xs]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function p$(n,e){return Dc(n,e)}function h$(n,e){return bD(n,e)}function hy(n,e){return _c(n,e)}function F(n,e,t){let i=ae(),r=ho();if(fn(i,r,e)){let o=ct(),s=Ec();fD(s,i,n,e,i[Ze],t)}return F}function my(n,e,t,i,r){zy(e,n,t,r?"class":"style",i)}function m(n,e,t,i){let r=ae(),o=r[se],s=n+ot,a=o.firstCreatePass?PD(s,r,2,e,P8,pb(),t,i):o.data[s];if(hD(a,r,n,e,XD),Wp(a)){let l=r[se];dD(l,r,a),FI(l,a,r)}return i!=null&&Hy(r,a),m}function g(){let n=ct(),e=Ut(),t=mD(e);return n.firstCreatePass&&RD(n,t),u_(t)&&c_(),a_(),t.classesWithoutHost!=null&&YB(t)&&my(n,t,ae(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&JB(t)&&my(n,t,ae(),t.stylesWithoutHost,!1),g}function Re(n,e,t,i){return m(n,e,t,i),g(),Re}function G(n,e,t,i){let r=ae(),o=r[se],s=n+ot,a=o.firstCreatePass?yU(s,o,2,e,t,i):o.data[s];return hD(a,r,n,e,XD),i!=null&&Hy(r,a),G}function X(){let n=Ut(),e=mD(n);return u_(e)&&c_(),a_(),X}function Ar(n,e,t,i){return G(n,e,t,i),X(),Ar}var XD=(n,e,t,i,r)=>(eh(!0),GI(e[Ze],i,Tb()));function B(){return ae()}function Gc(n,e,t){let i=ae(),r=ho();if(fn(i,r,e)){let o=ct(),s=Ec();pD(s,i,n,e,i[Ze],t)}return Gc}var oh=void 0;function m$(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var g$=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oh,"{1} 'at' {0}",oh],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",m$],D_={};function $n(n){let e=v$(n),t=sI(e);if(t)return t;let i=e.split("-")[0];if(t=sI(i),t)return t;if(i==="en")return g$;throw new te(701,!1)}function sI(n){return n in D_||(D_[n]=ri.ng&&ri.ng.common&&ri.ng.common.locales&&ri.ng.common.locales[n]),D_[n]}var dt=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(dt||{});function v$(n){return n.toLowerCase().replace(/_/g,"-")}var Wc="en-US";var _$=Wc;function e1(n){typeof n=="string"&&(_$=n.toLowerCase().replace(/_/g,"-"))}function A(n,e,t){let i=ae(),r=ct(),o=Ut();return t1(r,i,i[Ze],o,n,e,t),A}function we(n,e,t){let i=ae(),r=ct(),o=Ut();return(o.type&3||t)&&FD(o,r,i,t,i[Ze],n,e,dh(o,i,e)),we}function t1(n,e,t,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=dh(i,e,o),FD(i,n,e,s,t,r,o,l)&&(a=!1)),a){let u=i.outputs?.[r],d=i.hostDirectiveOutputs?.[r];if(d&&d.length)for(let p=0;p<d.length;p+=2){let h=d[p],v=d[p+1];l??=dh(i,e,o),eI(i,e,h,v,r,l)}if(u&&u.length)for(let p of u)l??=dh(i,e,o),eI(i,e,p,r,r,l)}}function C(n=1){return Sb(n)}function y$(n,e){let t=null,i=$q(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?zI(n,o,!0):Gq(i,o))return r}return t}function Xy(n){let e=ae()[dn][cn];if(!e.projection){let t=n?n.length:1,i=e.projection=ZT(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?y$(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function eC(n,e=0,t,i,r,o){let s=ae(),a=ct(),l=i?n+1:null;l!==null&&Pc(s,a,l,i,r,o,null,t);let u=$c(a,ot+n,16,null,t||null);u.projection===null&&(u.projection=e),p_();let p=!s[_s]||l_();s[dn][cn].projection[u.projection]===null&&l!==null?C$(s,a,l):p&&!Mh(u)&&x8(a,s,u)}function C$(n,e,t){let i=ot+t,r=e.data[i],o=n[i],s=Eh(o,r.tView.ssrId),a=qc(n,r,void 0,{dehydratedView:s});Uc(o,a,0,al(r,s))}function xo(n,e,t,i){QU(n,HU(e,t,i))}function Fs(n=1){Jp(Cb()+n)}function sh(n,e){return n<<17|e<<2}function Ns(n){return n>>17&32767}function E$(n){return(n&2)==2}function x$(n,e){return n&131071|e<<17}function gy(n){return n|2}function ul(n){return(n&131068)>>2}function A_(n,e){return n&-131069|e<<2}function w$(n){return(n&1)===1}function vy(n){return n|1}function S$(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ns(s),l=ul(s);n[i]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||Ya(p,d)>0)&&(u=!0)}else d=t;if(r)if(l!==0){let h=Ns(n[a+1]);n[i+1]=sh(h,a),h!==0&&(n[h+1]=A_(n[h+1],i)),n[a+1]=x$(n[a+1],i)}else n[i+1]=sh(a,0),a!==0&&(n[a+1]=A_(n[a+1],i)),a=i;else n[i+1]=sh(l,0),a===0?a=i:n[l+1]=A_(n[l+1],i),l=i;u&&(n[i+1]=gy(n[i+1])),aI(n,d,i,!0),aI(n,d,i,!1),T$(e,d,n,i,o),s=sh(a,l),o?e.classBindings=s:e.styleBindings=s}function T$(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ya(o,e)>=0&&(t[i+1]=vy(t[i+1]))}function aI(n,e,t,i){let r=n[t+1],o=e===null,s=i?Ns(r):ul(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];b$(l,e)&&(a=!0,n[s+1]=i?vy(u):gy(u)),s=i?Ns(u):ul(u)}a&&(n[t+1]=i?gy(r):vy(r))}function b$(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ya(n,e)>=0:!1}var Di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function I$(n){return n.substring(Di.key,Di.keyEnd)}function D$(n){return A$(n),n1(n,i1(n,0,Di.textEnd))}function n1(n,e){let t=Di.textEnd;return t===e?-1:(e=Di.keyEnd=M$(n,Di.key=e,t),i1(n,e,t))}function A$(n){Di.key=0,Di.keyEnd=0,Di.value=0,Di.valueEnd=0,Di.textEnd=n.length}function i1(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function M$(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Ls(n,e,t){return r1(n,e,t,!1),Ls}function ne(n,e){return r1(n,e,null,!0),ne}function Qc(n){N$(V$,k$,n,!0)}function k$(n,e){for(let t=D$(e);t>=0;t=n1(e,t))Up(n,I$(e),!0)}function r1(n,e,t,i){let r=ae(),o=ct(),s=Cc(2);if(o.firstUpdatePass&&s1(o,n,s,i),e!==Ht&&fn(r,s,e)){let a=o.data[bi()];a1(o,a,r,r[Ze],n,r[s+1]=q$(e,t),i,s)}}function N$(n,e,t,i){let r=ct(),o=Cc(2);r.firstUpdatePass&&s1(r,null,o,i);let s=ae();if(t!==Ht&&fn(s,o,t)){let a=r.data[bi()];if(l1(a,i)&&!o1(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Lp(l,t||"")),my(r,a,s,t,i)}else B$(r,a,s,s[Ze],s[o+1],s[o+1]=O$(n,e,t),i,o)}}function o1(n,e){return e>=n.expandoStartIndex}function s1(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[bi()],s=o1(n,t);l1(o,i)&&e===null&&!s&&(e=!1),e=P$(r,o,e,i),S$(r,o,e,t,s,i)}}function P$(n,e,t,i){let r=yb(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=M_(null,n,e,t,i),t=Rc(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=M_(r,n,e,t,i),o===null){let l=R$(n,e,i);l!==void 0&&Array.isArray(l)&&(l=M_(null,n,e,l[1],i),l=Rc(l,e.attrs,i),F$(n,e,i,l))}else o=L$(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function R$(n,e,t){let i=t?e.classBindings:e.styleBindings;if(ul(i)!==0)return n[Ns(i)]}function F$(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Ns(r)]=i}function L$(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Rc(i,s,t)}return Rc(i,e.attrs,t)}function M_(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Rc(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Rc(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Up(n,s,t?!0:e[++o]))}return n===void 0?null:n}function O$(n,e,t){if(t==null||t==="")return Yt;let i=[],r=li(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function V$(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&Up(n,i,t)}function B$(n,e,t,i,r,o,s,a){r===Ht&&(r=Yt);let l=0,u=0,d=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let h=l<r.length?r[l+1]:void 0,v=u<o.length?o[u+1]:void 0,x=null,b;d===p?(l+=2,u+=2,h!==v&&(x=p,b=v)):p===null||d!==null&&d<p?(l+=2,x=d):(u+=2,x=p,b=v),x!==null&&a1(n,e,t,i,x,b,s,a),d=l<r.length?r[l]:null,p=u<o.length?o[u]:null}}function a1(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],d=w$(u)?lI(l,e,t,r,ul(u),s):void 0;if(!bh(d)){bh(o)||E$(u)&&(o=lI(l,null,t,r,a,s));let p=Xv(bi(),t);S8(i,s,p,r,o)}}function lI(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],u=Array.isArray(l),d=u?l[1]:l,p=d===null,h=t[r+1];h===Ht&&(h=p?Yt:void 0);let v=p?$p(h,i):d===i?h:void 0;if(u&&!bh(v)&&(v=$p(l,i)),bh(v)&&(a=v,s))return a;let x=n[r+1];r=s?Ns(x):ul(x)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=$p(l,i))}return a}function bh(n){return n!==void 0}function q$(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ro(li(n)))),n}function l1(n,e){return(n.flags&(e?8:16))!==0}function y(n,e=""){let t=ae(),i=ct(),r=n+ot,o=i.firstCreatePass?$c(i,r,1,e,null):i.data[r],s=U$(i,t,o,e,n);t[r]=s,Xp()&&Uy(i,t,s,o),Xa(o,!1)}var U$=(n,e,t,i,r)=>(eh(!0),Yq(e[Ze],i));function u1(n,e,t,i=""){return fn(n,ho(),t)?e+xi(t)+i:Ht}function $$(n,e,t,i,r,o=""){let s=m_(),a=Ac(n,s,t,r);return Cc(2),a?e+xi(t)+i+xi(r)+o:Ht}function H$(n,e,t,i,r,o,s,a=""){let l=m_(),u=CU(n,l,t,r,s);return Cc(3),u?e+xi(t)+i+xi(r)+o+xi(s)+a:Ht}function ie(n){return Te("",n),ie}function Te(n,e,t){let i=ae(),r=u1(i,n,e,t);return r!==Ht&&tC(i,bi(),r),Te}function pl(n,e,t,i,r){let o=ae(),s=$$(o,n,e,t,i,r);return s!==Ht&&tC(o,bi(),s),pl}function qh(n,e,t,i,r,o,s){let a=ae(),l=H$(a,n,e,t,i,r,o,s);return l!==Ht&&tC(a,bi(),l),qh}function tC(n,e,t){let i=Xv(e,n);Jq(n[Ze],i,t)}function zt(n,e,t){C_(e)&&(e=e());let i=ae(),r=ho();if(fn(i,r,e)){let o=ct(),s=Ec();fD(s,i,n,e,i[Ze],t)}return zt}function Zt(n,e){let t=C_(n);return t&&n.set(e),t}function Gt(n,e){let t=ae(),i=ct(),r=Ut();return t1(i,t,t[Ze],r,n,e),Gt}function wo(n,e,t=""){return u1(ae(),n,e,t)}function z$(n,e,t){let i=ct();if(i.firstCreatePass){let r=Xi(n);_y(t,i.data,i.blueprint,r,!0),_y(e,i.data,i.blueprint,r,!1)}}function _y(n,e,t,i,r){if(n=qt(n),Array.isArray(n))for(let o=0;o<n.length;o++)_y(n[o],e,t,i,r);else{let o=ct(),s=ae(),a=Ut(),l=ps(n)?n:qt(n.provide),u=Qv(n),d=a.providerIndexes&1048575,p=a.directiveStart,h=a.providerIndexes>>20;if(ps(n)||!n.multi){let v=new As(u,r,je,null),x=N_(l,e,r?d:d+h,p);x===-1?(R_(gh(a,s),o,l),k_(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[x]=v,s[x]=v)}else{let v=N_(l,e,d+h,p),x=N_(l,e,d,d+h),b=v>=0&&t[v],N=x>=0&&t[x];if(r&&!N||!r&&!b){R_(gh(a,s),o,l);let k=Q$(r?W$:G$,t.length,r,i,u,n);!r&&N&&(t[x].providerFactory=k),k_(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=c1(t[r?x:v],u,!r&&i);k_(o,n,v>-1?v:x,k)}!r&&i&&N&&t[x].componentProviders++}}}function k_(n,e,t,i){let r=ps(e),o=ib(e);if(r||o){let l=(o?qt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[i,l]):u[d+1].push(i,l)}else u.push(t,l)}}}function c1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function N_(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function G$(n,e,t,i,r){return yy(this.multi,[])}function W$(n,e,t,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Tc(i,i[se],this.providerFactory.index,r);s=l.slice(0,a),yy(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],yy(o,s);return s}function yy(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function Q$(n,e,t,i,r,o){let s=new As(n,t,je,null);return s.multi=[],s.index=e,s.componentProviders=0,c1(s,r,i&&!t),s}function Hn(n,e=[]){return t=>{t.providersResolver=(i,r)=>z$(i,r?r(n):n,e)}}function Me(n,e,t){let i=Ts()+n,r=ae();return r[i]===Ht?dl(r,i,t?e.call(t):e()):jy(r,i)}function nC(n,e,t,i,r,o,s,a){let l=Ts()+n,u=ae(),d=ey(u,l,t,i,r,o);return fn(u,l+4,s)||d?dl(u,l+5,a?e.call(a,t,i,r,o,s):e(t,i,r,o,s)):jy(u,l+5)}function iC(n,e,t,i,r,o,s,a,l,u,d){let p=Ts()+n,h=ae(),v=ey(h,p,t,i,r,o);return ey(h,p+4,s,a,l,u)||v?dl(h,p+8,d?e.call(d,t,i,r,o,s,a,l,u):e(t,i,r,o,s,a,l,u)):jy(h,p+8)}function rC(n,e,t,i){return J$(ae(),Ts(),n,e,t,i)}function oC(n,e){let t=n[e];return t===Ht?void 0:t}function j$(n,e,t,i,r,o){let s=e+t;return fn(n,s,r)?dl(n,s+1,o?i.call(o,r):i(r)):oC(n,s+1)}function Y$(n,e,t,i,r,o,s){let a=e+t;return Ac(n,a,r,o)?dl(n,a+2,s?i.call(s,r,o):i(r,o)):oC(n,a+2)}function J$(n,e,t,i,r,o){let s=e+t,a=!1;for(let l=0;l<r.length;l++)fn(n,s++,r[l])&&(a=!0);return a?dl(n,s,i.apply(o,r)):oC(n,s)}function hl(n,e){let t=ct(),i,r=n+ot;t.firstCreatePass?(i=Z$(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=oo(i.type,!0)),s,a=un(je);try{let l=mh(!1),u=o();return mh(l),t_(t,ae(),r,u),u}finally{un(a)}}function Z$(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function Uh(n,e,t){let i=n+ot,r=ae(),o=e_(r,i);return d1(r,i)?j$(r,Ts(),e,o.transform,t,o):o.transform(t)}function sC(n,e,t,i){let r=n+ot,o=ae(),s=e_(o,r);return d1(o,r)?Y$(o,Ts(),e,s.transform,t,i,s):s.transform(t,i)}function d1(n,e){return n[se].data[e].pure}var K$=(()=>{class n{zone=J(ht);changeDetectionScheduler=J(Ei);applicationRef=J(yo);applicationErrorHandler=J(Tr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function f1({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ht(V(I({},p1()),{scheduleInRootZone:t})),[{provide:ht,useFactory:n},{provide:lo,multi:!0,useFactory:()=>{let i=J(K$,{optional:!0});return()=>i.initialize()}},{provide:lo,multi:!0,useFactory:()=>{let i=J(X$);return()=>{i.initialize()}}},e===!0?{provide:E_,useValue:!0}:[],{provide:th,useValue:t??KI},{provide:Tr,useFactory:()=>{let i=J(ht),r=J(ii),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(Vn),o.handleError(s))})}}}]}function p1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var X$=(()=>{class n{subscription=new ln;initialized=!1;zone=J(ht);pendingTasks=J(bs);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ht.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ht.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var aC=(()=>{class n{applicationErrorHandler=J(Tr);appRef=J(yo);taskService=J(bs);ngZone=J(ht);zonelessEnabled=J(nl);tracing=J(Ps,{optional:!0});disableScheduling=J(E_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ln;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(J(th,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?zb:XI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lC(){return vo("NgZoneless"),Hp([{provide:Ei,useExisting:aC},{provide:ht,useClass:bc},{provide:nl,useValue:!0},{provide:th,useValue:!1},[]])}function e5(){return typeof $localize<"u"&&$localize.locale||Wc}var jc=new _e("",{providedIn:"root",factory:()=>J(jc,{optional:!0,skipSelf:!0})||e5()});var $h=class{destroyed=!1;listeners=null;errorHandler=J(Vn,{optional:!0});destroyRef=J(tr);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new te(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(ms(953,!1));return}if(this.listeners===null)return;let t=le(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{le(t)}}};function Mr(n){return BT(n)}function Fe(n,e){return sc(n,e?.equal)}var uC=class{[It];constructor(e){this[It]=e}destroy(){this[It].destroy()}};function it(n,e){let t=e?.injector??J(On),i=e?.manualCleanup!==!0?t.get(tr):null,r,o=t.get(tl,null,{optional:!0}),s=t.get(Ei);return o!==null?(r=i5(o.view,s,n),i instanceof fc&&i._lView===o.view&&(i=null)):r=r5(n,t.get(xc),s),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new uC(r)}var h1=V(I({},qT),{cleanupFns:void 0,zone:null,onDestroyFn:Is,run(){let n=el(!1);try{UT(this)}finally{el(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=le(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],le(n)}}}),t5=V(I({},h1),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ss(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),n5=V(I({},h1),{consumerMarkedDirty(){this.view[de]|=8192,po(this.view),this.notifier.notify(13)},destroy(){ss(this),this.onDestroyFn(),this.cleanup(),this.view[xr]?.delete(this)}});function i5(n,e,t){let i=Object.create(n5);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=m1(i,t),n[xr]??=new Set,n[xr].add(i),i.consumerMarkedDirty(i),i}function r5(n,e,t){let i=Object.create(t5);return i.fn=m1(i,n),i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function m1(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var y1=Symbol("InputSignalNode#UNSET"),_5=V(I({},pp),{transformFn:void 0,applyValueToInputSignal(n,e){Ua(n,e)}});function C1(n,e){let t=Object.create(_5);t.value=n,t.transformFn=e?.transform;function i(){if(Oa(t),t.value===y1){let r=null;throw new te(-950,r)}return t.value}return i[It]=t,i}var y5=new _e("");y5.__NG_ELEMENT_ID__=n=>{let e=Ut();if(e===null)throw new te(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new te(204,!1)};function ue(n){return new $h}function g1(n,e){return C1(n,e)}function C5(n){return C1(y1,n)}var be=(g1.required=C5,g1);function v1(n,e){return zD(e)}function E5(n,e){return GD(e)}var Os=(v1.required=E5,v1);var cC=new _e(""),x5=new _e("");function Yc(n){return!n.moduleRef}function w5(n){let e=Yc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ht);return t.run(()=>{Yc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Tr),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),Yc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(cC);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(cC);s.add(o),n.moduleRef.onDestroy(()=>{Sc(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return T5(i,t,()=>{let o=e.get(bs),s=o.add(),a=e.get(Zy);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(jc,Wc);if(e1(l||Wc),!e.get(x5,!0))return Yc(n)?e.get(yo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Yc(n)){let d=e.get(yo);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return S5?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var S5;function T5(n,e,t){try{let i=t();return fl(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n(i)),i}}var Hh=null;function b5(n=[],e){return On.create({name:e,providers:[{provide:hc,useValue:"platform"},{provide:cC,useValue:new Set([()=>Hh=null])},...n]})}function I5(n=[]){if(Hh)return Hh;let e=b5(n);return Hh=e,ZD(),D5(e),e}function D5(n){let e=n.get(Dh,null);zp(n,()=>{e?.forEach(t=>t())})}var zh=(()=>{class n{static __NG_ELEMENT_ID__=A5}return n})();function A5(n){return M5(Ut(),ae(),(n&16)===16)}function M5(n,e,t){if(fo(n)&&!t){let i=ai(n.index,e);return new go(i,i)}else if(n.type&175){let i=e[dn];return new go(i,e)}return null}function E1(n){let{rootComponent:e,appProviders:t,platformProviders:i,platformRef:r}=n;ze(8);try{let o=r?.injector??I5(i),s=[f1({}),{provide:Ei,useExisting:aC},Db,...t||[]],a=new Nc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return w5({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ze(9)}}function x1(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var w1=null;function kr(){return w1}function dC(n){w1??=n}var Jc=class{};var Xt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Xt||{}),Ye=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Ye||{}),Sn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Sn||{}),Pr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function T1(n){return $n(n)[dt.LocaleId]}function b1(n,e,t){let i=$n(n),r=[i[dt.DayPeriodsFormat],i[dt.DayPeriodsStandalone]],o=ui(r,e);return ui(o,t)}function I1(n,e,t){let i=$n(n),r=[i[dt.DaysFormat],i[dt.DaysStandalone]],o=ui(r,e);return ui(o,t)}function D1(n,e,t){let i=$n(n),r=[i[dt.MonthsFormat],i[dt.MonthsStandalone]],o=ui(r,e);return ui(o,t)}function A1(n,e){let i=$n(n)[dt.Eras];return ui(i,e)}function Zc(n,e){let t=$n(n);return ui(t[dt.DateFormat],e)}function Kc(n,e){let t=$n(n);return ui(t[dt.TimeFormat],e)}function Xc(n,e){let i=$n(n)[dt.DateTimeFormat];return ui(i,e)}function ed(n,e){let t=$n(n),i=t[dt.NumberSymbols][e];if(typeof i>"u"){if(e===Pr.CurrencyDecimal)return t[dt.NumberSymbols][Pr.Decimal];if(e===Pr.CurrencyGroup)return t[dt.NumberSymbols][Pr.Group]}return i}function M1(n){if(!n[dt.ExtraData])throw new te(2303,!1)}function k1(n){let e=$n(n);return M1(e),(e[dt.ExtraData][2]||[]).map(i=>typeof i=="string"?fC(i):[fC(i[0]),fC(i[1])])}function N1(n,e,t){let i=$n(n);M1(i);let r=[i[dt.ExtraData][0],i[dt.ExtraData][1]],o=ui(r,e)||[];return ui(o,t)||[]}function ui(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new te(2304,!1)}function fC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var k5=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gh={},N5=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function P1(n,e,t,i){let r=U5(n);e=Nr(t,e)||e;let s=[],a;for(;e;)if(a=N5.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=r.getTimezoneOffset();i&&(l=F1(i,l),r=q5(r,i));let u="";return s.forEach(d=>{let p=V5(d);u+=p?p(r,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Jh(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Nr(n,e){let t=T1(n);if(Gh[t]??={},Gh[t][e])return Gh[t][e];let i="";switch(e){case"shortDate":i=Zc(n,Sn.Short);break;case"mediumDate":i=Zc(n,Sn.Medium);break;case"longDate":i=Zc(n,Sn.Long);break;case"fullDate":i=Zc(n,Sn.Full);break;case"shortTime":i=Kc(n,Sn.Short);break;case"mediumTime":i=Kc(n,Sn.Medium);break;case"longTime":i=Kc(n,Sn.Long);break;case"fullTime":i=Kc(n,Sn.Full);break;case"short":let r=Nr(n,"shortTime"),o=Nr(n,"shortDate");i=Wh(Xc(n,Sn.Short),[r,o]);break;case"medium":let s=Nr(n,"mediumTime"),a=Nr(n,"mediumDate");i=Wh(Xc(n,Sn.Medium),[s,a]);break;case"long":let l=Nr(n,"longTime"),u=Nr(n,"longDate");i=Wh(Xc(n,Sn.Long),[l,u]);break;case"full":let d=Nr(n,"fullTime"),p=Nr(n,"fullDate");i=Wh(Xc(n,Sn.Full),[d,p]);break}return i&&(Gh[t][e]=i),i}function Wh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Ai(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function P5(n,e){return Ai(n,3).substring(0,e)}function gt(n,e,t=0,i=!1,r=!1){return function(o,s){let a=R5(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return P5(a,e);let l=ed(s,Pr.MinusSign);return Ai(a,e,l,i,r)}}function R5(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new te(2301,!1)}}function Xe(n,e,t=Xt.Format,i=!1){return function(r,o){return F5(r,o,n,e,t,i)}}function F5(n,e,t,i,r,o){switch(t){case 2:return D1(e,r,i)[n.getMonth()];case 1:return I1(e,r,i)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=k1(e),d=N1(e,r,i),p=u.findIndex(h=>{if(Array.isArray(h)){let[v,x]=h,b=s>=v.hours&&a>=v.minutes,N=s<x.hours||s===x.hours&&a<x.minutes;if(v.hours<x.hours){if(b&&N)return!0}else if(b||N)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(p!==-1)return d[p]}return b1(e,r,i)[s<12?0:1];case 3:return A1(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new te(2302,!1)}}function Qh(n){return function(e,t,i){let r=-1*i,o=ed(t,Pr.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+Ai(s,2,o)+Ai(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Ai(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+Ai(s,2,o)+":"+Ai(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+Ai(s,2,o)+":"+Ai(Math.abs(r%60),2,o);default:throw new te(2310,!1)}}}var L5=0,Yh=4;function O5(n){let e=Jh(n,L5,1).getDay();return Jh(n,0,1+(e<=Yh?Yh:Yh+7)-e)}function R1(n){let e=n.getDay(),t=e===0?-3:Yh-e;return Jh(n.getFullYear(),n.getMonth(),n.getDate()+t)}function pC(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=R1(t),s=O5(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ai(r,n,ed(i,Pr.MinusSign))}}function jh(n,e=!1){return function(t,i){let o=R1(t).getFullYear();return Ai(o,n,ed(i,Pr.MinusSign),e)}}var hC={};function V5(n){if(hC[n])return hC[n];let e;switch(n){case"G":case"GG":case"GGG":e=Xe(3,Ye.Abbreviated);break;case"GGGG":e=Xe(3,Ye.Wide);break;case"GGGGG":e=Xe(3,Ye.Narrow);break;case"y":e=gt(0,1,0,!1,!0);break;case"yy":e=gt(0,2,0,!0,!0);break;case"yyy":e=gt(0,3,0,!1,!0);break;case"yyyy":e=gt(0,4,0,!1,!0);break;case"Y":e=jh(1);break;case"YY":e=jh(2,!0);break;case"YYY":e=jh(3);break;case"YYYY":e=jh(4);break;case"M":case"L":e=gt(1,1,1);break;case"MM":case"LL":e=gt(1,2,1);break;case"MMM":e=Xe(2,Ye.Abbreviated);break;case"MMMM":e=Xe(2,Ye.Wide);break;case"MMMMM":e=Xe(2,Ye.Narrow);break;case"LLL":e=Xe(2,Ye.Abbreviated,Xt.Standalone);break;case"LLLL":e=Xe(2,Ye.Wide,Xt.Standalone);break;case"LLLLL":e=Xe(2,Ye.Narrow,Xt.Standalone);break;case"w":e=pC(1);break;case"ww":e=pC(2);break;case"W":e=pC(1,!0);break;case"d":e=gt(2,1);break;case"dd":e=gt(2,2);break;case"c":case"cc":e=gt(7,1);break;case"ccc":e=Xe(1,Ye.Abbreviated,Xt.Standalone);break;case"cccc":e=Xe(1,Ye.Wide,Xt.Standalone);break;case"ccccc":e=Xe(1,Ye.Narrow,Xt.Standalone);break;case"cccccc":e=Xe(1,Ye.Short,Xt.Standalone);break;case"E":case"EE":case"EEE":e=Xe(1,Ye.Abbreviated);break;case"EEEE":e=Xe(1,Ye.Wide);break;case"EEEEE":e=Xe(1,Ye.Narrow);break;case"EEEEEE":e=Xe(1,Ye.Short);break;case"a":case"aa":case"aaa":e=Xe(0,Ye.Abbreviated);break;case"aaaa":e=Xe(0,Ye.Wide);break;case"aaaaa":e=Xe(0,Ye.Narrow);break;case"b":case"bb":case"bbb":e=Xe(0,Ye.Abbreviated,Xt.Standalone,!0);break;case"bbbb":e=Xe(0,Ye.Wide,Xt.Standalone,!0);break;case"bbbbb":e=Xe(0,Ye.Narrow,Xt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Xe(0,Ye.Abbreviated,Xt.Format,!0);break;case"BBBB":e=Xe(0,Ye.Wide,Xt.Format,!0);break;case"BBBBB":e=Xe(0,Ye.Narrow,Xt.Format,!0);break;case"h":e=gt(3,1,-12);break;case"hh":e=gt(3,2,-12);break;case"H":e=gt(3,1);break;case"HH":e=gt(3,2);break;case"m":e=gt(4,1);break;case"mm":e=gt(4,2);break;case"s":e=gt(5,1);break;case"ss":e=gt(5,2);break;case"S":e=gt(6,1);break;case"SS":e=gt(6,2);break;case"SSS":e=gt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Qh(0);break;case"ZZZZZ":e=Qh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Qh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Qh(2);break;default:return null}return hC[n]=e,e}function F1(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function B5(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function q5(n,e,t){let r=n.getTimezoneOffset(),o=F1(e,r);return B5(n,-1*(o-r))}function U5(n){if(S1(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return Jh(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(k5))return $5(i)}let e=new Date(n);if(!S1(e))throw new te(2311,!1);return e}function $5(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,u),e}function S1(n){return n instanceof Date&&!isNaN(n.valueOf())}function H5(n,e){return new te(2100,!1)}var z5="mediumDate",L1=new _e(""),O1=new _e(""),mC=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??z5,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return P1(t,s,o||this.locale,a)}catch(s){throw H5(n,s.message)}}static \u0275fac=function(i){return new(i||n)(je(jc,16),je(L1,24),je(O1,24))};static \u0275pipe=zc({name:"date",type:n,pure:!0})}return n})();var ke=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=_o({type:n});static \u0275inj=Cr({})}return n})();function gC(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var td=class{};var V1="browser";var nd=class{_doc;constructor(e){this._doc=e}manager},Zh=(()=>{class n extends nd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(Le($t))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),Xh=new _e(""),EC=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(s=>{s.manager=this});let r=t.filter(s=>!(s instanceof Zh));this._plugins=r.slice().reverse();let o=t.find(s=>s instanceof Zh);o&&this._plugins.push(o)}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new te(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(Le(Xh),Le(ht))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),vC="ng-app-id";function B1(n){for(let e of n)e.remove()}function q1(n,e){let t=e.createElement("style");return t.textContent=n,t}function Q5(n,e,t,i){let r=n.head?.querySelectorAll(`style[${vC}="${e}"],link[${vC}="${e}"]`);if(r)for(let o of r)o.removeAttribute(vC),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function yC(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var xC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,Q5(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,q1);i?.forEach(r=>this.addUsage(r,this.external,yC))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(B1(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])B1(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,q1(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,yC(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(Le($t),Le(Ih),Le(Ah,8),Le(Oc))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),_C={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wC=/%COMP%/g;var $1="%COMP%",j5=`_nghost-${$1}`,Y5=`_ngcontent-${$1}`,J5=!0,Z5=new _e("",{providedIn:"root",factory:()=>J5});function K5(n){return Y5.replace(wC,n)}function X5(n){return j5.replace(wC,n)}function H1(n,e){return e.map(t=>t.replace(wC,n))}var SC=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,l=null,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new id(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof Kh?r.applyToHost(t):r instanceof rd&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,h=this.tracingService;switch(i.encapsulation){case br.Emulated:o=new Kh(l,u,i,this.appId,d,s,a,p,h);break;case br.ShadowDom:return new CC(l,u,t,i,s,a,this.nonce,p,h);default:o=new rd(l,u,i,d,s,a,p,h);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(Le(EC),Le(xC),Le(Ih),Le(Z5),Le($t),Le(ht),Le(Ah),Le(Ps,8))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),id=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(_C[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(U1(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(U1(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new te(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=_C[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=_C[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ir.DashCase|ir.Important)?e.style.setProperty(t,i,r&ir.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ir.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=kr().getGlobalEventTarget(this.doc,e),!e))throw new te(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function U1(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var CC=class extends id{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=H1(r.id,d);for(let h of d){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=h,this.shadowRoot.appendChild(v)}let p=r.getExternalStyles?.();if(p)for(let h of p){let v=yC(h,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},rd=class extends id{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=u?H1(u,d):d,this.styleUrls=i.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ms.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kh=class extends rd{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,l,u){let d=r+"-"+i.id;super(e,t,i,o,s,a,l,u,d),this.contentAttr=K5(d),this.hostAttr=X5(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var em=class n extends Jc{supportsDOMEvents=!0;static makeCurrent(){dC(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=eH();return t==null?null:tH(t)}resetBaseElement(){od=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gC(document.cookie,e)}},od=null;function eH(){return od=od||document.head.querySelector("base"),od?od.getAttribute("href"):null}function tH(n){return new URL(n,document.baseURI).pathname}var nH=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),z1=["alt","control","meta","shift"],iH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},G1=(()=>{class n extends nd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),z1.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=iH[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),z1.forEach(s=>{if(s!==r){let a=rH[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(Le($t))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();function TC(n,e,t){let i=I({rootComponent:n,platformRef:t?.platformRef},oH(e));return E1(i)}function oH(n){return{appProviders:[...cH,...n?.providers??[]],platformProviders:uH}}function sH(){em.makeCurrent()}function aH(){return new Vn}function lH(){return xy(document),document}var uH=[{provide:Oc,useValue:V1},{provide:Dh,useValue:sH,multi:!0},{provide:$t,useFactory:lH}];var cH=[{provide:hc,useValue:"root"},{provide:Vn,useFactory:aH},{provide:Xh,useClass:Zh,multi:!0,deps:[$t]},{provide:Xh,useClass:G1,multi:!0,deps:[$t]},SC,xC,EC,{provide:ks,useExisting:SC},{provide:td,useClass:nH},[]];var Vs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=Le(dH),r},providedIn:"root"})}return n})(),dH=(()=>{class n extends Vs{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case xn.NONE:return i;case xn.HTML:return or(i,"HTML")?li(i):Nh(this._doc,String(i)).toString();case xn.STYLE:return or(i,"Style")?li(i):i;case xn.SCRIPT:if(or(i,"Script"))return li(i);throw new te(5200,!1);case xn.URL:return or(i,"URL")?li(i):Vc(String(i));case xn.RESOURCE_URL:if(or(i,"ResourceURL"))return li(i);throw new te(5201,!1);default:throw new te(5202,!1)}}bypassSecurityTrustHtml(t){return Sy(t)}bypassSecurityTrustStyle(t){return Ty(t)}bypassSecurityTrustScript(t){return by(t)}bypassSecurityTrustUrl(t){return Iy(t)}bypassSecurityTrustResourceUrl(t){return Dy(t)}static \u0275fac=function(i){return new(i||n)(Le($t))};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tA=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(je(Un),je(pn))};static \u0275dir=mt({type:n})}return n})(),dd=(()=>{class n extends tA{static \u0275fac=(()=>{let t;return function(r){return(t||(t=rr(n)))(r||n)}})();static \u0275dir=mt({type:n,features:[wn]})}return n})(),So=new _e(""),fH={provide:So,useExisting:Jt(()=>fd),multi:!0},fd=(()=>{class n extends dd{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rr(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&A("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Hn([fH]),wn]})}return n})(),pH={provide:So,useExisting:Jt(()=>At),multi:!0};function hH(){let n=kr()?kr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var mH=new _e(""),At=(()=>{class n extends tA{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!hH())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(je(Un),je(pn),je(mH,8))};static \u0275dir=mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&A("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Hn([pH]),wn]})}return n})();function gH(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var om=new _e(""),vH=new _e("");function _H(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function yH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function CH(n){return e=>{let t=e.value?.length??gH(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function W1(n){return null}function nA(n){return n!=null}function iA(n){return fl(n)?xv(n):n}function rA(n){let e={};return n.forEach(t=>{e=t!=null?I(I({},e),t):e}),Object.keys(e).length===0?null:e}function oA(n,e){return e.map(t=>t(n))}function EH(n){return!n.validate}function sA(n){return n.map(e=>EH(e)?e:t=>e.validate(t))}function xH(n){if(!n)return null;let e=n.filter(nA);return e.length==0?null:function(t){return rA(oA(t,e))}}function aA(n){return n!=null?xH(sA(n)):null}function wH(n){if(!n)return null;let e=n.filter(nA);return e.length==0?null:function(t){let i=oA(t,e).map(iA);return wv(i).pipe(cs(rA))}}function lA(n){return n!=null?wH(sA(n)):null}function Q1(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function SH(n){return n._rawValidators}function TH(n){return n._rawAsyncValidators}function bC(n){return n?Array.isArray(n)?n:[n]:[]}function nm(n,e){return Array.isArray(n)?n.includes(e):n===e}function j1(n,e){let t=bC(e);return bC(n).forEach(r=>{nm(t,r)||t.push(r)}),t}function Y1(n,e){return bC(e).filter(t=>!nm(n,t))}var im=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=aA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},IC=class extends im{name;get formDirective(){return null}get path(){return null}},cd=class extends im{_parent=null;name=null;valueAccessor=null},DC=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ace=V(I({},bH),{"[class.ng-submitted]":"isSubmitted"}),Mt=(()=>{class n extends DC{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(je(cd,2))};static \u0275dir=mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ne("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[wn]})}return n})();var sd="VALID",tm="INVALID",ml="PENDING",ad="DISABLED",Bs=class{},rm=class extends Bs{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ld=class extends Bs{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ud=class extends Bs{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},gl=class extends Bs{status;source;constructor(e,t){super(),this.status=e,this.source=t}};var AC=class extends Bs{source;constructor(e){super(),this.source=e}};function IH(n){return(sm(n)?n.validators:n)||null}function DH(n){return Array.isArray(n)?aA(n):n||null}function AH(n,e){return(sm(e)?e.asyncValidators:n)||null}function MH(n){return Array.isArray(n)?lA(n):n||null}function sm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var MC=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Mr(this.statusReactive)}set status(e){Mr(()=>this.statusReactive.set(e))}_status=Fe(()=>this.statusReactive());statusReactive=P(void 0);get valid(){return this.status===sd}get invalid(){return this.status===tm}get pending(){return this.status==ml}get disabled(){return this.status===ad}get enabled(){return this.status!==ad}errors;get pristine(){return Mr(this.pristineReactive)}set pristine(e){Mr(()=>this.pristineReactive.set(e))}_pristine=Fe(()=>this.pristineReactive());pristineReactive=P(!0);get dirty(){return!this.pristine}get touched(){return Mr(this.touchedReactive)}set touched(e){Mr(()=>this.touchedReactive.set(e))}_touched=Fe(()=>this.touchedReactive());touchedReactive=P(!1);get untouched(){return!this.touched}_events=new ji;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(j1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(j1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Y1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Y1(e,this._rawAsyncValidators))}hasValidator(e){return nm(this._rawValidators,e)}hasAsyncValidator(e){return nm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(V(I({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ud(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new ud(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(V(I({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ld(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new ld(!0,i))}markAsPending(e={}){this.status=ml;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(V(I({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ad,this.errors=null,this._forEachChild(r=>{r.disable(V(I({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rm(this.value,i)),this._events.next(new gl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(V(I({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=sd,this._forEachChild(i=>{i.enable(V(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(V(I({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sd||this.status===ml)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rm(this.value,t)),this._events.next(new gl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(V(I({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ad:sd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ml,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=iA(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new gl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new qn,this.statusChanges=new qn}_calculateStatus(){return this._allControlsDisabled()?ad:this.errors?tm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ml)?ml:this._anyControlsHaveStatus(tm)?tm:sd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new ld(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ud(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=DH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=MH(this._rawAsyncValidators)}};var uA=new _e("",{providedIn:"root",factory:()=>kC}),kC="always";function kH(n,e){return[...e.path,n]}function NH(n,e,t=kC){RH(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),FH(n,e),OH(n,e),LH(n,e),PH(n,e)}function J1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function PH(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function RH(n,e){let t=SH(n);e.validator!==null?n.setValidators(Q1(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=TH(n);e.asyncValidator!==null?n.setAsyncValidators(Q1(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();J1(e._rawValidators,r),J1(e._rawAsyncValidators,r)}function FH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&cA(n,e)})}function LH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&cA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function cA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function OH(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function VH(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function BH(n){return Object.getPrototypeOf(n.constructor)===dd}function qH(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===At?t=o:BH(o)?i=o:r=o}),r||i||t||null}function Z1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function K1(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var UH=class extends MC{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(IH(t),AH(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(K1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new AC(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Z1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Z1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){K1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $H={provide:cd,useExisting:Jt(()=>xt)},X1=Promise.resolve(),xt=(()=>{class n extends cd{_changeDetectorRef;callSetDisabledState;control=new UH;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new qn;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=qH(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),VH(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){NH(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){X1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&x1(i);X1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?kH(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(je(IC,9),je(om,10),je(vH,10),je(So,10),je(zh,8),je(uA,8))};static \u0275dir=mt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Hn([$H]),wn,Lc]})}return n})();var HH={provide:So,useExisting:Jt(()=>qs),multi:!0},qs=(()=>{class n extends dd{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rr(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&A("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Hn([HH]),wn]})}return n})();var zH={provide:So,useExisting:Jt(()=>vl),multi:!0};function dA(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function GH(n){return n.split(":")[0]}var vl=(()=>{class n extends dd{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=J(yo).injector;destroyRef=J(tr);cdr=J(zh);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,By({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let i=this._getOptionId(t),r=dA(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=GH(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rr(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&A("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Hn([zH]),wn]})}return n})(),am=(()=>{class n{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(dA(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(je(pn),je(Un),je(vl,9))};static \u0275dir=mt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),WH={provide:So,useExisting:Jt(()=>fA),multi:!0};function eA(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function QH(n){return n.split(":")[0]}var fA=(()=>{class n extends dd{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);r.push(u)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);r.push(u)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=QH(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rr(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&A("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Hn([WH]),wn]})}return n})(),lm=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(eA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(eA(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(je(pn),je(Un),je(fA,9))};static \u0275dir=mt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function jH(n){return typeof n=="number"?n:parseInt(n,10)}function pA(n){return typeof n=="number"?n:parseFloat(n)}var NC=(()=>{class n{_validator=W1;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):W1,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=mt({type:n,features:[Lc]})}return n})(),YH={provide:om,useExisting:Jt(()=>Us),multi:!0},Us=(()=>{class n extends NC{max;inputName="max";normalizeInput=t=>pA(t);createValidator=t=>yH(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=rr(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Co("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[Hn([YH]),wn]})}return n})(),JH={provide:om,useExisting:Jt(()=>$s),multi:!0},$s=(()=>{class n extends NC{min;inputName="min";normalizeInput=t=>pA(t);createValidator=t=>_H(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=rr(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Co("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Hn([JH]),wn]})}return n})();var ZH={provide:om,useExisting:Jt(()=>PC),multi:!0},PC=(()=>{class n extends NC{maxlength;inputName="maxlength";normalizeInput=t=>jH(t);createValidator=t=>CH(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=rr(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Co("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Hn([ZH]),wn]})}return n})();var KH=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=_o({type:n});static \u0275inj=Cr({})}return n})();var kt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uA,useValue:t.callSetDisabledState??kC}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=_o({type:n});static \u0275inj=Cr({imports:[KH]})}return n})();var XH=["*"],e4=(n,e)=>e.number;function t4(n,e){if(n&1){let t=B();G(0,"button",15),we("click",function(){let r=S(t).$implicit,o=C();return T(o.goToStep(r.number))}),G(1,"div",16)(2,"span",17),y(3),X()(),G(4,"div")(5,"span",18),y(6),X(),G(7,"p",19),y(8),X()()()}if(n&2){let t=e.$implicit,i=C();ne("bg-gray-200",i.currentStep()===t.number)("dark:bg-gray-700",i.currentStep()===t.number)("hover:bg-gray-100",i.currentStep()!==t.number)("dark:hover:bg-gray-800",i.currentStep()!==t.number),E(),ne("bg-purple-600",i.currentStep()===t.number)("bg-gray-300",i.currentStep()!==t.number)("dark:bg-gray-600",i.currentStep()!==t.number),E(2),ie(t.number),E(2),ne("text-gray-800",i.currentStep()===t.number)("dark:text-gray-200",i.currentStep()===t.number)("text-gray-600",i.currentStep()!==t.number)("dark:text-gray-300",i.currentStep()!==t.number),E(),ie(t.name),E(2),ie(t.description)}}function n4(n,e){if(n&1){let t=B();G(0,"button",20),we("click",function(){S(t);let r=C();return T(r.prevStep())}),y(1,"Anterior"),X()}}function i4(n,e){if(n&1){let t=B();G(0,"button",21),we("click",function(){S(t);let r=C();return T(r.next())}),y(1,"Salvar e avan\xE7ar"),X()}}function r4(n,e){if(n&1){let t=B();G(0,"button",21),we("click",function(){S(t);let r=C();return T(r.handlePublish())}),y(1,"Publicar"),X()}}function o4(n,e){if(n&1){let t=B();G(0,"div",14)(1,"div",22),we("click",function(r){return S(t),T(r.stopPropagation())}),G(2,"div",23)(3,"div",24)(4,"span",25),y(5,"warning"),X()(),G(6,"h3",26),y(7,"Sair sem Salvar?"),X(),G(8,"p",27),y(9," Voc\xEA tem altera\xE7\xF5es n\xE3o salvas. Se sair agora, todo o seu progresso ser\xE1 perdido. "),X()(),G(10,"div",28)(11,"button",29),we("click",function(){S(t);let r=C();return T(r.cancelExit())}),y(12," Cancelar "),X(),G(13,"button",30),we("click",function(){S(t);let r=C();return T(r.confirmExit())}),y(14," Sair Mesmo Assim "),X()()()()}}var _l=class _l{constructor(){this.title=be.required();this.steps=be.required();this.currentStep=be.required();this.isDirty=be.required();this.exit=ue();this.stepChange=ue();this.saveAndNext=ue();this.publish=ue();this.showConfirmExitModal=P(!1)}goToStep(e){this.stepChange.emit(e)}prevStep(){this.currentStep()>1&&this.stepChange.emit(this.currentStep()-1)}next(){this.saveAndNext.emit()}handlePublish(){this.publish.emit()}handleExitRequest(){this.isDirty()?this.showConfirmExitModal.set(!0):this.exit.emit()}confirmExit(){this.showConfirmExitModal.set(!1),this.exit.emit()}cancelExit(){this.showConfirmExitModal.set(!1)}};_l.\u0275fac=function(t){return new(t||_l)},_l.\u0275cmp=Pe({type:_l,selectors:[["app-creation-wizard"]],inputs:{title:[1,"title"],steps:[1,"steps"],currentStep:[1,"currentStep"],isDirty:[1,"isDirty"]},outputs:{exit:"exit",stepChange:"stepChange",saveAndNext:"saveAndNext",publish:"publish"},ngContentSelectors:XH,decls:22,vars:4,consts:[[1,"flex","h-screen","bg-white","dark:bg-gray-800","text-gray-800","dark:text-gray-200"],[1,"w-80","bg-gray-50","dark:bg-gray-900","border-r","dark:border-gray-700/60","flex","flex-col","p-6"],[1,"mb-10"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","flex-col","space-y-2"],[1,"flex","items-center","p-4","rounded","text-left","transition-colors","w-full",3,"bg-gray-200","dark:bg-gray-700","hover:bg-gray-100","dark:hover:bg-gray-800"],[1,"flex-1","flex","flex-col","overflow-hidden"],[1,"flex-1","overflow-y-auto","p-10","bg-white","dark:bg-gray-800"],[1,"bg-white","dark:bg-gray-900","border-t","dark:border-gray-700","p-4","flex","justify-between","items-center"],[1,"font-semibold","py-2","px-4","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-800","transition-colors","text-gray-700","dark:text-gray-300","border","border-gray-300","dark:border-gray-600",3,"click"],[1,"flex","items-center","gap-4"],[1,"font-semibold","py-2","px-4","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-800","transition-colors","border","border-gray-300","dark:border-gray-600","dark:text-gray-300"],[1,"bg-purple-800","text-white","font-bold","py-2","px-6","rounded-full","hover:bg-purple-900","transition-colors"],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","animate-fade-in"],[1,"flex","items-center","p-4","rounded","text-left","transition-colors","w-full",3,"click"],[1,"flex","items-center","justify-center","w-8","h-8","rounded-full","mr-4"],[1,"font-bold","text-white"],[1,"font-bold"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"font-semibold","py-2","px-4","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-800","transition-colors","border","border-gray-300","dark:border-gray-600","dark:text-gray-300",3,"click"],[1,"bg-purple-800","text-white","font-bold","py-2","px-6","rounded-full","hover:bg-purple-900","transition-colors",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-md","p-8","m-4","animate-scale-up",3,"click"],[1,"text-center"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-yellow-100","dark:bg-yellow-900/50"],[1,"material-symbols-outlined","text-3xl","text-yellow-600","dark:text-yellow-500"],[1,"mt-4","text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"mt-2","text-gray-600","dark:text-gray-400"],[1,"mt-8","grid","grid-cols-2","gap-4"],[1,"bg-gray-100","dark:bg-gray-700","text-gray-700","dark:text-gray-300","font-semibold","py-2","px-4","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","transition",3,"click"],[1,"bg-red-600","text-white","font-bold","py-2","px-4","rounded-full","hover:bg-red-700","transition",3,"click"]],template:function(t,i){t&1&&(Xy(),G(0,"div",0)(1,"aside",1)(2,"div",2)(3,"h1",3),y(4),X(),G(5,"p",4),y(6,"Etapas de cria\xE7\xE3o:"),X()(),G(7,"nav",5),Ee(8,t4,9,25,"button",6,e4),X()(),G(10,"div",7)(11,"main",8),eC(12),X(),G(13,"footer",9)(14,"div")(15,"button",10),we("click",function(){return i.handleExitRequest()}),y(16," Sair da Cria\xE7\xE3o "),X()(),G(17,"div",11),L(18,n4,2,0,"button",12),L(19,i4,2,0,"button",13)(20,r4,2,0,"button",13),X()()()(),L(21,o4,15,0,"div",14)),t&2&&(E(4),ie(i.title()),E(4),xe(i.steps()),E(10),O(i.currentStep()>1?18:-1),E(),O(i.currentStep()<i.steps().length?19:20),E(2),O(i.showConfirmExitModal()?21:-1))},dependencies:[ke],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}"],changeDetection:0});var um=_l;var yl=class yl{constructor(){this.close=ue();this.creationMethodSelected=ue()}};yl.\u0275fac=function(t){return new(t||yl)},yl.\u0275cmp=Pe({type:yl,selectors:[["app-quiz-creation-method-modal"]],outputs:{close:"close",creationMethodSelected:"creationMethodSelected"},decls:23,vars:0,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","animate-fade-in",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-2xl","p-8","m-4","animate-scale-up",3,"click"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"w-12","h-12","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-400","dark:text-gray-500","hover:text-gray-600","dark:hover:text-gray-300",3,"click"],[1,"material-symbols-outlined","text-3xl"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"group","p-6","border-2","border-gray-200","dark:border-gray-700","rounded-lg","hover:border-purple-500","dark:hover:border-purple-400","hover:bg-purple-50","dark:hover:bg-purple-900/20","transition-all","duration-300","cursor-pointer","transform","hover:-translate-y-1","flex","flex-col","items-center","text-center",3,"click"],[1,"material-symbols-outlined","text-6xl","text-purple-500","dark:text-purple-400","mb-4"],[1,"text-xl","font-bold","text-gray-800","dark:text-gray-200","mb-2"],[1,"text-gray-600","dark:text-gray-400"]],template:function(t,i){t&1&&(G(0,"div",0),we("click",function(){return i.close.emit()}),G(1,"div",1),we("click",function(o){return o.stopPropagation()}),G(2,"div",2)(3,"h2",3),y(4,"Como voc\xEA quer criar o quiz?"),X(),G(5,"button",4),we("click",function(){return i.close.emit()}),G(6,"span",5),y(7,"close"),X()()(),G(8,"div",6)(9,"div",7),we("click",function(){return i.creationMethodSelected.emit("manual")}),G(10,"span",8),y(11,"edit_document"),X(),G(12,"h3",9),y(13,"Cria\xE7\xE3o Manual"),X(),G(14,"p",10),y(15,"Crie um quiz em branco, adicionando t\xEDtulo, perguntas e configurando as regras passo a passo."),X()(),G(16,"div",7),we("click",function(){return i.creationMethodSelected.emit("ai")}),G(17,"span",8),y(18,"auto_awesome"),X(),G(19,"h3",9),y(20,"Usar Assistente de IA"),X(),G(21,"p",10),y(22,"Descreva o tema do quiz, cole um texto ou envie um arquivo para a IA gerar as quest\xF5es para voc\xEA."),X()()()()())},dependencies:[ke],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}"],changeDetection:0});var cm=yl;var RC={name:"",internalCode:"",category:"Sem Categoria",language:"pt-BR",description:"",bannerUrl:null,cardUrl:null,workload:"00:00",courseType:"type1",evaluationType:"eval1",isActive:!0,enableSatisfactionSurvey:!0,allowRetake:!1,allowRetakeForFailed:!1,minimumPerformanceRequired:!1,hasCustomMetadata:!1,isTemporary:!1,contentLocking:{enabled:!1,minimumTime:10},hasCustomCertificate:!1,visibility:"internal",topics:[]};var Hs={type:"text",name:"",description:"",coverImageUrl:null,status:"draft",quizType:"evaluative",fileName:"",linkUrl:"",textContent:"",questions:[],config:{questionsToDisplay:null,randomizeQuestions:!1,randomizeAlternatives:!1,retakeAttempts:1,showImmediateFeedback:!0,maxTimeMinutes:null}};var s4=(n,e)=>e.id;function a4(n,e){n&1&&y(0," movie ")}function l4(n,e){n&1&&y(0," headphones ")}function u4(n,e){n&1&&y(0," image ")}function c4(n,e){n&1&&y(0," description ")}function d4(n,e){n&1&&y(0," link ")}function f4(n,e){n&1&&y(0," extension ")}function p4(n,e){n&1&&y(0," article ")}function h4(n,e){if(n&1){let t=B();m(0,"label",21)(1,"input",22),A("change",function(){let r=S(t).$implicit,o=C(2);return T(o.toggleSelection(r.id))}),g(),m(2,"span",23),L(3,a4,1,0)(4,l4,1,0)(5,u4,1,0)(6,c4,1,0)(7,d4,1,0)(8,f4,1,0)(9,p4,1,0),g(),m(10,"span",24),y(11),g()()}if(n&2){let t,i=e.$implicit,r=C(2);ne("bg-purple-100",r.isSelected(i.id))("dark:bg-purple-900/30",r.isSelected(i.id))("hover:bg-gray-200",!r.isSelected(i.id))("dark:hover:bg-gray-600",!r.isSelected(i.id)),F("for","content-"+i.id),E(),F("id","content-"+i.id)("checked",r.isSelected(i.id)),E(2),O((t=i.type)==="video"?3:t==="audio"?4:t==="image"?5:t==="document"?6:t==="web"?7:t==="scorm"?8:9),E(8),ie(i.title)}}function m4(n,e){if(n&1&&(m(0,"div",9)(1,"label",18),y(2,"Selecione os conte\xFAdos base para o quiz:"),g(),m(3,"div",19),Ee(4,h4,12,13,"label",20,s4),g()()),n&2){let t=C();E(4),xe(t.contextContent())}}function g4(n,e){if(n&1){let t=B();m(0,"div")(1,"label",25)(2,"span"),y(3,"Sobre qual t\xF3pico voc\xEA quer gerar um quiz?"),g()(),m(4,"input",26),Gt("ngModelChange",function(r){S(t);let o=C();return Zt(o.quizTopic,r)||(o.quizTopic=r),T(r)}),g()()}if(n&2){let t=C();E(4),zt("ngModel",t.quizTopic)}}function v4(n,e){n&1&&(wr(),m(0,"svg",27),Re(1,"circle",28)(2,"path",29),g(),Sr(),m(3,"span"),y(4,"Gerando..."),g())}function _4(n,e){n&1&&(m(0,"span",30),y(1,"auto_awesome"),g(),m(2,"span"),y(3,"Gerar Quiz"),g())}function y4(n,e){if(n&1&&(m(0,"div",17),wr(),m(1,"svg",31),Re(2,"circle",28)(3,"path",29),g(),Sr(),m(4,"p",32),y(5),g()()),n&2){let t=C();E(5),ie(t.loadingMessage())}}var Cl=class Cl{constructor(){this.contextContent=be([]);this.close=ue();this.back=ue();this.quizGenerated=ue();this.quizTopic=P("");this.numberOfQuestions=P(5);this.answersPerQuestion=P(4);this.isLoading=P(!1);this.loadingMessage=P("");this.selectedContentIds=P(new Set)}isSelected(e){return this.selectedContentIds().has(e)}toggleSelection(e){this.selectedContentIds.update(t=>(t.has(e)?t.delete(e):t.add(e),new Set(t)))}generateQuiz(){if(this.selectedContentIds().size===0&&!this.quizTopic().trim()||this.isLoading())return;this.isLoading.set(!0);let e=["Analisando seu pedido e conte\xFAdos...","Gerando quest\xF5es sobre o tema...","Criando alternativas e definindo respostas...","Montando o rascunho do quiz..."],t=0;this.loadingMessage.set(e[t]);let i=setInterval(()=>{t++,t<e.length?this.loadingMessage.set(e[t]):clearInterval(i)},1200);setTimeout(()=>{let r=this.contextContent().filter(l=>this.selectedContentIds().has(l.id)),o=r.length>0?r[0].title:this.quizTopic(),s=[];for(let l=0;l<this.numberOfQuestions();l++){let u=[];for(let d=0;d<this.answersPerQuestion();d++)u.push(`Alternativa ${d+1} para a quest\xE3o ${l+1}`);s.push({id:`q_${Date.now()}_${l}`,questionType:"multipleChoice",questionText:`Esta \xE9 a pergunta ${l+1} sobre "${o}"?`,alternatives:u,correctAnswerIndex:0,imageUrl:null,imagePosition:"before",isInBank:!1})}let a=V(I({},JSON.parse(JSON.stringify(Hs))),{type:"quiz",name:`Quiz sobre: ${o}`,description:"Este quiz foi gerado por IA. Revise as quest\xF5es e configura\xE7\xF5es.",status:"draft",questions:s});this.isLoading.set(!1),this.quizGenerated.emit(a)},5e3)}};Cl.\u0275fac=function(t){return new(t||Cl)},Cl.\u0275cmp=Pe({type:Cl,selectors:[["app-quiz-ai-assistant-modal"]],inputs:{contextContent:[1,"contextContent"]},outputs:{close:"close",back:"back",quizGenerated:"quizGenerated"},decls:28,vars:7,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","animate-fade-in",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-2xl","p-8","m-4","animate-scale-up","relative","overflow-hidden",3,"click"],[1,"flex","items-center","mb-6"],[1,"w-12","h-12","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-500","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200",3,"click"],[1,"material-symbols-outlined"],[1,"text-3xl","font-bold","text-gray-800","dark:text-gray-200","text-center","flex-grow"],[1,"w-12","h-12","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-400","dark:text-gray-500","hover:text-gray-600","dark:hover:text-gray-300",3,"click"],[1,"material-symbols-outlined","text-3xl"],[1,"space-y-4"],[1,"space-y-3"],[1,"grid","grid-cols-2","gap-4"],["for","num-questions",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","num-questions","type","number","min","1","max","20",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm",3,"ngModelChange","ngModel"],["for","num-answers",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","num-answers","type","number","min","2","max","6",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm",3,"ngModelChange","ngModel"],[1,"mt-8","text-right"],[1,"bg-purple-600","text-white","font-bold","py-3","px-6","rounded-full","hover:bg-purple-700","transition","disabled:bg-purple-400","disabled:cursor-not-allowed","flex","items-center","justify-center","ml-auto",3,"click","disabled"],[1,"absolute","inset-0","bg-white/80","dark:bg-gray-800/80","backdrop-blur-sm","flex","flex-col","items-center","justify-center","transition-opacity","duration-300"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"max-h-48","overflow-y-auto","space-y-2","rounded-md","border","dark:border-gray-600","p-2","bg-gray-50","dark:bg-gray-700/50"],[1,"flex","items-center","gap-3","p-2","rounded-md","cursor-pointer","transition-colors",3,"for","bg-purple-100","dark:bg-purple-900/30","hover:bg-gray-200","dark:hover:bg-gray-600"],[1,"flex","items-center","gap-3","p-2","rounded-md","cursor-pointer","transition-colors",3,"for"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-purple-600","focus:ring-purple-500",3,"change","id","checked"],[1,"material-symbols-outlined","text-gray-600","dark:text-gray-400"],[1,"text-gray-800","dark:text-gray-200","text-sm","font-medium","truncate"],["for","quiz-topic",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","quiz-topic","placeholder","Ex: Fundamentos da metodologia \xE1gil Scrum",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm",3,"ngModelChange","ngModel"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"material-symbols-outlined","mr-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","text-purple-600","dark:text-purple-400","mb-4"],[1,"text-gray-700","dark:text-gray-300","font-medium","text-lg","animate-pulse"]],template:function(t,i){t&1&&(m(0,"div",0),A("click",function(){return i.close.emit()}),m(1,"div",1),A("click",function(o){return o.stopPropagation()}),m(2,"div",2)(3,"button",3),A("click",function(){return i.back.emit()}),m(4,"span",4),y(5,"arrow_back"),g()(),m(6,"h2",5),y(7,"Gerar Quiz com IA"),g(),m(8,"button",6),A("click",function(){return i.close.emit()}),m(9,"span",7),y(10,"close"),g()()(),m(11,"div",8),L(12,m4,6,0,"div",9),m(13,"div",10)(14,"div")(15,"label",11),y(16,"Quantidade de quest\xF5es"),g(),m(17,"input",12),Gt("ngModelChange",function(o){return Zt(i.numberOfQuestions,o)||(i.numberOfQuestions=o),o}),g()(),m(18,"div")(19,"label",13),y(20,"Respostas por quest\xE3o"),g(),m(21,"input",14),Gt("ngModelChange",function(o){return Zt(i.answersPerQuestion,o)||(i.answersPerQuestion=o),o}),g()()(),L(22,g4,5,1,"div"),g(),m(23,"div",15)(24,"button",16),A("click",function(){return i.generateQuiz()}),L(25,v4,5,0)(26,_4,4,0),g()(),L(27,y4,6,1,"div",17),g()()),t&2&&(E(12),O(i.contextContent().length>0?12:-1),E(5),zt("ngModel",i.numberOfQuestions),E(4),zt("ngModel",i.answersPerQuestion),E(),O(i.contextContent().length===0?22:-1),E(2),F("disabled",i.selectedContentIds().size===0&&!i.quizTopic().trim()||i.isLoading()),E(),O(i.isLoading()?25:26),E(2),O(i.isLoading()?27:-1))},dependencies:[ke,kt,At,qs,Mt,$s,Us,xt],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}"],changeDetection:0});var dm=Cl;var C4=["editor"],zs=class zs{constructor(){this.sanitizer=J(Vs);this.renderer=J(Un);this.editor=Os.required("editor");this.onChange=e=>{};this.onTouched=()=>{};this.isDisabled=!1}ngAfterViewInit(){this.renderer.listen(this.editor().nativeElement,"input",()=>{this.onChange(this.editor().nativeElement.innerHTML),this.onTouched()}),this.renderer.listen(this.editor().nativeElement,"blur",()=>{this.onTouched()})}writeValue(e){if(this.editor()){let t=this.sanitizer.sanitize(xn.HTML,e||"");this.renderer.setProperty(this.editor().nativeElement,"innerHTML",t||"")}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e,this.editor()&&this.renderer.setAttribute(this.editor().nativeElement,"contenteditable",String(!e))}execCommand(e,t=null){document.execCommand(e,!1,t),this.editor().nativeElement.focus()}createLink(){let e=prompt("Enter the link URL:");e&&this.execCommand("createLink",e)}};zs.\u0275fac=function(t){return new(t||zs)},zs.\u0275cmp=Pe({type:zs,selectors:[["app-simple-text-editor"]],viewQuery:function(t,i){t&1&&xo(i.editor,C4,5),t&2&&Fs()},features:[Hn([{provide:So,useExisting:Jt(()=>zs),multi:!0}])],decls:24,vars:0,consts:[["editor",""],[1,"editor-container"],[1,"toolbar"],["title","Bold",3,"click"],[1,"material-symbols-outlined"],["title","Italic",3,"click"],["title","Underline",3,"click"],[1,"separator"],["title","Unordered List",3,"click"],["title","Ordered List",3,"click"],["title","Insert Link",3,"click"],["contenteditable","true",1,"editor-content"]],template:function(t,i){if(t&1){let r=B();G(0,"div",1)(1,"div",2)(2,"button",3),we("click",function(){return S(r),T(i.execCommand("bold"))}),G(3,"span",4),y(4,"format_bold"),X()(),G(5,"button",5),we("click",function(){return S(r),T(i.execCommand("italic"))}),G(6,"span",4),y(7,"format_italic"),X()(),G(8,"button",6),we("click",function(){return S(r),T(i.execCommand("underline"))}),G(9,"span",4),y(10,"format_underlined"),X()(),Ar(11,"div",7),G(12,"button",8),we("click",function(){return S(r),T(i.execCommand("insertUnorderedList"))}),G(13,"span",4),y(14,"format_list_bulleted"),X()(),G(15,"button",9),we("click",function(){return S(r),T(i.execCommand("insertOrderedList"))}),G(16,"span",4),y(17,"format_list_numbered"),X()(),Ar(18,"div",7),G(19,"button",10),we("click",function(){return S(r),T(i.createLink())}),G(20,"span",4),y(21,"link"),X()()(),Ar(22,"div",11,0),X()}},dependencies:[ke],styles:[".editor-container[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.375rem;background-color:#fff;overflow:hidden;display:flex;flex-direction:column}.dark[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]{border-color:#4b5563;background-color:#374151}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.25rem;background-color:#f9fafb;border-bottom:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{background-color:#4b5563;border-bottom-color:#374151}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:2.25rem;height:2.25rem;border-radius:.25rem;color:#4b5563;background-color:transparent;border:none;cursor:pointer;transition:background-color .2s,color .2s}.dark[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#d1d5db}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.dark[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#374151}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:1.25rem}.separator[_ngcontent-%COMP%]{width:1px;height:1.5rem;background-color:#d1d5db;margin:0 .5rem}.dark[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{background-color:#4b5563}.editor-content[_ngcontent-%COMP%]{min-height:6rem;padding:.5rem .75rem;outline:none;flex-grow:1;color:#111827}.dark[_ngcontent-%COMP%]   .editor-content[_ngcontent-%COMP%]{color:#f3f4f6}.editor-content[_ngcontent-%COMP%]:empty:before{content:attr(placeholder);color:#9ca3af;pointer-events:none}"]});var fm=zs;var El=class El{constructor(){this.appTooltip=be.required();this.el=J(pn);this.renderer=J(Un);this.document=J($t);this.tooltipElement=null;this.isMobile="ontouchstart"in window||navigator.maxTouchPoints>0;this.tooltipId=`app-tooltip-${Date.now()}-${Math.random().toString(36).substring(2)}`;this.host={"(mouseenter)":"onMouseEnter()","(mouseleave)":"onMouseLeave()","(focusin)":"onFocusIn()","(focusout)":"onFocusOut()","(touchstart)":"onTouchStart($event)"}}ngOnDestroy(){this.hide()}onMouseEnter(){this.isMobile||this.show()}onMouseLeave(){this.isMobile||this.hide()}onFocusIn(){this.show()}onFocusOut(){this.hide()}onTouchStart(e){e.preventDefault(),this.tooltipElement?this.hide():(this.show(),setTimeout(()=>this.hide(),3e3))}show(){if(this.tooltipElement||!this.appTooltip())return;this.tooltipElement=this.renderer.createElement("div");let e=this.renderer.createElement("div");this.renderer.addClass(this.tooltipElement,"app-tooltip-container"),this.renderer.addClass(e,"app-tooltip"),this.renderer.setAttribute(e,"role","tooltip"),this.renderer.setAttribute(e,"id",this.tooltipId),this.renderer.setAttribute(this.el.nativeElement,"aria-describedby",this.tooltipId),e.innerHTML=this.appTooltip(),this.renderer.appendChild(this.tooltipElement,e),this.renderer.appendChild(this.document.body,this.tooltipElement),this.positionTooltip(e)}hide(){this.tooltipElement&&(this.renderer.removeAttribute(this.el.nativeElement,"aria-describedby"),this.renderer.removeChild(this.document.body,this.tooltipElement),this.tooltipElement=null)}positionTooltip(e){if(!this.tooltipElement)return;let t=this.el.nativeElement.getBoundingClientRect(),i=this.tooltipElement.getBoundingClientRect(),r="top",o,s;o=t.top-i.height-8,o<0&&t.bottom+i.height+8<window.innerHeight&&(r="bottom",o=t.bottom+8),s=t.left+t.width/2-i.width/2,s<8?s=8:s+i.width>window.innerWidth&&(s=window.innerWidth-i.width-8),this.renderer.addClass(e,r),this.renderer.setStyle(this.tooltipElement,"top",`${o}px`),this.renderer.setStyle(this.tooltipElement,"left",`${s}px`)}};El.\u0275fac=function(t){return new(t||El)},El.\u0275dir=mt({type:El,selectors:[["","appTooltip",""]],inputs:{appTooltip:[1,"appTooltip"]}});var pm=El;var E4=(n,e)=>e.id;function x4(n,e){if(n&1){let t=B();m(0,"label",16)(1,"input",17),A("change",function(){let r=S(t).$implicit,o=C();return T(o.toggleSelection(r.id))}),g(),m(2,"div",18)(3,"p",19),y(4),g(),m(5,"p",20),y(6),g()()()}if(n&2){let t=e.$implicit,i=C();ne("bg-purple-50",i.isSelected(t.id))("dark:bg-purple-900/20",i.isSelected(t.id))("border-purple-300",i.isSelected(t.id))("dark:border-purple-600",i.isSelected(t.id))("border-gray-200",!i.isSelected(t.id))("dark:border-gray-700",!i.isSelected(t.id))("hover:bg-gray-50",!i.isSelected(t.id))("dark:hover:bg-gray-700/50",!i.isSelected(t.id)),F("for","q-bank-"+t.id),E(),F("id","q-bank-"+t.id)("checked",i.isSelected(t.id)),E(3),ie(i.stripHtml(t.questionText)),E(2),Te(" Resposta Correta: ",t.alternatives[t.correctAnswerIndex]," ")}}function w4(n,e){n&1&&(m(0,"p",12),y(1,"Nenhuma quest\xE3o encontrada."),g())}var S4=[{id:"bq_1",questionType:"multipleChoice",questionText:'O que significa a sigla "CEO"?',alternatives:["Chief Executive Officer","Chief Engineering Officer","Central Executive Official","Corporate Executive Office"],correctAnswerIndex:0,isInBank:!0},{id:"bq_2",questionType:"multipleChoice",questionText:"Qual destes \xE9 um pilar da cultura da nossa empresa?",alternatives:["Inova\xE7\xE3o Cont\xEDnua","Apenas Resultados","Hierarquia R\xEDgida","Competi\xE7\xE3o Interna"],correctAnswerIndex:0,isInBank:!0},{id:"bq_3",questionType:"multipleChoice",questionText:"Qual \xE9 a pol\xEDtica de home office?",alternatives:["100% Remoto","Modelo H\xEDbrido Flex\xEDvel","Apenas Presencial","Remoto apenas \xE0s sextas"],correctAnswerIndex:1,isInBank:!0},{id:"bq_4",questionType:"multipleChoice",questionText:"Qual ferramenta usamos para comunica\xE7\xE3o interna?",alternatives:["E-mail","WhatsApp","Slack","Telegram"],correctAnswerIndex:2,isInBank:!0},{id:"bq_5",questionType:"multipleChoice",questionText:"Qual o procedimento para solicitar f\xE9rias?",alternatives:["Enviar um e-mail para o RH","Falar com o gestor direto","Utilizar o portal do colaborador","Nenhuma das anteriores"],correctAnswerIndex:2,isInBank:!0},{id:"bq_6",questionType:"multipleChoice",questionText:'O que \xE9 "feedback 360 graus"?',alternatives:["Uma avalia\xE7\xE3o feita apenas pelo gestor","Uma autoavalia\xE7\xE3o","Uma avalia\xE7\xE3o que inclui feedback de pares, subordinados e gestores","Uma avalia\xE7\xE3o de desempenho anual"],correctAnswerIndex:2,isInBank:!0}],xl=class xl{constructor(){this.close=ue();this.questionsSelected=ue();this.allBankQuestions=P(S4);this.searchQuery=P("");this.selectedQuestionIds=P(new Set);this.filteredQuestions=Fe(()=>{let e=this.searchQuery().toLowerCase().trim();return e?this.allBankQuestions().filter(t=>t.questionText.toLowerCase().includes(e)):this.allBankQuestions()})}isSelected(e){return this.selectedQuestionIds().has(e)}toggleSelection(e){this.selectedQuestionIds.update(t=>(t.has(e)?t.delete(e):t.add(e),new Set(t)))}addSelectedQuestions(){let e=this.selectedQuestionIds(),t=this.allBankQuestions().filter(i=>e.has(i.id));this.questionsSelected.emit(t)}stripHtml(e){return new DOMParser().parseFromString(e,"text/html").body.textContent||""}};xl.\u0275fac=function(t){return new(t||xl)},xl.\u0275cmp=Pe({type:xl,selectors:[["app-question-bank-modal"]],outputs:{close:"close",questionsSelected:"questionsSelected"},decls:22,vars:4,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-[60]","animate-fade-in",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-3xl","h-[80vh]","flex","flex-col","m-4","animate-scale-up",3,"click"],[1,"p-6","border-b","dark:border-gray-700","flex","justify-between","items-center","shrink-0"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-400",3,"click"],[1,"material-symbols-outlined"],[1,"p-6","shrink-0","border-b","dark:border-gray-700"],[1,"relative"],[1,"material-symbols-outlined","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400"],["type","text","placeholder","Buscar por texto da quest\xE3o...",1,"w-full","pl-10","pr-4","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-purple-500",3,"ngModelChange","ngModel"],[1,"flex-1","overflow-y-auto","p-6","space-y-3"],[1,"flex","items-start","gap-4","p-4","border","rounded-lg","cursor-pointer","transition-colors",3,"for","bg-purple-50","dark:bg-purple-900/20","border-purple-300","dark:border-purple-600","border-gray-200","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-700/50"],[1,"text-center","text-gray-500","dark:text-gray-400","py-8"],[1,"p-4","bg-gray-50","dark:bg-gray-900","border-t","dark:border-gray-700","flex","justify-end","items-center","gap-4","shrink-0"],[1,"font-semibold","py-2","px-4","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-700","transition",3,"click"],[1,"bg-purple-600","text-white","font-bold","py-2","px-6","rounded-full","hover:bg-purple-700","disabled:bg-purple-300","dark:disabled:bg-purple-800","disabled:cursor-not-allowed","transition",3,"click","disabled"],[1,"flex","items-start","gap-4","p-4","border","rounded-lg","cursor-pointer","transition-colors",3,"for"],["type","checkbox",1,"mt-1","h-5","w-5","rounded","border-gray-300","text-purple-600","focus:ring-purple-500","shrink-0",3,"change","id","checked"],[1,"flex-1"],[1,"font-semibold","text-gray-800","dark:text-gray-200"],[1,"text-sm","text-gray-500","dark:text-gray-400","mt-1"]],template:function(t,i){t&1&&(m(0,"div",0),A("click",function(){return i.close.emit()}),m(1,"div",1),A("click",function(o){return o.stopPropagation()}),m(2,"header",2)(3,"h2",3),y(4,"Adicionar do Banco de Quest\xF5es"),g(),m(5,"button",4),A("click",function(){return i.close.emit()}),m(6,"span",5),y(7,"close"),g()()(),m(8,"div",6)(9,"div",7)(10,"span",8),y(11,"search"),g(),m(12,"input",9),Gt("ngModelChange",function(o){return Zt(i.searchQuery,o)||(i.searchQuery=o),o}),g()()(),m(13,"main",10),Ee(14,x4,7,21,"label",11,E4,!1,w4,2,0,"p",12),g(),m(17,"footer",13)(18,"button",14),A("click",function(){return i.close.emit()}),y(19,"Cancelar"),g(),m(20,"button",15),A("click",function(){return i.addSelectedQuestions()}),y(21),g()()()()),t&2&&(E(12),zt("ngModel",i.searchQuery),E(2),xe(i.filteredQuestions()),E(6),F("disabled",i.selectedQuestionIds().size===0),E(),Te(" Adicionar ",i.selectedQuestionIds().size>0?i.selectedQuestionIds().size:""," Quest\xF5es "))},dependencies:[ke,kt,At,Mt,xt],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}"],changeDetection:0});var hm=xl;var mm=()=>[],T4=(n,e)=>e.id;function b4(n,e){if(n&1&&(m(0,"h2",3),y(1),g()),n&2){let t=C();E(),ie(t.isEditing()?"Editar Quiz":"Criar Novo Quiz")}}function I4(n,e){n&1&&(m(0,"h2",3),y(1,"Importar Quest\xF5es de Planilha"),g())}function D4(n,e){if(n&1){let t=B();m(0,"nav",6)(1,"div",10)(2,"button",11),A("click",function(){S(t);let r=C();return T(r.activeTab.set("questions"))}),y(3," Quest\xF5es "),g(),m(4,"button",11),A("click",function(){S(t);let r=C();return T(r.activeTab.set("settings"))}),y(5," Configura\xE7\xE3o "),g()()()}if(n&2){let t=C();E(2),ne("border-purple-500",t.activeTab()==="questions")("text-purple-600",t.activeTab()==="questions")("dark:text-purple-400",t.activeTab()==="questions")("border-transparent",t.activeTab()!=="questions")("text-gray-500",t.activeTab()!=="questions")("hover:border-gray-300",t.activeTab()!=="questions"),E(2),ne("border-purple-500",t.activeTab()==="settings")("text-purple-600",t.activeTab()==="settings")("dark:text-purple-400",t.activeTab()==="settings")("border-transparent",t.activeTab()!=="settings")("text-gray-500",t.activeTab()!=="settings")("hover:border-gray-300",t.activeTab()!=="settings")}}function A4(n,e){n&1&&(m(0,"p",24),y(1,"Nenhuma quest\xE3o adicionada."),g())}function M4(n,e){if(n&1){let t=B();m(0,"div",31),Re(1,"img",42),m(2,"div",43)(3,"p",44),y(4,"Posi\xE7\xE3o da imagem:"),g(),m(5,"div",45)(6,"label",46)(7,"input",47),A("change",function(){S(t);let r=C(6);return T(r.updateImagePosition("before"))}),g(),y(8," Antes do texto "),g(),m(9,"label",46)(10,"input",48),A("change",function(){S(t);let r=C(6);return T(r.updateImagePosition("after"))}),g(),y(11," Depois do texto "),g()(),m(12,"button",49),A("click",function(){S(t);let r=C(6);return T(r.removeImage())}),m(13,"span",20),y(14,"delete"),g(),y(15," Remover Imagem "),g()()()}if(n&2){let t=C();E(),F("src",t.imageUrl,Dt),E(6),F("name",wo("imagePos-",t.id))("checked",t.imagePosition==="before"),E(3),F("name",wo("imagePos-",t.id))("checked",t.imagePosition==="after")}}function k4(n,e){if(n&1){let t=B();m(0,"label",50)(1,"div",51)(2,"span",52),y(3,"add_photo_alternate"),g(),m(4,"p",53),y(5,"Adicionar Imagem"),g(),m(6,"p",54),y(7,"Max 2MB, 640px de largura"),g()()(),m(8,"input",55),A("change",function(r){S(t);let o=C(6);return T(o.handleImageFileSelect(r))}),g()}if(n&2){let t=C();F("for","image-upload-"+t.id),E(8),F("id","image-upload-"+t.id)}}function N4(n,e){if(n&1){let t=B();m(0,"div",33)(1,"input",56),A("change",function(){let r=S(t).$index,o=C(6);return T(o.setCorrectAlternative(r))}),g(),m(2,"input",57),A("input",function(r){let o=S(t).$index,s=C(6);return T(s.updateAlternativeText(o,r))}),g(),m(3,"button",58),A("click",function(){let r=S(t).$index,o=C(6);return T(o.removeAlternative(r))}),m(4,"span",20),y(5,"delete"),g()()()}if(n&2){let t=e.$implicit,i=e.$index,r=C();E(),F("name",r.id)("checked",r.correctAnswerIndex===i),E(),F("placeholder",wo("Alternativa ",i+1))("value",t),E(),F("disabled",r.alternatives.length<=2)}}function P4(n,e){if(n&1){let t=B();m(0,"div",26)(1,"div",27)(2,"div")(3,"label",28),y(4),g(),m(5,"app-simple-text-editor",29),A("ngModelChange",function(r){S(t);let o=C(5);return T(o.updateQuestionText(r))}),g()(),m(6,"div",30)(7,"label",28),y(8,"Imagem de Apoio (Opcional)"),g(),L(9,M4,16,7,"div",31)(10,k4,9,2),g(),m(11,"div")(12,"label",32),y(13,"Alternativas *"),g(),m(14,"div",23),Ee(15,N4,6,6,"div",33,Eo),g(),m(17,"button",34),A("click",function(){S(t);let r=C(5);return T(r.addAlternative())}),m(18,"span",20),y(19,"add_circle"),g(),y(20," Adicionar Alternativa "),g(),m(21,"p",35),y(22,"Marque a alternativa correta."),g()(),m(23,"div")(24,"div",36)(25,"input",37),Gt("ngModelChange",function(r){let o=S(t);return Zt(o.isInBank,r)||(o.isInBank=r),T(r)}),g(),m(26,"label",38),y(27,"Adicionar esta quest\xE3o ao banco de quest\xF5es para reuso futuro."),g()()()(),m(28,"div",39)(29,"button",40),A("click",function(){S(t);let r=C(5);return T(r.cancelInlineEdit())}),y(30,"Cancelar"),g(),m(31,"button",41),A("click",function(){S(t);let r=C(5);return T(r.saveInlineQuestion())}),y(32,"Salvar Altera\xE7\xF5es"),g()()()}if(n&2){let t=e,i=C(2).$index,r=C(3);E(4),Te("Enunciado da Pergunta ",i+1," *"),E(),F("ngModel",t.questionText),E(),ne("highlight-feature",r.highlightedElementId()==="quiz-image"),E(3),O(t.imageUrl?9:10),E(6),xe(t.alternatives),E(10),F("id",t.id+"_isInBank"),zt("ngModel",t.isInBank),E(),F("for",t.id+"_isInBank")}}function R4(n,e){if(n&1&&L(0,P4,33,8,"div",26),n&2){let t,i=C(4);O((t=i.inlineFormQuestion())?0:-1,t)}}function F4(n,e){n&1&&(m(0,"span",63),y(1,"image"),g())}function L4(n,e){if(n&1){let t=B();m(0,"div",59),A("dragstart",function(r){S(t);let o=C().$implicit,s=C(3);return T(s.onQuestionDragStart(r,o.id))})("dragend",function(){S(t);let r=C(4);return T(r.onQuestionDragEnd())})("dragover",function(r){S(t);let o=C(4);return T(o.onQuestionDragOver(r))})("drop",function(r){S(t);let o=C().$implicit,s=C(3);return T(s.onQuestionDrop(r,o.id))}),m(1,"div",60)(2,"span",61),y(3,"drag_indicator"),g(),m(4,"span",62),y(5),g(),L(6,F4,2,0,"span",63),m(7,"span",64),y(8),g()(),m(9,"div",18)(10,"button",65),A("click",function(){S(t);let r=C().$implicit,o=C(3);return T(o.editQuestion(r))}),m(11,"span",20),y(12,"edit"),g()(),m(13,"button",65),A("click",function(){S(t);let r=C().$implicit,o=C(3);return T(o.duplicateQuestion(r.id))}),m(14,"span",20),y(15,"content_copy"),g()(),m(16,"button",66),A("click",function(){S(t);let r=C().$implicit,o=C(3);return T(o.deleteQuestion(r.id))}),m(17,"span",20),y(18,"delete"),g()()()()}if(n&2){let t=C(),i=t.$implicit,r=t.$index,o=C(3);ne("opacity-40",o.draggedQuestionId()===i.id)("shadow-lg",o.draggedQuestionId()===i.id),E(5),Te("",r+1,"."),E(),O(i.imageUrl?6:-1),E(2),ie(o.stripHtml(i.questionText)||"Quest\xE3o sem t\xEDtulo"),E(2),F("disabled",!!o.editingQuestionId()),E(3),F("disabled",!!o.editingQuestionId()),E(3),F("disabled",!!o.editingQuestionId())}}function O4(n,e){if(n&1&&L(0,R4,1,1)(1,L4,19,10,"div",25),n&2){let t=e.$implicit,i=C(3);O(i.editingQuestionId()===t.id?0:1)}}function V4(n,e){if(n&1){let t=B();m(0,"div",31),Re(1,"img",42),m(2,"div",43)(3,"p",44),y(4,"Posi\xE7\xE3o da imagem:"),g(),m(5,"div",45)(6,"label",46)(7,"input",47),A("change",function(){S(t);let r=C(5);return T(r.updateImagePosition("before"))}),g(),y(8," Antes do texto "),g(),m(9,"label",46)(10,"input",48),A("change",function(){S(t);let r=C(5);return T(r.updateImagePosition("after"))}),g(),y(11," Depois do texto "),g()(),m(12,"button",49),A("click",function(){S(t);let r=C(5);return T(r.removeImage())}),m(13,"span",20),y(14,"delete"),g(),y(15," Remover Imagem "),g()()()}if(n&2){let t=C();E(),F("src",t.imageUrl,Dt),E(6),F("name",wo("imagePos-",t.id))("checked",t.imagePosition==="before"),E(3),F("name",wo("imagePos-",t.id))("checked",t.imagePosition==="after")}}function B4(n,e){if(n&1){let t=B();m(0,"label",50)(1,"div",51)(2,"span",52),y(3,"add_photo_alternate"),g(),m(4,"p",53),y(5,"Adicionar Imagem"),g(),m(6,"p",54),y(7,"Max 2MB, 640px de largura"),g()()(),m(8,"input",55),A("change",function(r){S(t);let o=C(5);return T(o.handleImageFileSelect(r))}),g()}if(n&2){let t=C();F("for","image-upload-"+t.id),E(8),F("id","image-upload-"+t.id)}}function q4(n,e){if(n&1){let t=B();m(0,"div",33)(1,"input",56),A("change",function(){let r=S(t).$index,o=C(5);return T(o.setCorrectAlternative(r))}),g(),m(2,"input",57),A("input",function(r){let o=S(t).$index,s=C(5);return T(s.updateAlternativeText(o,r))}),g(),m(3,"button",58),A("click",function(){let r=S(t).$index,o=C(5);return T(o.removeAlternative(r))}),m(4,"span",20),y(5,"delete"),g()()()}if(n&2){let t=e.$implicit,i=e.$index,r=C();E(),F("name",r.id)("checked",r.correctAnswerIndex===i),E(),F("placeholder",wo("Alternativa ",i+1))("value",t),E(),F("disabled",r.alternatives.length<=2)}}function U4(n,e){if(n&1){let t=B();m(0,"div",26)(1,"div",27)(2,"div")(3,"label",28),y(4),g(),m(5,"app-simple-text-editor",29),A("ngModelChange",function(r){S(t);let o=C(4);return T(o.updateQuestionText(r))}),g()(),m(6,"div",30)(7,"label",28),y(8,"Imagem de Apoio (Opcional)"),g(),L(9,V4,16,7,"div",31)(10,B4,9,2),g(),m(11,"div")(12,"label",32),y(13,"Alternativas *"),g(),m(14,"div",23),Ee(15,q4,6,6,"div",33,Eo),g(),m(17,"button",34),A("click",function(){S(t);let r=C(4);return T(r.addAlternative())}),m(18,"span",20),y(19,"add_circle"),g(),y(20," Adicionar Alternativa "),g(),m(21,"p",35),y(22,"Marque a alternativa correta."),g()(),m(23,"div")(24,"div",36)(25,"input",37),Gt("ngModelChange",function(r){let o=S(t);return Zt(o.isInBank,r)||(o.isInBank=r),T(r)}),g(),m(26,"label",38),y(27,"Adicionar esta quest\xE3o ao banco de quest\xF5es para reuso futuro."),g()()()(),m(28,"div",39)(29,"button",40),A("click",function(){S(t);let r=C(4);return T(r.cancelInlineEdit())}),y(30,"Cancelar"),g(),m(31,"button",41),A("click",function(){S(t);let r=C(4);return T(r.saveInlineQuestion())}),y(32,"Adicionar Quest\xE3o"),g()()()}if(n&2){let t=e,i=C(4);E(4),Te("Enunciado da Pergunta ",(i.quiz().questions??Me(8,mm)).length+1," *"),E(),F("ngModel",t.questionText),E(),ne("highlight-feature",i.highlightedElementId()==="quiz-image"),E(3),O(t.imageUrl?9:10),E(6),xe(t.alternatives),E(10),F("id",t.id+"_isInBank"),zt("ngModel",t.isInBank),E(),F("for",t.id+"_isInBank")}}function $4(n,e){if(n&1&&L(0,U4,33,9,"div",26),n&2){let t,i=C(3);O((t=i.inlineFormQuestion())?0:-1,t)}}function H4(n,e){if(n&1){let t=B();m(0,"div",12)(1,"div")(2,"label",13),y(3,"T\xEDtulo do Quiz *"),g(),m(4,"input",14),A("ngModelChange",function(r){S(t);let o=C(2);return T(o.updateField("name",r))}),g()(),m(5,"div",15)(6,"div",16)(7,"h3",17),y(8,"Quest\xF5es"),g(),m(9,"div",18)(10,"button",19),A("click",function(){S(t);let r=C(2);return T(r.switchToImportView())}),m(11,"span",20),y(12,"upload"),g(),y(13," Importar de Planilha "),g(),m(14,"button",21),A("click",function(){S(t);let r=C(2);return T(r.isBankOpen.set(!0))}),m(15,"span",20),y(16,"account_balance"),g(),y(17," Adicionar do Banco "),g(),m(18,"button",22),A("click",function(){S(t);let r=C(2);return T(r.addQuestion())}),m(19,"span",5),y(20,"add"),g(),y(21," Adicionar Quest\xE3o "),g()()(),m(22,"div",23),L(23,A4,2,0,"p",24),Ee(24,O4,2,1,null,null,T4),L(26,$4,1,1),g()()()}if(n&2){let t=C(2);E(4),F("ngModel",t.quiz().name),E(6),F("disabled",!!t.editingQuestionId()),E(4),ne("highlight-feature",t.highlightedElementId()==="quiz-question-bank"),F("disabled",!!t.editingQuestionId()),E(4),F("disabled",!!t.editingQuestionId()),E(5),O((t.quiz().questions??Me(8,mm)).length===0&&t.editingQuestionId()!=="new"?23:-1),E(),xe(t.quiz().questions),E(2),O(t.editingQuestionId()==="new"?26:-1)}}function z4(n,e){if(n&1){let t=B();m(0,"div",73)(1,"label",86)(2,"span"),y(3,"Exibir quantas quest\xF5es?"),g(),m(4,"span",71),y(5,"info"),g()(),m(6,"p",87),y(7),g(),m(8,"input",88),A("ngModelChange",function(r){S(t);let o=C(4);return T(o.updateConfigField("questionsToDisplay",+r||null))}),g()()}if(n&2){let t=C(),i=C(3);E(4),F("appTooltip","Defina um n\xFAmero de perguntas a serem sorteadas do total. Ex: Se o quiz tem 20 e voc\xEA define '10', o usu\xE1rio receber\xE1 10 perguntas sorteadas. Deixe em branco para usar todas."),E(3),Te("Selecione o n\xFAmero de quest\xF5es a serem sorteadas do total de ",(i.quiz().questions??Me(4,mm)).length," dispon\xEDveis. Deixe em branco para exibir todas."),E(),F("max",(i.quiz().questions??Me(5,mm)).length)("ngModel",t.questionsToDisplay)}}function G4(n,e){if(n&1){let t=B();m(0,"div",67)(1,"div",68)(2,"div",69)(3,"label",70)(4,"span"),y(5,"Randomizar Ordem das Perguntas"),g(),m(6,"span",71),y(7,"info"),g()(),m(8,"input",72),A("ngModelChange",function(r){S(t);let o=C(3);return T(o.updateConfigField("randomizeQuestions",r))}),g()(),L(9,z4,9,6,"div",73),g(),m(10,"div",74)(11,"div",69)(12,"label",75)(13,"span"),y(14,"Randomizar Ordem das Alternativas"),g(),m(15,"span",71),y(16,"info"),g()(),m(17,"input",76),A("ngModelChange",function(r){S(t);let o=C(3);return T(o.updateConfigField("randomizeAlternatives",r))}),g()()(),m(18,"div",77)(19,"label",78)(20,"span"),y(21,"Exibir Feedback Imediato"),g(),m(22,"span",71),y(23,"info"),g()(),m(24,"input",79),A("ngModelChange",function(r){S(t);let o=C(3);return T(o.updateConfigField("showImmediateFeedback",r))}),g()(),m(25,"div",80)(26,"div",81)(27,"label",82)(28,"span"),y(29,"N\xFAmero de Tentativas do Quiz"),g(),m(30,"span",71),y(31,"info"),g()(),m(32,"input",83),A("ngModelChange",function(r){S(t);let o=C(3);return T(o.updateConfigField("retakeAttempts",+r))}),g()(),m(33,"div",84)(34,"label",82)(35,"span"),y(36,"Tempo M\xE1ximo (min)"),g(),m(37,"span",71),y(38,"info"),g()(),m(39,"input",85),A("ngModelChange",function(r){S(t);let o=C(3);return T(o.updateConfigField("maxTimeMinutes",+r))}),g()()()()}if(n&2){let t=e,i=C(3);E(),ne("highlight-feature",i.highlightedElementId()==="quiz-setting-randomize"),E(5),F("appTooltip","Quando ativado, a ordem das perguntas ser\xE1 embaralhada a cada nova tentativa do usu\xE1rio. Ajuda a prevenir colas."),E(2),F("ngModel",t.randomizeQuestions),E(),O(t.randomizeQuestions?9:-1),E(6),F("appTooltip","Quando ativado, a ordem das alternativas de cada pergunta ser\xE1 embaralhada. Dificulta a memoriza\xE7\xE3o da posi\xE7\xE3o da resposta correta."),E(2),F("ngModel",t.randomizeAlternatives),E(),ne("highlight-feature",i.highlightedElementId()==="quiz-setting-feedback"),E(4),F("appTooltip","Mostra ao usu\xE1rio se ele acertou ou errou logo ap\xF3s responder."),E(2),F("ngModel",t.showImmediateFeedback),E(2),ne("highlight-feature",i.highlightedElementId()==="quiz-setting-attempts"),E(4),F("appTooltip","O n\xFAmero m\xE1ximo de vezes que um usu\xE1rio pode refazer o quiz completo. Use '1' para uma tentativa \xFAnica."),E(2),F("ngModel",t.retakeAttempts),E(),ne("highlight-feature",i.highlightedElementId()==="quiz-setting-time-limit"),E(4),F("appTooltip","Define um tempo limite em minutos para a conclus\xE3o do quiz. Deixe em branco ou '0' para n\xE3o haver limite de tempo."),E(2),F("ngModel",t.maxTimeMinutes)}}function W4(n,e){if(n&1&&L(0,G4,40,19,"div",67),n&2){let t,i=C(2);O((t=i.quiz().config)?0:-1,t)}}function Q4(n,e){if(n&1&&L(0,H4,27,9,"div",12)(1,W4,1,1),n&2){let t,i=C();O((t=i.activeTab())==="questions"?0:t==="settings"?1:-1)}}function j4(n,e){n&1&&(m(0,"div",99)(1,"span",20),y(2,"error"),g(),m(3,"span"),y(4),g()()),n&2&&(E(4),ie(e))}function Y4(n,e){if(n&1&&(m(0,"div",100)(1,"span",20),y(2,"check_circle"),g(),m(3,"span"),y(4,"Arquivo "),m(5,"strong"),y(6),g(),y(7," carregado. Encontradas "),m(8,"strong"),y(9),g(),y(10," quest\xF5es v\xE1lidas."),g()()),n&2){let t=C(),i=C(2);E(6),ie(t.name),E(3),ie(i.parsedQuestions().length)}}function J4(n,e){if(n&1&&L(0,Y4,11,2,"div",100),n&2){let t=C(2);O(t.parsedQuestions().length>0?0:-1)}}function Z4(n,e){if(n&1){let t=B();m(0,"div",89)(1,"p",90),y(2," Para importar m\xFAltiplas quest\xF5es, baixe nosso modelo de planilha, preencha com seus dados e fa\xE7a o upload do arquivo no formato "),m(3,"code",91),y(4,".csv"),g(),y(5,". "),g(),m(6,"button",92),A("click",function(){S(t);let r=C();return T(r.downloadTemplate())}),m(7,"span",20),y(8,"download"),g(),y(9," Baixar modelo de planilha "),g(),m(10,"label",93),A("dragover",function(r){S(t);let o=C();return T(o.onDragOver(r))})("dragleave",function(r){S(t);let o=C();return T(o.onDragLeave(r))})("drop",function(r){S(t);let o=C();return T(o.onDrop(r))}),m(11,"span",94),y(12,"upload_file"),g(),m(13,"p",95),y(14,"Arraste e solte o arquivo .csv aqui"),g(),m(15,"p",96),y(16,"ou"),g(),m(17,"span",97),y(18,"Selecione o arquivo"),g()(),m(19,"input",98),A("change",function(r){S(t);let o=C();return T(o.onFileSelected(r))}),g(),L(20,j4,5,1,"div",99),L(21,J4,1,1),g()}if(n&2){let t,i,r=C();ne("highlight-feature",r.highlightedElementId()==="quiz-import"),E(10),ne("border-purple-500",r.draggingOver())("bg-purple-50",r.draggingOver())("dark:bg-purple-900/20",r.draggingOver())("border-gray-300",!r.draggingOver())("dark:border-gray-600",!r.draggingOver()),E(10),O((t=r.importError())?20:-1,t),E(),O((i=r.importFile())?21:-1,i)}}function K4(n,e){if(n&1){let t=B();m(0,"button",101),A("click",function(){S(t);let r=C();return T(r.close.emit())}),y(1,"Cancelar"),g(),m(2,"button",102),A("click",function(){S(t);let r=C();return T(r.handlePublish())}),y(3,"Publicar Quiz"),g()}if(n&2){let t=C();E(2),F("disabled",!t.canPublish())}}function X4(n,e){if(n&1){let t=B();m(0,"button",101),A("click",function(){S(t);let r=C();return T(r.switchToEditorView())}),y(1,"Cancelar"),g(),m(2,"button",102),A("click",function(){S(t);let r=C();return T(r.handleImport())}),y(3," Importar Quest\xF5es "),g()}if(n&2){let t=C();E(2),F("disabled",t.parsedQuestions().length===0)}}function ez(n,e){if(n&1){let t=B();m(0,"app-question-bank-modal",103),A("close",function(){S(t);let r=C();return T(r.isBankOpen.set(!1))})("questionsSelected",function(r){S(t);let o=C();return T(o.addQuestionsFromBank(r))}),g()}}var wl=class wl{constructor(){this.initialPulseData=be.required();this.highlightTarget=be(null);this.close=ue();this.save=ue();this.quiz=P({});this.activeTab=P("questions");this.viewState=P("editor");this.editingQuestionId=P(null);this.inlineFormQuestion=P(null);this.draggedQuestionId=P(null);this.isBankOpen=P(!1);this.highlightedElementId=P(null);this.elementRef=J(pn);this.draggingOver=P(!1);this.importFile=P(null);this.importError=P(null);this.parsedQuestions=P([]);this.CSV_TEMPLATE=`ENUNCIADO,ALTERNATIVA A,ALTERNATIVA B,ALTERNATIVA C,ALTERNATIVA D,ALTERNATIVA E,ALTERNATIVA F,ALTERNATIVA G,ALTERNATIVA H,ALTERNATIVA I,ALTERNATIVA J,ALTERNATIVA CORRETA
"Qual destes animais \xE9 um mam\xEDfero?","Golfinho","Pardal","Tartaruga","","","","","","","","A"`;this.isEditing=Fe(()=>!!this.initialPulseData()?.name);this.canPublish=Fe(()=>{let e=this.quiz();return e.name.trim().length>0&&(e.questions??[]).length>0});it(()=>{this.quiz.set(JSON.parse(JSON.stringify(this.initialPulseData())))}),it(()=>{let e=this.highlightTarget();if(e){if(e.startsWith("quiz-setting-"))this.activeTab.set("settings");else if(e==="quiz-import")this.viewState.set("import");else if(e==="quiz-question-bank")this.isBankOpen.set(!0);else if(e==="quiz-image"){if((this.quiz().questions??[]).length===0&&!this.editingQuestionId())this.addQuestion();else if(!this.editingQuestionId()){let t=this.quiz().questions?.[0];t&&this.editQuestion(t)}}this.highlightedElementId.set(e),setTimeout(()=>{let t=this.elementRef.nativeElement.querySelector(`#${e}`);t&&t.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{this.highlightedElementId.set(null)},2e3)},100)}},{allowSignalWrites:!0})}updateField(e,t){this.quiz.update(i=>V(I({},i),{[e]:t}))}updateConfigField(e,t){this.quiz.update(i=>{let r=V(I({},i.config),{[e]:t});return V(I({},i),{config:r})})}addQuestion(){let e={id:`q_new_${Date.now()}`,questionType:"multipleChoice",questionText:"",imageUrl:null,imagePosition:"before",alternatives:["",""],correctAnswerIndex:0,isInBank:!1};this.editingQuestionId.set("new"),this.inlineFormQuestion.set(e)}addQuestionsFromBank(e){let t=e.map(i=>{let r=JSON.parse(JSON.stringify(i));return r.id=`q_${Date.now()}_${Math.random().toString(36).substring(2)}`,r});this.quiz.update(i=>V(I({},i),{questions:[...i.questions??[],...t]})),this.isBankOpen.set(!1)}editQuestion(e){this.editingQuestionId.set(e.id),this.inlineFormQuestion.set(JSON.parse(JSON.stringify(e)))}cancelInlineEdit(){this.editingQuestionId.set(null),this.inlineFormQuestion.set(null)}saveInlineQuestion(){let e=this.inlineFormQuestion();e&&(this.quiz.update(t=>{let i=t.questions?[...t.questions]:[];if(this.editingQuestionId()==="new")e.id=`q_${Date.now()}`,i.push(e);else{let r=i.findIndex(o=>o.id===e.id);r>-1&&(i[r]=e)}return V(I({},t),{questions:i})}),this.cancelInlineEdit())}duplicateQuestion(e){this.quiz.update(t=>{let i=t.questions?[...t.questions]:[],r=i.findIndex(a=>a.id===e);if(r===-1)return t;let o=i[r],s=V(I({},JSON.parse(JSON.stringify(o))),{id:`q_${Date.now()}`});return i.splice(r+1,0,s),V(I({},t),{questions:i})})}deleteQuestion(e){this.quiz.update(t=>V(I({},t),{questions:t.questions?.filter(i=>i.id!==e)}))}handlePublish(){let e=this.quiz();e.status="published",this.save.emit(e)}switchToImportView(){this.viewState.set("import")}switchToEditorView(){this.viewState.set("editor"),this.draggingOver.set(!1),this.importFile.set(null),this.importError.set(null),this.parsedQuestions.set([])}downloadTemplate(){let e=new Blob([this.CSV_TEMPLATE],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),i=URL.createObjectURL(e);t.setAttribute("href",i),t.setAttribute("download","modelo_quiz.csv"),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)}onFileSelected(e){let t=e.target;t.files&&t.files[0]&&this.processFile(t.files[0])}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.draggingOver.set(!0)}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.draggingOver.set(!1)}onDrop(e){e.preventDefault(),e.stopPropagation(),this.draggingOver.set(!1),e.dataTransfer?.files[0]&&this.processFile(e.dataTransfer.files[0])}processFile(e){if(this.importError.set(null),this.parsedQuestions.set([]),e.type!=="text/csv"){this.importError.set("Formato de arquivo inv\xE1lido. Por favor, envie um arquivo .csv"),this.importFile.set(null);return}this.importFile.set(e);let t=new FileReader;t.onload=i=>{let r=i.target?.result;this.parseCSV(r)},t.onerror=()=>{this.importError.set("N\xE3o foi poss\xEDvel ler o arquivo."),this.importFile.set(null)},t.readAsText(e)}parseCSV(e){try{let t=e.split(/\r\n|\n/).filter(s=>s.trim()!=="");if(t.length<2)throw new Error("O arquivo CSV est\xE1 vazio ou cont\xE9m apenas o cabe\xE7alho.");let i=t[0].split(",").map(s=>s.trim().toUpperCase());if(!["ENUNCIADO","ALTERNATIVA A","ALTERNATIVA CORRETA"].every(s=>i.includes(s)))throw new Error("O cabe\xE7alho do arquivo CSV \xE9 inv\xE1lido. Verifique o modelo.");let o=[];for(let s=1;s<t.length;s++){let a=t[s].split(","),l=a[i.indexOf("ENUNCIADO")]?.replace(/"/g,"").trim();if(!l)continue;let u=[];for(let h=1;h<=10;h++){let v=`ALTERNATIVA ${String.fromCharCode(64+h)}`,x=i.indexOf(v);x>-1&&a[x]?.trim()&&u.push(a[x].replace(/"/g,"").trim())}let d=a[i.indexOf("ALTERNATIVA CORRETA")]?.trim().toUpperCase();if(!d||u.length<2)continue;let p=d.charCodeAt(0)-65;p<0||p>=u.length||o.push({id:`csv_${Date.now()}_${s}`,questionType:"multipleChoice",questionText:l,alternatives:u,correctAnswerIndex:p,imageUrl:null,imagePosition:"before",isInBank:!1})}if(o.length===0)throw new Error("Nenhuma quest\xE3o v\xE1lida foi encontrada no arquivo.");this.parsedQuestions.set(o)}catch(t){this.importError.set(t.message),this.importFile.set(null),this.parsedQuestions.set([])}}handleImport(){this.parsedQuestions().length>0&&this.quiz.update(e=>V(I({},e),{questions:[...e.questions??[],...this.parsedQuestions()]})),this.switchToEditorView()}addAlternative(){this.inlineFormQuestion.update(e=>{if(!e||!e.alternatives)return null;let t=[...e.alternatives,""];return V(I({},e),{alternatives:t})})}removeAlternative(e){this.inlineFormQuestion.update(t=>{if(!t||!t.alternatives||t.alternatives.length<=2)return t;let i=t.alternatives.filter((r,o)=>o!==e);return t.correctAnswerIndex!=null&&t.correctAnswerIndex>=i.length&&(t.correctAnswerIndex=i.length-1),V(I({},t),{alternatives:i})})}updateQuestionText(e){this.inlineFormQuestion.update(t=>t?V(I({},t),{questionText:e}):null)}updateAlternativeText(e,t){let i=t.target.value;this.inlineFormQuestion.update(r=>{if(!r||!r.alternatives)return null;let o=[...r.alternatives];return o[e]=i,V(I({},r),{alternatives:o})})}setCorrectAlternative(e){this.inlineFormQuestion.update(t=>t?V(I({},t),{correctAnswerIndex:e}):null)}handleImageFileSelect(e){let t=e.target;if(t.files&&t.files[0]){let i=t.files[0],r=2;if(i.size>r*1024*1024){alert(`O arquivo \xE9 muito grande. O tamanho m\xE1ximo \xE9 de ${r}MB.`),t.value="";return}let o=new FileReader;o.onload=s=>{let a=new Image;a.onload=()=>{let u=a.width,d=a.height;if(u>640){let x=640/u;u=640,d=d*x}let p=document.createElement("canvas");p.width=u,p.height=d;let h=p.getContext("2d");if(!h)return;h.drawImage(a,0,0,u,d);let v=p.toDataURL(i.type);this.inlineFormQuestion.update(x=>{if(!x)return null;let b=x.imagePosition||"before";return V(I({},x),{imageUrl:v,imagePosition:b})})},a.onerror=()=>{alert("Arquivo de imagem inv\xE1lido."),t.value=""},a.src=s.target?.result},o.readAsDataURL(i)}}updateImagePosition(e){this.inlineFormQuestion.update(t=>t?V(I({},t),{imagePosition:e}):null)}removeImage(){this.inlineFormQuestion.update(e=>e?V(I({},e),{imageUrl:null}):null)}onQuestionDragStart(e,t){e.dataTransfer.effectAllowed="move",this.draggedQuestionId.set(t)}onQuestionDragOver(e){e.preventDefault()}onQuestionDrop(e,t){e.preventDefault();let i=this.draggedQuestionId();!i||i===t||(this.quiz.update(r=>{let o=[...r.questions],s=o.findIndex(u=>u.id===i),a=o.findIndex(u=>u.id===t);if(s===-1||a===-1)return r;let[l]=o.splice(s,1);return o.splice(a,0,l),V(I({},r),{questions:o})}),this.draggedQuestionId.set(null))}onQuestionDragEnd(){this.draggedQuestionId.set(null)}stripHtml(e){return e&&new DOMParser().parseFromString(e,"text/html").body.textContent||""}};wl.\u0275fac=function(t){return new(t||wl)},wl.\u0275cmp=Pe({type:wl,selectors:[["app-quiz-editor-modal"]],inputs:{initialPulseData:[1,"initialPulseData"],highlightTarget:[1,"highlightTarget"]},outputs:{close:"close",save:"save"},decls:16,vars:5,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","animate-fade-in",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-4xl","h-[90vh]","flex","flex-col","m-4","animate-scale-up",3,"click"],[1,"p-6","border-b","dark:border-gray-700","flex","justify-between","items-center","shrink-0"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-400",3,"click"],[1,"material-symbols-outlined"],[1,"shrink-0","border-b","border-gray-200","dark:border-gray-700","px-6"],[1,"flex-1","overflow-y-auto","p-6"],["id","quiz-import",1,"space-y-4",3,"highlight-feature"],[1,"p-4","bg-gray-50","dark:bg-gray-900","border-t","dark:border-gray-700","flex","justify-end","items-center","gap-4","shrink-0"],[1,"-mb-px","flex","space-x-8"],[1,"py-4","px-1","border-b-2","font-semibold","text-sm",3,"click"],[1,"space-y-6"],["for","quiz-title",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","quiz-title",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm",3,"ngModelChange","ngModel"],[1,"border-t","dark:border-gray-700","pt-6"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-bold"],[1,"flex","items-center","gap-2"],[1,"font-semibold","py-2","px-4","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-800","transition-colors","text-gray-700","dark:text-gray-300","border","border-gray-300","dark:border-gray-600","flex","items-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"material-symbols-outlined","text-base"],["id","quiz-question-bank",1,"font-semibold","py-2","px-4","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-800","transition-colors","text-gray-700","dark:text-gray-300","border","border-gray-300","dark:border-gray-600","flex","items-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"bg-purple-600","text-white","font-bold","py-2","px-4","rounded-full","hover:bg-purple-700","flex","items-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"space-y-3"],[1,"text-center","text-gray-500","dark:text-gray-400","py-8"],["draggable","true",1,"bg-gray-50","dark:bg-gray-700/50","p-3","rounded-lg","border","dark:border-gray-600","flex","items-center","justify-between","transition-shadow",3,"opacity-40","shadow-lg"],[1,"bg-white","dark:bg-gray-700","p-4","rounded-lg","border-2","border-purple-500","dark:border-purple-400","shadow-lg"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"mt-1",3,"ngModelChange","ngModel"],["id","quiz-image",1,"mt-4"],[1,"mt-2","p-2","border","rounded-lg","dark:border-gray-600","flex","items-start","gap-4","bg-gray-50","dark:bg-gray-700/50"],[1,"block","text-sm","font-medium","mb-2","dark:text-gray-300"],[1,"flex","items-center","gap-3"],[1,"mt-3","text-sm","font-semibold","text-purple-600","dark:text-purple-400","hover:underline","flex","items-center","gap-1",3,"click"],[1,"text-xs","text-gray-500","mt-2"],[1,"flex","items-center","gap-2","pt-4","border-t","dark:border-gray-600"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-purple-600","focus:ring-purple-500","shrink-0",3,"ngModelChange","id","ngModel"],[1,"text-sm","text-gray-600","dark:text-gray-400","select-none",3,"for"],[1,"mt-4","flex","justify-end","gap-2"],[1,"font-semibold","py-2","px-4","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600",3,"click"],[1,"bg-purple-600","text-white","font-bold","py-2","px-4","rounded-full","hover:bg-purple-700",3,"click"],[1,"w-24","h-24","object-cover","rounded","shrink-0",3,"src"],[1,"flex-1","space-y-2"],[1,"text-xs","text-gray-500","dark:text-gray-400","font-semibold"],[1,"flex","gap-4"],[1,"flex","items-center","gap-2","text-sm","cursor-pointer"],["type","radio","value","before",3,"change","name","checked"],["type","radio","value","after",3,"change","name","checked"],[1,"mt-2","text-sm","font-semibold","text-red-600","hover:underline","flex","items-center","gap-1",3,"click"],[1,"mt-2","w-full","flex","justify-center","px-6","py-4","border-2","border-dashed","border-gray-300","dark:border-gray-600","rounded-md","cursor-pointer","hover:border-purple-500","transition-colors",3,"for"],[1,"text-center"],[1,"material-symbols-outlined","text-3xl","text-gray-400"],[1,"mt-1","text-sm","text-gray-600","dark:text-gray-300"],[1,"text-xs","text-gray-500","dark:text-gray-400"],["type","file","accept","image/jpeg, image/png, image/webp",1,"sr-only",3,"change","id"],["type","radio",1,"h-5","w-5","text-purple-600","focus:ring-purple-500","shrink-0",3,"change","name","checked"],["type","text",1,"flex-1","p-2","border","rounded-lg","dark:bg-gray-800","dark:border-gray-600","focus:ring-purple-500","focus:border-purple-500",3,"input","value","placeholder"],[1,"p-2","rounded-full","hover:bg-red-100","dark:hover:bg-red-900/50","text-red-500","disabled:text-gray-400","dark:disabled:text-gray-600","disabled:cursor-not-allowed",3,"click","disabled"],["draggable","true",1,"bg-gray-50","dark:bg-gray-700/50","p-3","rounded-lg","border","dark:border-gray-600","flex","items-center","justify-between","transition-shadow",3,"dragstart","dragend","dragover","drop"],[1,"font-semibold","text-gray-800","dark:text-gray-200","truncate","flex-1","flex","items-center","gap-2"],[1,"material-symbols-outlined","text-gray-400","cursor-grab"],[1,"text-gray-500"],["title","Esta quest\xE3o cont\xE9m uma imagem",1,"material-symbols-outlined","text-purple-500","text-base"],[1,"truncate","block"],[1,"p-2","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","text-gray-500","disabled:opacity-50",3,"click","disabled"],[1,"p-2","rounded-full","hover:bg-red-100","dark:hover:bg-red-900/50","text-red-500","disabled:opacity-50",3,"click","disabled"],[1,"space-y-4","max-w-3xl","mx-auto"],["id","quiz-setting-randomize",1,"p-4","border","dark:border-gray-700","rounded-lg"],[1,"flex","items-center","justify-between"],["for","randomizeQuestions",1,"font-medium","text-gray-900","dark:text-gray-100","flex","items-center","gap-1.5"],["tabindex","0",1,"material-symbols-outlined","text-base","text-gray-400","cursor-help","focus:outline-none","focus:ring-2","focus:ring-purple-500","rounded",3,"appTooltip"],["id","randomizeQuestions","type","checkbox",1,"toggle",3,"ngModelChange","ngModel"],[1,"pt-4","mt-4","border-t","dark:border-gray-600"],[1,"p-4","border","dark:border-gray-700","rounded-lg"],["for","randomizeAlternatives",1,"font-medium","text-gray-900","dark:text-gray-100","flex","items-center","gap-1.5"],["id","randomizeAlternatives","type","checkbox",1,"toggle",3,"ngModelChange","ngModel"],["id","quiz-setting-feedback",1,"flex","items-center","justify-between","p-4","border","dark:border-gray-700","rounded-lg"],["for","showImmediateFeedback",1,"font-medium","text-gray-900","dark:text-gray-100","flex","items-center","gap-1.5"],["id","showImmediateFeedback","type","checkbox",1,"toggle",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","pt-4","border-t","dark:border-gray-600"],["id","quiz-setting-attempts",1,"p-2","-m-2","rounded-xl"],[1,"block","text-sm","font-medium","flex","items-center","gap-1.5"],["type","number","min","0",1,"mt-1","block","w-full","px-3","py-2","border","rounded-lg","dark:bg-gray-700","dark:border-gray-600",3,"ngModelChange","ngModel"],["id","quiz-setting-time-limit",1,"p-2","-m-2","rounded-xl"],["type","number","min","0","placeholder","Sem limite",1,"mt-1","block","w-full","px-3","py-2","border","rounded-lg","dark:bg-gray-700","dark:border-gray-600",3,"ngModelChange","ngModel"],["for","questionsToDisplay",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","flex","items-center","gap-1.5"],[1,"text-xs","text-gray-500","dark:text-gray-400","mb-1"],["id","questionsToDisplay","type","number","min","1","placeholder","Todas",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg",3,"ngModelChange","max","ngModel"],["id","quiz-import",1,"space-y-4"],[1,"text-gray-600","dark:text-gray-400"],[1,"bg-gray-100","dark:bg-gray-700","p-1","rounded","text-sm","font-mono"],[1,"text-sm","font-semibold","text-purple-600","dark:text-purple-400","hover:underline","flex","items-center","gap-1",3,"click"],["for","csv-upload",1,"w-full","flex","flex-col","items-center","justify-center","px-6","py-10","border-2","border-dashed","rounded-md","cursor-pointer","transition-colors",3,"dragover","dragleave","drop"],[1,"material-symbols-outlined","text-5xl","text-gray-400","dark:text-gray-500"],[1,"mt-2","text-lg","text-gray-600","dark:text-gray-300","font-semibold"],[1,"text-gray-500","dark:text-gray-400"],[1,"mt-2","text-sm","text-purple-600","dark:text-purple-400","font-bold"],["id","csv-upload","type","file","accept",".csv",1,"sr-only",3,"change"],[1,"bg-red-50","dark:bg-red-900/20","text-red-700","dark:text-red-300","p-3","rounded-lg","text-sm","flex","items-center","gap-2"],[1,"bg-green-50","dark:bg-green-900/20","text-green-800","dark:text-green-300","p-3","rounded-lg","text-sm","flex","items-center","gap-2"],[1,"font-semibold","py-2","px-4","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-700","transition",3,"click"],[1,"bg-purple-600","text-white","font-bold","py-2","px-6","rounded-full","hover:bg-purple-700","disabled:bg-purple-300","dark:disabled:bg-purple-800","disabled:cursor-not-allowed","transition",3,"click","disabled"],[3,"close","questionsSelected"]],template:function(t,i){if(t&1&&(m(0,"div",0),A("click",function(){return i.close.emit()}),m(1,"div",1),A("click",function(o){return o.stopPropagation()}),m(2,"header",2),L(3,b4,2,1,"h2",3)(4,I4,2,0,"h2",3),m(5,"button",4),A("click",function(){return i.close.emit()}),m(6,"span",5),y(7,"close"),g()()(),L(8,D4,6,24,"nav",6),m(9,"main",7),L(10,Q4,2,1)(11,Z4,22,14,"div",8),g(),m(12,"footer",9),L(13,K4,4,1)(14,X4,4,1),g()()(),L(15,ez,1,0,"app-question-bank-modal")),t&2){let r;E(3),O(i.viewState()==="editor"?3:4),E(5),O(i.viewState()==="editor"?8:-1),E(2),O((r=i.viewState())==="editor"?10:r==="import"?11:-1),E(3),O(i.viewState()==="editor"?13:14),E(2),O(i.isBankOpen()?15:-1)}},dependencies:[ke,kt,At,qs,fd,Mt,$s,Us,xt,fm,pm,hm],styles:['.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.toggle[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;width:2.75rem;height:1.5rem;border-radius:9999px;position:relative;background-color:#e5e7eb;transition:background-color .2s ease-in-out}.dark[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{background-color:#4b5563}.toggle[_ngcontent-%COMP%]:after{content:"";position:absolute;top:.125rem;left:.125rem;width:1.25rem;height:1.25rem;border-radius:9999px;background-color:#fff;transition:transform .2s ease-in-out;box-shadow:0 1px 3px #0000001a,0 1px 2px -1px #0000001a}.toggle[_ngcontent-%COMP%]:checked{background-color:#a78bfa}.dark[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:checked{background-color:#8b5cf6}.toggle[_ngcontent-%COMP%]:checked:after{transform:translate(1.25rem)}.toggle[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}'],changeDetection:0});var gm=wl;function tz(n,e){if(n&1&&(m(0,"p")(1,"strong"),y(2,"Tempo Limite:"),g(),y(3),g()),n&2){let t,i=C(2);E(3),Te(" ",(t=i.quizData().config)==null?null:t.maxTimeMinutes," minutos")}}function nz(n,e){if(n&1){let t=B();m(0,"div",1)(1,"span",3),y(2),g(),m(3,"h1",4),y(4),g(),m(5,"p",5),y(6),g(),m(7,"div",6)(8,"p")(9,"strong"),y(10,"Perguntas:"),g(),y(11),g(),L(12,tz,4,1,"p"),g(),m(13,"button",7),A("click",function(){S(t);let r=C();return T(r.startQuiz())}),y(14),g()()}if(n&2){let t,i=C();E(2),Te(" ",i.quizData().quizType==="survey"?"poll":"quiz"," "),E(2),ie(i.quizData().name),E(2),ie(i.quizData().description),E(5),Te(" ",i.questions().length),E(),O(i.quizData().quizType==="evaluative"&&((t=i.quizData().config)!=null&&t.maxTimeMinutes)?12:-1),E(2),Te(" ",i.quizData().quizType==="survey"?"Come\xE7ar Pesquisa":"Come\xE7ar Quiz"," ")}}function iz(n,e){if(n&1&&Re(0,"img",10),n&2){let t=C();F("src",t.imageUrl,Dt)}}function rz(n,e){if(n&1&&Re(0,"img",12),n&2){let t=C();F("src",t.imageUrl,Dt)}}function oz(n,e){if(n&1){let t=B();m(0,"button",20),A("click",function(){let r=S(t).$index,o=C(4);return T(o.selectAnswer(r))}),m(1,"div",21),y(2),g(),Re(3,"div",22),hl(4,"safeHtml"),g()}if(n&2){let t=e.$implicit,i=e.$index,r=C(2),o=C(2);Qc(o.getAlternativeClass(r,i)),F("disabled",o.isReviewing()),E(2),Te("",o.getAlternativeLetter(i),"."),E(),F("innerHTML",Uh(4,5,t),Ph)}}function sz(n,e){if(n&1&&(m(0,"div",13),Ee(1,oz,5,7,"button",19,Eo),g()),n&2){let t=C();E(),xe(t.alternatives)}}function az(n,e){if(n&1){let t=B();m(0,"div",14)(1,"textarea",23),A("ngModelChange",function(r){S(t);let o=C(3);return T(o.openTextAnswer.set(r))}),y(2,"                        "),g()()}if(n&2){let t=C(3);E(),F("ngModel",t.openTextAnswer())}}function lz(n,e){if(n&1){let t=B();m(0,"button",24),A("click",function(){S(t);let r=C(3);return T(r.nextQuestion())}),y(1," Pr\xF3xima "),g()}}function uz(n,e){if(n&1&&y(0),n&2){let t=C(4);Te(" ",t.isLastQuestion()?"Finalizar":"Pr\xF3ximo"," ")}}function cz(n,e){n&1&&y(0," Confirmar ")}function dz(n,e){if(n&1){let t=B();m(0,"button",25),A("click",function(){S(t);let r=C(3);return T(r.confirmAnswer())}),L(1,uz,1,1)(2,cz,1,0),g()}if(n&2){let t=C(3);F("disabled",t.isConfirmDisabled()),E(),O(t.quizData().quizType==="survey"?1:2)}}function fz(n,e){if(n&1&&(m(0,"div",8)(1,"div",9)(2,"div"),L(3,iz,1,1,"img",10),Re(4,"div",11),hl(5,"safeHtml"),L(6,rz,1,1,"img",12),g(),L(7,sz,3,0,"div",13)(8,az,3,1,"div",14),g()(),m(9,"footer",15)(10,"div",16),L(11,lz,2,0,"button",17)(12,dz,3,2,"button",18),g()()),n&2){let t,i=e,r=C(2);E(3),O(i.imageUrl&&i.imagePosition==="before"?3:-1),E(),F("innerHTML",Uh(5,5,i.questionText),Ph),E(2),O(i.imageUrl&&i.imagePosition==="after"?6:-1),E(),O((t=i.questionType)==="multipleChoice"?7:t==="openText"?8:-1),E(4),O(r.quizData().quizType==="evaluative"&&r.isReviewing()?11:12)}}function pz(n,e){if(n&1&&(m(0,"div",2),L(1,fz,13,7),g()),n&2){let t,i=C();E(),O((t=i.currentQuestion())?1:-1,t)}}function hz(n,e){if(n&1){let t=B();m(0,"div",27)(1,"button",24),A("click",function(){S(t);let r=C(3);return T(r.exitPreview.emit())}),y(2," Voltar para edi\xE7\xE3o "),g()()}}function mz(n,e){if(n&1&&(m(0,"div",1)(1,"span",26),y(2,"task_alt"),g(),m(3,"h1",4),y(4,"Obrigado por sua participa\xE7\xE3o!"),g(),m(5,"p",5),y(6,"Sua opini\xE3o \xE9 muito importante para n\xF3s e nos ajudar\xE1 a melhorar."),g(),L(7,hz,3,0,"div",27),g()),n&2){let t=C(2);E(7),O(t.isInlinePlayer()?-1:7)}}function gz(n,e){if(n&1){let t=B();m(0,"div",27)(1,"button",34),A("click",function(){S(t);let r=C(3);return T(r.startQuiz())}),y(2," Tentar Novamente "),g(),m(3,"button",24),A("click",function(){S(t);let r=C(3);return T(r.exitPreview.emit())}),y(4," Voltar para edi\xE7\xE3o "),g()()}}function vz(n,e){if(n&1&&(m(0,"div",1)(1,"h1",28),y(2,"Quiz Finalizado!"),g(),m(3,"p",29),y(4,"Veja seu resultado abaixo."),g(),m(5,"div",30)(6,"p",31),y(7,"Voc\xEA acertou"),g(),m(8,"p",32),y(9),g(),m(10,"p",33),y(11),g()(),L(12,gz,5,0,"div",27),g()),n&2){let t=C(2);E(9),pl("",t.correctAnswers()," / ",t.questions().length),E(2),Te("",t.score(),"%"),E(),O(t.isInlinePlayer()?-1:12)}}function _z(n,e){if(n&1&&L(0,mz,8,1,"div",1)(1,vz,13,4,"div",1),n&2){let t=C();O(t.quizData().quizType==="survey"?0:1)}}var Sl=class Sl{constructor(){this.sanitizer=J(Vs)}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}};Sl.\u0275fac=function(t){return new(t||Sl)},Sl.\u0275pipe=zc({name:"safeHtml",type:Sl,pure:!0});var FC=Sl,Tl=class Tl{constructor(){this.quizData=be.required();this.isInlinePlayer=be(!1);this.quizCompleted=ue();this.exitPreview=ue();this.progressUpdate=ue();this.progressTextUpdate=ue();this.questions=Fe(()=>this.quizData().questions??[]);this.answers=P([]);this.quizState=P("intro");this.currentQuestionIndex=P(0);this.selectedAnswerIndex=P(null);this.openTextAnswer=P("");this.isReviewing=P(!1);this.currentQuestion=Fe(()=>{let e=this.questions();return e.length>0?e[this.currentQuestionIndex()]??null:null});this.isLastQuestion=Fe(()=>this.currentQuestionIndex()===this.questions().length-1);this.isConfirmDisabled=Fe(()=>{if(this.isReviewing())return!1;let e=this.currentQuestion();return e?e.questionType==="multipleChoice"?this.selectedAnswerIndex()===null:e.questionType==="openText"?!this.openTextAnswer().trim():!0:!0});this.progress=Fe(()=>{let e=this.questions().length;return e===0?0:this.quizState()==="finished"?100:this.quizData().config?.showImmediateFeedback?this.answers().length/e*100:this.currentQuestionIndex()/e*100});this.score=P(0);this.correctAnswers=P(0);it(()=>{this.progressUpdate.emit(this.progress());let e=this.questions().length;this.quizState()==="playing"&&e>0?this.progressTextUpdate.emit(`${this.currentQuestionIndex()+1} / ${e}`):this.progressTextUpdate.emit("")})}startQuiz(){this.currentQuestionIndex.set(0),this.answers.set([]),this.quizState.set("playing"),this.resetQuestionState()}selectAnswer(e){this.isReviewing()||this.selectedAnswerIndex.set(e)}confirmAnswer(){let e=this.currentQuestion();if(e)if(this.quizData().quizType==="survey"){let t={questionId:e.id};if(e.questionType==="multipleChoice"){if(this.selectedAnswerIndex()===null)return;t.selectedAlternativeIndex=this.selectedAnswerIndex()}else if(e.questionType==="openText"){if(!this.openTextAnswer().trim())return;t.openTextAnswer=this.openTextAnswer()}this.answers.update(i=>[...i,t]),this.nextQuestion()}else{let t=this.selectedAnswerIndex();if(t===null)return;let i=t===e.correctAnswerIndex;this.answers.update(r=>[...r,{questionId:e.id,selectedAlternativeIndex:t,isCorrect:i}]),this.quizData().config?.showImmediateFeedback?this.isReviewing.set(!0):this.nextQuestion()}}nextQuestion(){this.isLastQuestion()?this.finishQuiz():(this.currentQuestionIndex.update(e=>e+1),this.resetQuestionState())}next(){this.exitPreview.emit()}finishQuiz(){if(this.quizData().quizType==="evaluative"){let e=this.answers().filter(i=>i.isCorrect).length;this.correctAnswers.set(e);let t=this.questions().length;this.score.set(t>0?Math.round(e/t*100):0)}this.quizState.set("finished"),this.isInlinePlayer()&&this.quizCompleted.emit()}resetQuestionState(){this.selectedAnswerIndex.set(null),this.openTextAnswer.set(""),this.isReviewing.set(!1)}getAlternativeLetter(e){return String.fromCharCode(65+e)}getAlternativeClass(e,t){let i=t===this.selectedAnswerIndex();if(this.quizData().quizType==="survey")return i?"border-purple-500 bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-purple-400 dark:hover:border-purple-500 hover:bg-purple-50/50 dark:hover:bg-purple-900/20";if(this.isReviewing()){let r=t===e.correctAnswerIndex;return r?"border-green-500 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":i&&!r?"border-red-500 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300":"border-gray-300 dark:border-gray-600 opacity-70"}return i?"border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-300 dark:border-gray-600 hover:border-purple-400 dark:hover:border-purple-500 hover:bg-purple-50/50 dark:hover:bg-purple-900/20"}};Tl.\u0275fac=function(t){return new(t||Tl)},Tl.\u0275cmp=Pe({type:Tl,selectors:[["app-quiz-player"]],inputs:{quizData:[1,"quizData"],isInlinePlayer:[1,"isInlinePlayer"]},outputs:{quizCompleted:"quizCompleted",exitPreview:"exitPreview",progressUpdate:"progressUpdate",progressTextUpdate:"progressTextUpdate"},decls:4,vars:1,consts:[[1,"w-full","h-full","flex","flex-col","bg-white","dark:bg-gray-800","text-gray-800","dark:text-gray-200","border","border-gray-200","dark:border-gray-700","rounded-2xl"],[1,"flex","flex-col","items-center","justify-center","text-center","h-full","p-6","animate-fade-in"],[1,"flex","flex-col","h-full","animate-fade-in"],[1,"material-symbols-outlined","text-7xl","text-purple-500","dark:text-purple-400"],[1,"text-3xl","font-bold","mt-4"],[1,"text-gray-600","dark:text-gray-400","mt-2","max-w-lg"],[1,"mt-6","text-gray-500","dark:text-gray-400","text-sm","space-y-2"],[1,"mt-8","bg-purple-600","text-white","font-bold","py-3","px-8","rounded-full","hover:bg-purple-700","transition",3,"click"],[1,"flex-1","overflow-y-auto","hide-scrollbar","px-6","pt-6"],[1,"py-4"],["alt","Imagem da quest\xE3o",1,"max-w-full","h-auto","rounded-lg","mb-4","mx-auto",3,"src"],[1,"prose","dark:prose-invert","max-w-none","text-lg","leading-relaxed",3,"innerHTML"],["alt","Imagem da quest\xE3o",1,"max-w-full","h-auto","rounded-lg","mt-4","mx-auto",3,"src"],[1,"mt-6","space-y-3"],[1,"mt-6"],[1,"shrink-0","px-6","pb-6","pt-4","border-t","dark:border-gray-700"],[1,"flex","justify-end"],[1,"bg-purple-600","text-white","font-bold","py-2","px-6","rounded-full","hover:bg-purple-700","transition"],[1,"bg-purple-600","text-white","font-bold","py-2","px-6","rounded-full","hover:bg-purple-700","transition","disabled:bg-purple-300","disabled:cursor-not-allowed",3,"disabled"],[1,"w-full","flex","items-start","text-left","p-4","border-2","rounded-full","transition-all",3,"disabled","class"],[1,"w-full","flex","items-start","text-left","p-4","border-2","rounded-full","transition-all",3,"click","disabled"],[1,"font-bold","mr-4","shrink-0"],[3,"innerHTML"],["rows","6","placeholder","Digite sua resposta aqui...",1,"w-full","p-3","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-purple-500","focus:border-purple-500",3,"ngModelChange","ngModel"],[1,"bg-purple-600","text-white","font-bold","py-2","px-6","rounded-full","hover:bg-purple-700","transition",3,"click"],[1,"bg-purple-600","text-white","font-bold","py-2","px-6","rounded-full","hover:bg-purple-700","transition","disabled:bg-purple-300","disabled:cursor-not-allowed",3,"click","disabled"],[1,"material-symbols-outlined","text-7xl","text-green-500"],[1,"mt-8","flex","gap-4"],[1,"text-4xl","font-bold","mb-2"],[1,"text-gray-600","dark:text-gray-400"],[1,"my-8"],[1,"text-xl"],[1,"text-6xl","font-extrabold","text-purple-600","dark:text-purple-400"],[1,"text-2xl","font-semibold","mt-2"],[1,"bg-gray-100","dark:bg-gray-700","text-gray-700","dark:text-gray-300","font-semibold","py-2","px-6","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","transition",3,"click"]],template:function(t,i){if(t&1&&(m(0,"div",0),L(1,nz,15,6,"div",1)(2,pz,2,1,"div",2)(3,_z,2,1),g()),t&2){let r;E(),O((r=i.quizState())==="intro"?1:r==="playing"?2:r==="finished"?3:-1)}},dependencies:[ke,kt,At,Mt,xt,FC],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"],changeDetection:0});var bl=Tl;var yz,Cz;function Ez(){return{geminiUrl:yz,vertexUrl:Cz}}function xz(n,e,t,i){var r,o;if(!n?.baseUrl){let s=Ez();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:t:(o=s.geminiUrl)!==null&&o!==void 0?o:i}return n.baseUrl}var Mi=class{};function Q(n,e){let t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let o=e[r];return o!=null?String(o):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(n,e,t){for(let o=0;o<e.length-1;o++){let s=e[o];if(s.endsWith("[]")){let a=s.slice(0,-2);if(!(a in n))if(Array.isArray(t))n[a]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[a])){let l=n[a];if(Array.isArray(t))for(let u=0;u<l.length;u++){let d=l[u];f(d,e.slice(o+1),t[u])}else for(let u of l)f(u,e.slice(o+1),t)}return}else if(s.endsWith("[0]")){let a=s.slice(0,-3);a in n||(n[a]=[{}]);let l=n[a];f(l[0],e.slice(o+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}let i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function c(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;let r=e[i];if(r.endsWith("[]")){let o=r.slice(0,-2);if(o in n){let s=n[o];return Array.isArray(s)?s.map(a=>c(a,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function wz(n,e){for(let[t,i]of Object.entries(e)){let r=t.split("."),o=i.split("."),s=new Set,a=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){let u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}LC(n,r,o,0,s)}}function LC(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;let o=e[i];if(o.endsWith("[]")){let s=o.slice(0,-2),a=n;if(s in a&&Array.isArray(a[s]))for(let l of a[s])LC(l,e,t,i+1,r)}else if(o==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){let s=n,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!r.has(u)),l={};for(let u of a)l[u]=s[u];for(let[u,d]of Object.entries(l)){let p=[];for(let h of t.slice(i))h==="*"?p.push(u):p.push(h);f(s,p,d)}for(let u of a)delete s[u]}}else{let s=n;o in s&&LC(s[o],e,t,i+1,r)}}function IE(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function Sz(n){let e={},t=c(n,["operationName"]);t!=null&&f(e,["operationName"],t);let i=c(n,["resourceName"]);return i!=null&&f(e,["_url","resourceName"],i),e}function Tz(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["metadata"]);i!=null&&f(e,["metadata"],i);let r=c(n,["done"]);r!=null&&f(e,["done"],r);let o=c(n,["error"]);o!=null&&f(e,["error"],o);let s=c(n,["response","generateVideoResponse"]);return s!=null&&f(e,["response"],Iz(s)),e}function bz(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["metadata"]);i!=null&&f(e,["metadata"],i);let r=c(n,["done"]);r!=null&&f(e,["done"],r);let o=c(n,["error"]);o!=null&&f(e,["error"],o);let s=c(n,["response"]);return s!=null&&f(e,["response"],Dz(s)),e}function Iz(n){let e={},t=c(n,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(s=>Az(s))),f(e,["generatedVideos"],o)}let i=c(n,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);let r=c(n,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function Dz(n){let e={},t=c(n,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(s=>Mz(s))),f(e,["generatedVideos"],o)}let i=c(n,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);let r=c(n,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function Az(n){let e={},t=c(n,["video"]);return t!=null&&f(e,["video"],Lz(t)),e}function Mz(n){let e={},t=c(n,["_self"]);return t!=null&&f(e,["video"],Oz(t)),e}function kz(n){let e={},t=c(n,["operationName"]);return t!=null&&f(e,["_url","operationName"],t),e}function Nz(n){let e={},t=c(n,["operationName"]);return t!=null&&f(e,["_url","operationName"],t),e}function Pz(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["metadata"]);i!=null&&f(e,["metadata"],i);let r=c(n,["done"]);r!=null&&f(e,["done"],r);let o=c(n,["error"]);o!=null&&f(e,["error"],o);let s=c(n,["response"]);return s!=null&&f(e,["response"],Rz(s)),e}function Rz(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["parent"]);i!=null&&f(e,["parent"],i);let r=c(n,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function PA(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["metadata"]);i!=null&&f(e,["metadata"],i);let r=c(n,["done"]);r!=null&&f(e,["done"],r);let o=c(n,["error"]);o!=null&&f(e,["error"],o);let s=c(n,["response"]);return s!=null&&f(e,["response"],Fz(s)),e}function Fz(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["parent"]);i!=null&&f(e,["parent"],i);let r=c(n,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function Lz(n){let e={},t=c(n,["uri"]);t!=null&&f(e,["uri"],t);let i=c(n,["encodedVideo"]);i!=null&&f(e,["videoBytes"],IE(i));let r=c(n,["encoding"]);return r!=null&&f(e,["mimeType"],r),e}function Oz(n){let e={},t=c(n,["gcsUri"]);t!=null&&f(e,["uri"],t);let i=c(n,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],IE(i));let r=c(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}var hn=(function(n){return n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL",n})(hn||{});var OC=(function(n){return n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO",n})(OC||{});var RA=(function(n){return n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",n})(RA||{});var pd=(function(n){return n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT",n})(pd||{});var md=class{constructor(e){let t={};for(let i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}};var Gs=class{get text(){var e,t,i,r,o,s,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1,p=[];for(let h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[v,x]of Object.entries(h))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(x!==null||x!==void 0)&&p.push(v);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,i,r,o,s,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="",d=[];for(let p of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[h,v]of Object.entries(p))h!=="inlineData"&&(v!==null||v!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,i,r,o,s,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(u?.length!==0)return u}get executableCode(){var e,t,i,r,o,s,a,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let d=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,i,r,o,s,a,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let d=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.output}},ym=class{},Cm=class{},VC=class{},BC=class{},qC=class{},UC=class{},Em=class{},xm=class{},wm=class{},$C=class{};var Sm=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let i=new n,r,o=e;return t?r=bz(o):r=Tz(o),Object.assign(i,r),i}},Tm=class{},bm=class{},Im=class{},HC=class{},zC=class{},GC=class{};var WC=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let i=new n,o=Pz(e);return Object.assign(i,o),i}},QC=class{},jC=class{},YC=class{};var Dm=class{};var JC=class{get text(){var e,t,i;let r="",o=!1,s=[];for(let a of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(let[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,r+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,t,i;let r="",o=[];for(let s of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(let[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}};var ZC=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var KC=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let i=new n,o=PA(e);return Object.assign(i,o),i}};function Oe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function FA(n,e){let t=Oe(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function LA(n){return Array.isArray(n)?n.map(e=>Am(e)):[Am(n)]}function Am(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function OA(n){let e=Am(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function VA(n){let e=Am(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hA(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function BA(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>hA(e)):[hA(n)]}function XC(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function mA(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function gA(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function en(n){if(n==null)throw new Error("ContentUnion is required");return XC(n)?n:{role:"user",parts:BA(n)}}function DE(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{let i=en(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){let t=en(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>en(t)):[en(e)]}function ci(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(mA(n)||gA(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[en(n)]}let e=[],t=[],i=XC(n[0]);for(let r of n){let o=XC(r);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(r);else{if(mA(r)||gA(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:BA(t)}),e}function Vz(n,e){n.includes("null")&&(e.nullable=!0);let t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(hn).includes(t[0].toUpperCase())?t[0].toUpperCase():hn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let i of t)e.anyOf.push({type:Object.values(hn).includes(i.toUpperCase())?i.toUpperCase():hn.TYPE_UNSPECIFIED})}}function Il(n){let e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");let o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&Vz(n.type,e);for(let[s,a]of Object.entries(n))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(hn).includes(a.toUpperCase())?a.toUpperCase():hn.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=Il(a);else if(i.includes(s)){let l=[];for(let u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(Il(u))}e[s]=l}else if(r.includes(s)){let l={};for(let[u,d]of Object.entries(a))l[u]=Il(d);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function AE(n){return Il(n)}function ME(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function kE(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ml(n){if(n.functionDeclarations)for(let e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Il(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Il(e.response));return n}function kl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");let e=[];for(let t of n)e.push(t);return e}function Bz(n,e,t,i=1){let r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Lr(n,e){if(typeof e!="string")throw new Error("name must be a string");return Bz(n,e,"cachedContents")}function qA(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function To(n){return IE(n)}function qz(n){return n!=null&&typeof n=="object"&&"name"in n}function Uz(n){return n!=null&&typeof n=="object"&&"video"in n}function $z(n){return n!=null&&typeof n=="object"&&"uri"in n}function UA(n){var e;let t;if(qz(n)&&(t=n.name),!($z(n)&&(t=n.uri,t===void 0))&&!(Uz(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){let r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function $A(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function HA(n){for(let e of["models","tunedModels","publisherModels"])if(Hz(n,e))return n[e];return[]}function Hz(n,e){return n!==null&&typeof n=="object"&&e in n}function zz(n,e={}){let t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Gz(n,e={}){let t=[],i=new Set;for(let r of n){let o=r.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);let s=zz(r,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function zA(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;let i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function Wz(n){if(typeof n!="string")return n;let e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function GA(n){if(typeof n!="object"||n===null)return{};let e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;let r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let o=!1;for(let s of r){if(typeof s!="object"||s===null)continue;let l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Nl(n,e){let t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function WA(n){let e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function Qz(n){let e={},t=c(n,["responsesFile"]);t!=null&&f(e,["fileName"],t);let i=c(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>I6(s))),f(e,["inlinedResponses"],o)}let r=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["inlinedEmbedContentResponses"],o)}return e}function jz(n){let e={},t=c(n,["predictionsFormat"]);t!=null&&f(e,["format"],t);let i=c(n,["gcsDestination","outputUriPrefix"]);i!=null&&f(e,["gcsUri"],i);let r=c(n,["bigqueryDestination","outputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function Yz(n){let e={},t=c(n,["format"]);t!=null&&f(e,["predictionsFormat"],t);let i=c(n,["gcsUri"]);i!=null&&f(e,["gcsDestination","outputUriPrefix"],i);let r=c(n,["bigqueryUri"]);if(r!=null&&f(e,["bigqueryDestination","outputUri"],r),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function vm(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["metadata","displayName"]);i!=null&&f(e,["displayName"],i);let r=c(n,["metadata","state"]);r!=null&&f(e,["state"],WA(r));let o=c(n,["metadata","createTime"]);o!=null&&f(e,["createTime"],o);let s=c(n,["metadata","endTime"]);s!=null&&f(e,["endTime"],s);let a=c(n,["metadata","updateTime"]);a!=null&&f(e,["updateTime"],a);let l=c(n,["metadata","model"]);l!=null&&f(e,["model"],l);let u=c(n,["metadata","output"]);return u!=null&&f(e,["dest"],Qz(GA(u))),e}function eE(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["displayName"]);i!=null&&f(e,["displayName"],i);let r=c(n,["state"]);r!=null&&f(e,["state"],WA(r));let o=c(n,["error"]);o!=null&&f(e,["error"],o);let s=c(n,["createTime"]);s!=null&&f(e,["createTime"],s);let a=c(n,["startTime"]);a!=null&&f(e,["startTime"],a);let l=c(n,["endTime"]);l!=null&&f(e,["endTime"],l);let u=c(n,["updateTime"]);u!=null&&f(e,["updateTime"],u);let d=c(n,["model"]);d!=null&&f(e,["model"],d);let p=c(n,["inputConfig"]);p!=null&&f(e,["src"],Jz(p));let h=c(n,["outputConfig"]);h!=null&&f(e,["dest"],jz(GA(h)));let v=c(n,["completionStats"]);return v!=null&&f(e,["completionStats"],v),e}function Jz(n){let e={},t=c(n,["instancesFormat"]);t!=null&&f(e,["format"],t);let i=c(n,["gcsSource","uris"]);i!=null&&f(e,["gcsUri"],i);let r=c(n,["bigquerySource","inputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function Zz(n,e){let t={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let i=c(e,["fileName"]);i!=null&&f(t,["fileName"],i);let r=c(e,["inlinedRequests"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>b6(n,s))),f(t,["requests","requests"],o)}return t}function Kz(n){let e={},t=c(n,["format"]);t!=null&&f(e,["instancesFormat"],t);let i=c(n,["gcsUri"]);i!=null&&f(e,["gcsSource","uris"],i);let r=c(n,["bigqueryUri"]);if(r!=null&&f(e,["bigquerySource","inputUri"],r),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Xz(n){let e={},t=c(n,["data"]);if(t!=null&&f(e,["data"],t),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function e6(n,e){let t={},i=c(e,["name"]);return i!=null&&f(t,["_url","name"],Nl(n,i)),t}function t6(n,e){let t={},i=c(e,["name"]);return i!=null&&f(t,["_url","name"],Nl(n,i)),t}function n6(n){let e={},t=c(n,["content"]);t!=null&&f(e,["content"],t);let i=c(n,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],i6(i));let r=c(n,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);let o=c(n,["finishReason"]);o!=null&&f(e,["finishReason"],o);let s=c(n,["avgLogprobs"]);s!=null&&f(e,["avgLogprobs"],s);let a=c(n,["groundingMetadata"]);a!=null&&f(e,["groundingMetadata"],a);let l=c(n,["index"]);l!=null&&f(e,["index"],l);let u=c(n,["logprobsResult"]);u!=null&&f(e,["logprobsResult"],u);let d=c(n,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(v=>v)),f(e,["safetyRatings"],h)}let p=c(n,["urlContextMetadata"]);return p!=null&&f(e,["urlContextMetadata"],p),e}function i6(n){let e={},t=c(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),f(e,["citations"],i)}return e}function QA(n){let e={},t=c(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>R6(o))),f(e,["parts"],r)}let i=c(n,["role"]);return i!=null&&f(e,["role"],i),e}function r6(n,e){let t={},i=c(n,["displayName"]);if(e!==void 0&&i!=null&&f(e,["batch","displayName"],i),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function o6(n,e){let t={},i=c(n,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);let r=c(n,["dest"]);return e!==void 0&&r!=null&&f(e,["outputConfig"],Yz(Wz(r))),t}function vA(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["src"]);r!=null&&f(t,["batch","inputConfig"],Zz(n,zA(n,r)));let o=c(e,["config"]);return o!=null&&r6(o,t),t}function s6(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["model"],Oe(n,i));let r=c(e,["src"]);r!=null&&f(t,["inputConfig"],Kz(zA(n,r)));let o=c(e,["config"]);return o!=null&&o6(o,t),t}function a6(n,e){let t={},i=c(n,["displayName"]);return e!==void 0&&i!=null&&f(e,["batch","displayName"],i),t}function l6(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["src"]);r!=null&&f(t,["batch","inputConfig"],m6(n,r));let o=c(e,["config"]);return o!=null&&a6(o,t),t}function u6(n,e){let t={},i=c(e,["name"]);return i!=null&&f(t,["_url","name"],Nl(n,i)),t}function c6(n,e){let t={},i=c(e,["name"]);return i!=null&&f(t,["_url","name"],Nl(n,i)),t}function d6(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["name"]);i!=null&&f(e,["name"],i);let r=c(n,["done"]);r!=null&&f(e,["done"],r);let o=c(n,["error"]);return o!=null&&f(e,["error"],o),e}function f6(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["name"]);i!=null&&f(e,["name"],i);let r=c(n,["done"]);r!=null&&f(e,["done"],r);let o=c(n,["error"]);return o!=null&&f(e,["error"],o),e}function p6(n,e){let t={},i=c(e,["contents"]);if(i!=null){let o=DE(n,i);Array.isArray(o)&&(o=o.map(s=>s)),f(t,["requests[]","request","content"],o)}let r=c(e,["config"]);return r!=null&&(f(t,["_self"],h6(r,t)),wz(t,{"requests[].*":"requests[].request.*"})),t}function h6(n,e){let t={},i=c(n,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);let r=c(n,["title"]);e!==void 0&&r!=null&&f(e,["requests[]","title"],r);let o=c(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&f(e,["requests[]","outputDimensionality"],o),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function m6(n,e){let t={},i=c(e,["fileName"]);i!=null&&f(t,["file_name"],i);let r=c(e,["inlinedRequests"]);return r!=null&&f(t,["requests"],p6(n,r)),t}function g6(n){let e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=c(n,["fileUri"]);t!=null&&f(e,["fileUri"],t);let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function v6(n){let e={},t=c(n,["id"]);t!=null&&f(e,["id"],t);let i=c(n,["args"]);i!=null&&f(e,["args"],i);let r=c(n,["name"]);if(r!=null&&f(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _6(n){let e={},t=c(n,["mode"]);t!=null&&f(e,["mode"],t);let i=c(n,["allowedFunctionNames"]);if(i!=null&&f(e,["allowedFunctionNames"],i),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function y6(n,e,t){let i={},r=c(e,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],QA(en(r)));let o=c(e,["temperature"]);o!=null&&f(i,["temperature"],o);let s=c(e,["topP"]);s!=null&&f(i,["topP"],s);let a=c(e,["topK"]);a!=null&&f(i,["topK"],a);let l=c(e,["candidateCount"]);l!=null&&f(i,["candidateCount"],l);let u=c(e,["maxOutputTokens"]);u!=null&&f(i,["maxOutputTokens"],u);let d=c(e,["stopSequences"]);d!=null&&f(i,["stopSequences"],d);let p=c(e,["responseLogprobs"]);p!=null&&f(i,["responseLogprobs"],p);let h=c(e,["logprobs"]);h!=null&&f(i,["logprobs"],h);let v=c(e,["presencePenalty"]);v!=null&&f(i,["presencePenalty"],v);let x=c(e,["frequencyPenalty"]);x!=null&&f(i,["frequencyPenalty"],x);let b=c(e,["seed"]);b!=null&&f(i,["seed"],b);let N=c(e,["responseMimeType"]);N!=null&&f(i,["responseMimeType"],N);let k=c(e,["responseSchema"]);k!=null&&f(i,["responseSchema"],AE(k));let U=c(e,["responseJsonSchema"]);if(U!=null&&f(i,["responseJsonSchema"],U),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let $=c(e,["safetySettings"]);if(t!==void 0&&$!=null){let rt=$;Array.isArray(rt)&&(rt=rt.map(Ni=>F6(Ni))),f(t,["safetySettings"],rt)}let H=c(e,["tools"]);if(t!==void 0&&H!=null){let rt=kl(H);Array.isArray(rt)&&(rt=rt.map(Ni=>O6(Ml(Ni)))),f(t,["tools"],rt)}let K=c(e,["toolConfig"]);if(t!==void 0&&K!=null&&f(t,["toolConfig"],L6(K)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let ve=c(e,["cachedContent"]);t!==void 0&&ve!=null&&f(t,["cachedContent"],Lr(n,ve));let De=c(e,["responseModalities"]);De!=null&&f(i,["responseModalities"],De);let Nt=c(e,["mediaResolution"]);Nt!=null&&f(i,["mediaResolution"],Nt);let pe=c(e,["speechConfig"]);if(pe!=null&&f(i,["speechConfig"],ME(pe)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let $e=c(e,["thinkingConfig"]);$e!=null&&f(i,["thinkingConfig"],$e);let wt=c(e,["imageConfig"]);return wt!=null&&f(i,["imageConfig"],T6(wt)),i}function C6(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>n6(u))),f(e,["candidates"],l)}let r=c(n,["modelVersion"]);r!=null&&f(e,["modelVersion"],r);let o=c(n,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);let s=c(n,["responseId"]);s!=null&&f(e,["responseId"],s);let a=c(n,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function E6(n,e){let t={},i=c(e,["name"]);return i!=null&&f(t,["_url","name"],Nl(n,i)),t}function x6(n,e){let t={},i=c(e,["name"]);return i!=null&&f(t,["_url","name"],Nl(n,i)),t}function w6(n){let e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=c(n,["enableWidget"]);return t!=null&&f(e,["enableWidget"],t),e}function S6(n){let e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=c(n,["timeRangeFilter"]);return t!=null&&f(e,["timeRangeFilter"],t),e}function T6(n){let e={},t=c(n,["aspectRatio"]);t!=null&&f(e,["aspectRatio"],t);let i=c(n,["imageSize"]);if(i!=null&&f(e,["imageSize"],i),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function b6(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["request","model"],Oe(n,i));let r=c(e,["contents"]);if(r!=null){let a=ci(r);Array.isArray(a)&&(a=a.map(l=>QA(l))),f(t,["request","contents"],a)}let o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);let s=c(e,["config"]);return s!=null&&f(t,["request","generationConfig"],y6(n,s,c(t,["request"],{}))),t}function I6(n){let e={},t=c(n,["response"]);t!=null&&f(e,["response"],C6(t));let i=c(n,["error"]);return i!=null&&f(e,["error"],i),e}function D6(n,e){let t={},i=c(n,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let r=c(n,["pageToken"]);if(e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function A6(n,e){let t={},i=c(n,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let r=c(n,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);let o=c(n,["filter"]);return e!==void 0&&o!=null&&f(e,["_query","filter"],o),t}function M6(n){let e={},t=c(n,["config"]);return t!=null&&D6(t,e),e}function k6(n){let e={},t=c(n,["config"]);return t!=null&&A6(t,e),e}function N6(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);let r=c(n,["operations"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>vm(s))),f(e,["batchJobs"],o)}return e}function P6(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);let r=c(n,["batchPredictionJobs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>eE(s))),f(e,["batchJobs"],o)}return e}function R6(n){let e={},t=c(n,["mediaResolution"]);t!=null&&f(e,["mediaResolution"],t);let i=c(n,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);let r=c(n,["executableCode"]);r!=null&&f(e,["executableCode"],r);let o=c(n,["fileData"]);o!=null&&f(e,["fileData"],g6(o));let s=c(n,["functionCall"]);s!=null&&f(e,["functionCall"],v6(s));let a=c(n,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);let l=c(n,["inlineData"]);l!=null&&f(e,["inlineData"],Xz(l));let u=c(n,["text"]);u!=null&&f(e,["text"],u);let d=c(n,["thought"]);d!=null&&f(e,["thought"],d);let p=c(n,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);let h=c(n,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function F6(n){let e={},t=c(n,["category"]);if(t!=null&&f(e,["category"],t),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let i=c(n,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function L6(n){let e={},t=c(n,["functionCallingConfig"]);t!=null&&f(e,["functionCallingConfig"],_6(t));let i=c(n,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],i),e}function O6(n){let e={},t=c(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let i=c(n,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);let r=c(n,["computerUse"]);r!=null&&f(e,["computerUse"],r);let o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);let s=c(n,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=c(n,["googleMaps"]);a!=null&&f(e,["googleMaps"],w6(a));let l=c(n,["googleSearch"]);l!=null&&f(e,["googleSearch"],S6(l));let u=c(n,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}var bo=(function(n){return n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents",n})(bo||{}),Fr=class{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var tE=class extends Mi{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new Fr(bo.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){let t=vA(this.apiClient,e),i=t._url,r=Q("{model}:batchGenerateContent",i),a=t.batch.inputConfig.requests,l=a.requests,u=[];for(let d of l){let p=Object.assign({},d);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let v=p.request;v.systemInstruction=h,p.request=v}u.push(p)}return a.requests=u,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){let i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){let o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?i.dest=`${o.slice(0,-6)}/dest`:i.dest=`${o}_dest_${r}`;else if(s)i.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=s6(this.apiClient,e);return a=Q("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>eE(d))}else{let u=vA(this.apiClient,e);return a=Q("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>vm(d))}}async createEmbeddingsInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=l6(this.apiClient,e);return o=Q("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>vm(l))}}async get(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=x6(this.apiClient,e);return a=Q("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>eE(d))}else{let u=E6(this.apiClient,e);return a=Q("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>vm(d))}}async cancel(e){var t,i,r,o;let s="",a={};if(this.apiClient.isVertexAI()){let l=t6(this.apiClient,e);s=Q("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{let l=e6(this.apiClient,e);s=Q("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=k6(e);return a=Q("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=P6(d),h=new Dm;return Object.assign(h,p),h})}else{let u=M6(e);return a=Q("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=N6(d),h=new Dm;return Object.assign(h,p),h})}}async delete(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=c6(this.apiClient,e);return a=Q("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>f6(d))}else{let u=u6(this.apiClient,e);return a=Q("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>d6(d))}}};function V6(n){let e={},t=c(n,["data"]);if(t!=null&&f(e,["data"],t),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function _A(n){let e={},t=c(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>aG(o))),f(e,["parts"],r)}let i=c(n,["role"]);return i!=null&&f(e,["role"],i),e}function B6(n,e){let t={},i=c(n,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);let r=c(n,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);let o=c(n,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);let s=c(n,["contents"]);if(e!==void 0&&s!=null){let d=ci(s);Array.isArray(d)&&(d=d.map(p=>_A(p))),f(e,["contents"],d)}let a=c(n,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],_A(en(a)));let l=c(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>uG(p))),f(e,["tools"],d)}let u=c(n,["toolConfig"]);if(e!==void 0&&u!=null&&f(e,["toolConfig"],lG(u)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function q6(n,e){let t={},i=c(n,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);let r=c(n,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);let o=c(n,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);let s=c(n,["contents"]);if(e!==void 0&&s!=null){let p=ci(s);Array.isArray(p)&&(p=p.map(h=>h)),f(e,["contents"],p)}let a=c(n,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],en(a));let l=c(n,["tools"]);if(e!==void 0&&l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>cG(h))),f(e,["tools"],p)}let u=c(n,["toolConfig"]);e!==void 0&&u!=null&&f(e,["toolConfig"],u);let d=c(n,["kmsKeyName"]);return e!==void 0&&d!=null&&f(e,["encryption_spec","kmsKeyName"],d),t}function U6(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["model"],FA(n,i));let r=c(e,["config"]);return r!=null&&B6(r,t),t}function $6(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["model"],FA(n,i));let r=c(e,["config"]);return r!=null&&q6(r,t),t}function H6(n,e){let t={},i=c(e,["name"]);return i!=null&&f(t,["_url","name"],Lr(n,i)),t}function z6(n,e){let t={},i=c(e,["name"]);return i!=null&&f(t,["_url","name"],Lr(n,i)),t}function G6(n){let e={},t=c(n,["sdkHttpResponse"]);return t!=null&&f(e,["sdkHttpResponse"],t),e}function W6(n){let e={},t=c(n,["sdkHttpResponse"]);return t!=null&&f(e,["sdkHttpResponse"],t),e}function Q6(n){let e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=c(n,["fileUri"]);t!=null&&f(e,["fileUri"],t);let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function j6(n){let e={},t=c(n,["id"]);t!=null&&f(e,["id"],t);let i=c(n,["args"]);i!=null&&f(e,["args"],i);let r=c(n,["name"]);if(r!=null&&f(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Y6(n){let e={},t=c(n,["mode"]);t!=null&&f(e,["mode"],t);let i=c(n,["allowedFunctionNames"]);if(i!=null&&f(e,["allowedFunctionNames"],i),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function J6(n){let e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=c(n,["description"]);t!=null&&f(e,["description"],t);let i=c(n,["name"]);i!=null&&f(e,["name"],i);let r=c(n,["parameters"]);r!=null&&f(e,["parameters"],r);let o=c(n,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);let s=c(n,["response"]);s!=null&&f(e,["response"],s);let a=c(n,["responseJsonSchema"]);return a!=null&&f(e,["responseJsonSchema"],a),e}function Z6(n,e){let t={},i=c(e,["name"]);return i!=null&&f(t,["_url","name"],Lr(n,i)),t}function K6(n,e){let t={},i=c(e,["name"]);return i!=null&&f(t,["_url","name"],Lr(n,i)),t}function X6(n){let e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=c(n,["enableWidget"]);return t!=null&&f(e,["enableWidget"],t),e}function eG(n){let e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=c(n,["timeRangeFilter"]);return t!=null&&f(e,["timeRangeFilter"],t),e}function tG(n,e){let t={},i=c(n,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let r=c(n,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),t}function nG(n,e){let t={},i=c(n,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let r=c(n,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),t}function iG(n){let e={},t=c(n,["config"]);return t!=null&&tG(t,e),e}function rG(n){let e={},t=c(n,["config"]);return t!=null&&nG(t,e),e}function oG(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);let r=c(n,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["cachedContents"],o)}return e}function sG(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);let r=c(n,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["cachedContents"],o)}return e}function aG(n){let e={},t=c(n,["mediaResolution"]);t!=null&&f(e,["mediaResolution"],t);let i=c(n,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);let r=c(n,["executableCode"]);r!=null&&f(e,["executableCode"],r);let o=c(n,["fileData"]);o!=null&&f(e,["fileData"],Q6(o));let s=c(n,["functionCall"]);s!=null&&f(e,["functionCall"],j6(s));let a=c(n,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);let l=c(n,["inlineData"]);l!=null&&f(e,["inlineData"],V6(l));let u=c(n,["text"]);u!=null&&f(e,["text"],u);let d=c(n,["thought"]);d!=null&&f(e,["thought"],d);let p=c(n,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);let h=c(n,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function lG(n){let e={},t=c(n,["functionCallingConfig"]);t!=null&&f(e,["functionCallingConfig"],Y6(t));let i=c(n,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],i),e}function uG(n){let e={},t=c(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let i=c(n,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);let r=c(n,["computerUse"]);r!=null&&f(e,["computerUse"],r);let o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);let s=c(n,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=c(n,["googleMaps"]);a!=null&&f(e,["googleMaps"],X6(a));let l=c(n,["googleSearch"]);l!=null&&f(e,["googleSearch"],eG(l));let u=c(n,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function cG(n){let e={},t=c(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>J6(h))),f(e,["functionDeclarations"],p)}let i=c(n,["retrieval"]);i!=null&&f(e,["retrieval"],i);let r=c(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);let o=c(n,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=c(n,["codeExecution"]);s!=null&&f(e,["codeExecution"],s);let a=c(n,["enterpriseWebSearch"]);a!=null&&f(e,["enterpriseWebSearch"],a);let l=c(n,["googleMaps"]);l!=null&&f(e,["googleMaps"],l);let u=c(n,["googleSearch"]);u!=null&&f(e,["googleSearch"],u);let d=c(n,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function dG(n,e){let t={},i=c(n,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);let r=c(n,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),t}function fG(n,e){let t={},i=c(n,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);let r=c(n,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),t}function pG(n,e){let t={},i=c(e,["name"]);i!=null&&f(t,["_url","name"],Lr(n,i));let r=c(e,["config"]);return r!=null&&dG(r,t),t}function hG(n,e){let t={},i=c(e,["name"]);i!=null&&f(t,["_url","name"],Lr(n,i));let r=c(e,["config"]);return r!=null&&fG(r,t),t}var nE=class extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Fr(bo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=$6(this.apiClient,e);return a=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{let u=U6(this.apiClient,e);return a=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=K6(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{let u=Z6(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=z6(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=W6(d),h=new bm;return Object.assign(h,p),h})}else{let u=H6(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=G6(d),h=new bm;return Object.assign(h,p),h})}}async update(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=hG(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{let u=pG(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=rG(e);return a=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=sG(d),h=new Im;return Object.assign(h,p),h})}else{let u=iG(e);return a=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=oG(d),h=new Im;return Object.assign(h,p),h})}}};function yA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(n){return this instanceof tt?(this.v=n,this):new tt(n)}function Dl(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(v){return function(x){return Promise.resolve(x).then(v,p)}}function a(v,x){i[v]&&(r[v]=function(b){return new Promise(function(N,k){o.push([v,b,N,k])>1||l(v,b)})},x&&(r[v]=x(r[v])))}function l(v,x){try{u(i[v](x))}catch(b){h(o[0][3],b)}}function u(v){v.value instanceof tt?Promise.resolve(v.value.v).then(d,p):h(o[0][2],v)}function d(v){l("next",v)}function p(v){l("throw",v)}function h(v,x){v(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function hd(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof yA=="function"?yA(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function mG(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;let t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:jA(t)}function jA(n){if(n.parts===void 0||n.parts.length===0)return!1;for(let e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function gG(n){if(n.length!==0){for(let e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function CA(n){if(n===void 0||n.length===0)return[];let e=[],t=n.length,i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{let r=[],o=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),o&&!jA(n[i])&&(o=!1),i++;o?e.push(...r):e.pop()}return e}var iE=class{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new rE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},rE=class{constructor(e,t,i,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),gG(o)}async sendMessage(e){var t;await this.sendPromise;let i=en(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,s,a;let l=await r,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,d=l.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];d!=null&&(h=(a=d.slice(p))!==null&&a!==void 0?a:[]);let v=u?[u]:[];this.recordHistory(i,v,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;let i=en(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});let o=await r;return this.processStreamResponse(o,i)}getHistory(e=!1){let t=e?CA(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return Dl(this,arguments,function*(){var s,a,l,u;let d=[];try{for(var p=!0,h=hd(e),v;v=yield tt(h.next()),s=v.done,!s;p=!0){u=v.value,p=!1;let x=u;if(mG(x)){let b=(r=(i=x.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;b!==void 0&&d.push(b)}yield yield tt(x)}}catch(x){a={error:x}}finally{try{!p&&!s&&(l=h.return)&&(yield tt(l.call(h)))}finally{if(a)throw a.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(o=>o.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...CA(i)):this.history.push(e),this.history.push(...r)}};var Mm=class n extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,n.prototype)}};function vG(n){let e={},t=c(n,["file"]);return t!=null&&f(e,["file"],t),e}function _G(n){let e={},t=c(n,["sdkHttpResponse"]);return t!=null&&f(e,["sdkHttpResponse"],t),e}function yG(n){let e={},t=c(n,["name"]);return t!=null&&f(e,["_url","file"],UA(t)),e}function CG(n){let e={},t=c(n,["sdkHttpResponse"]);return t!=null&&f(e,["sdkHttpResponse"],t),e}function EG(n){let e={},t=c(n,["name"]);return t!=null&&f(e,["_url","file"],UA(t)),e}function xG(n,e){let t={},i=c(n,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let r=c(n,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),t}function wG(n){let e={},t=c(n,["config"]);return t!=null&&xG(t,e),e}function SG(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);let r=c(n,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["files"],o)}return e}var oE=class extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Fr(bo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=wG(e);return o=Q("files",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{let u=SG(l),d=new QC;return Object.assign(d,u),d})}}async createInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=vG(e);return o=Q("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{let u=_G(l),d=new jC;return Object.assign(d,u),d})}}async get(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=EG(e);return o=Q("files/{file}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=yG(e);return o=Q("files/{file}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{let u=CG(l),d=new YC;return Object.assign(d,u),d})}}};function _m(n){let e={},t=c(n,["data"]);if(t!=null&&f(e,["data"],t),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function TG(n){let e={},t=c(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>UG(o))),f(e,["parts"],r)}let i=c(n,["role"]);return i!=null&&f(e,["role"],i),e}function bG(n){let e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=c(n,["fileUri"]);t!=null&&f(e,["fileUri"],t);let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function IG(n){let e={},t=c(n,["id"]);t!=null&&f(e,["id"],t);let i=c(n,["args"]);i!=null&&f(e,["args"],i);let r=c(n,["name"]);if(r!=null&&f(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function DG(n){let e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=c(n,["description"]);t!=null&&f(e,["description"],t);let i=c(n,["name"]);i!=null&&f(e,["name"],i);let r=c(n,["parameters"]);r!=null&&f(e,["parameters"],r);let o=c(n,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);let s=c(n,["response"]);s!=null&&f(e,["response"],s);let a=c(n,["responseJsonSchema"]);return a!=null&&f(e,["responseJsonSchema"],a),e}function AG(n){let e={},t=c(n,["modelSelectionConfig"]);t!=null&&f(e,["modelConfig"],t);let i=c(n,["responseJsonSchema"]);i!=null&&f(e,["responseJsonSchema"],i);let r=c(n,["audioTimestamp"]);r!=null&&f(e,["audioTimestamp"],r);let o=c(n,["candidateCount"]);o!=null&&f(e,["candidateCount"],o);let s=c(n,["enableAffectiveDialog"]);s!=null&&f(e,["enableAffectiveDialog"],s);let a=c(n,["frequencyPenalty"]);a!=null&&f(e,["frequencyPenalty"],a);let l=c(n,["logprobs"]);l!=null&&f(e,["logprobs"],l);let u=c(n,["maxOutputTokens"]);u!=null&&f(e,["maxOutputTokens"],u);let d=c(n,["mediaResolution"]);d!=null&&f(e,["mediaResolution"],d);let p=c(n,["presencePenalty"]);p!=null&&f(e,["presencePenalty"],p);let h=c(n,["responseLogprobs"]);h!=null&&f(e,["responseLogprobs"],h);let v=c(n,["responseMimeType"]);v!=null&&f(e,["responseMimeType"],v);let x=c(n,["responseModalities"]);x!=null&&f(e,["responseModalities"],x);let b=c(n,["responseSchema"]);b!=null&&f(e,["responseSchema"],b);let N=c(n,["routingConfig"]);N!=null&&f(e,["routingConfig"],N);let k=c(n,["seed"]);k!=null&&f(e,["seed"],k);let U=c(n,["speechConfig"]);U!=null&&f(e,["speechConfig"],YA(U));let $=c(n,["stopSequences"]);$!=null&&f(e,["stopSequences"],$);let H=c(n,["temperature"]);H!=null&&f(e,["temperature"],H);let K=c(n,["thinkingConfig"]);K!=null&&f(e,["thinkingConfig"],K);let ve=c(n,["topK"]);ve!=null&&f(e,["topK"],ve);let De=c(n,["topP"]);if(De!=null&&f(e,["topP"],De),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function MG(n){let e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=c(n,["enableWidget"]);return t!=null&&f(e,["enableWidget"],t),e}function kG(n){let e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=c(n,["timeRangeFilter"]);return t!=null&&f(e,["timeRangeFilter"],t),e}function NG(n,e){let t={},i=c(n,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);let r=c(n,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);let o=c(n,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);let s=c(n,["topP"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","topP"],s);let a=c(n,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);let l=c(n,["maxOutputTokens"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","maxOutputTokens"],l);let u=c(n,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);let d=c(n,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);let p=c(n,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],kE(p));let h=c(n,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);let v=c(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],v);let x=c(n,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],TG(en(x)));let b=c(n,["tools"]);if(e!==void 0&&b!=null){let ve=kl(b);Array.isArray(ve)&&(ve=ve.map(De=>HG(Ml(De)))),f(e,["setup","tools"],ve)}let N=c(n,["sessionResumption"]);e!==void 0&&N!=null&&f(e,["setup","sessionResumption"],$G(N));let k=c(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","inputAudioTranscription"],k);let U=c(n,["outputAudioTranscription"]);e!==void 0&&U!=null&&f(e,["setup","outputAudioTranscription"],U);let $=c(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&f(e,["setup","realtimeInputConfig"],$);let H=c(n,["contextWindowCompression"]);e!==void 0&&H!=null&&f(e,["setup","contextWindowCompression"],H);let K=c(n,["proactivity"]);return e!==void 0&&K!=null&&f(e,["setup","proactivity"],K),t}function PG(n,e){let t={},i=c(n,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],AG(i));let r=c(n,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);let o=c(n,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);let s=c(n,["topP"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","topP"],s);let a=c(n,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);let l=c(n,["maxOutputTokens"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","maxOutputTokens"],l);let u=c(n,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);let d=c(n,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);let p=c(n,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],YA(kE(p)));let h=c(n,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);let v=c(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],v);let x=c(n,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],en(x));let b=c(n,["tools"]);if(e!==void 0&&b!=null){let ve=kl(b);Array.isArray(ve)&&(ve=ve.map(De=>zG(Ml(De)))),f(e,["setup","tools"],ve)}let N=c(n,["sessionResumption"]);e!==void 0&&N!=null&&f(e,["setup","sessionResumption"],N);let k=c(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","inputAudioTranscription"],k);let U=c(n,["outputAudioTranscription"]);e!==void 0&&U!=null&&f(e,["setup","outputAudioTranscription"],U);let $=c(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&f(e,["setup","realtimeInputConfig"],$);let H=c(n,["contextWindowCompression"]);e!==void 0&&H!=null&&f(e,["setup","contextWindowCompression"],H);let K=c(n,["proactivity"]);return e!==void 0&&K!=null&&f(e,["setup","proactivity"],K),t}function RG(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["setup","model"],Oe(n,i));let r=c(e,["config"]);return r!=null&&f(t,["config"],NG(r,t)),t}function FG(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["setup","model"],Oe(n,i));let r=c(e,["config"]);return r!=null&&f(t,["config"],PG(r,t)),t}function LG(n){let e={},t=c(n,["musicGenerationConfig"]);return t!=null&&f(e,["musicGenerationConfig"],t),e}function OG(n){let e={},t=c(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),f(e,["weightedPrompts"],i)}return e}function VG(n){let e={},t=c(n,["media"]);if(t!=null){let u=LA(t);Array.isArray(u)&&(u=u.map(d=>_m(d))),f(e,["mediaChunks"],u)}let i=c(n,["audio"]);i!=null&&f(e,["audio"],_m(VA(i)));let r=c(n,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);let o=c(n,["video"]);o!=null&&f(e,["video"],_m(OA(o)));let s=c(n,["text"]);s!=null&&f(e,["text"],s);let a=c(n,["activityStart"]);a!=null&&f(e,["activityStart"],a);let l=c(n,["activityEnd"]);return l!=null&&f(e,["activityEnd"],l),e}function BG(n){let e={},t=c(n,["media"]);if(t!=null){let u=LA(t);Array.isArray(u)&&(u=u.map(d=>d)),f(e,["mediaChunks"],u)}let i=c(n,["audio"]);i!=null&&f(e,["audio"],VA(i));let r=c(n,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);let o=c(n,["video"]);o!=null&&f(e,["video"],OA(o));let s=c(n,["text"]);s!=null&&f(e,["text"],s);let a=c(n,["activityStart"]);a!=null&&f(e,["activityStart"],a);let l=c(n,["activityEnd"]);return l!=null&&f(e,["activityEnd"],l),e}function qG(n){let e={},t=c(n,["setupComplete"]);t!=null&&f(e,["setupComplete"],t);let i=c(n,["serverContent"]);i!=null&&f(e,["serverContent"],i);let r=c(n,["toolCall"]);r!=null&&f(e,["toolCall"],r);let o=c(n,["toolCallCancellation"]);o!=null&&f(e,["toolCallCancellation"],o);let s=c(n,["usageMetadata"]);s!=null&&f(e,["usageMetadata"],GG(s));let a=c(n,["goAway"]);a!=null&&f(e,["goAway"],a);let l=c(n,["sessionResumptionUpdate"]);return l!=null&&f(e,["sessionResumptionUpdate"],l),e}function UG(n){let e={},t=c(n,["mediaResolution"]);t!=null&&f(e,["mediaResolution"],t);let i=c(n,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);let r=c(n,["executableCode"]);r!=null&&f(e,["executableCode"],r);let o=c(n,["fileData"]);o!=null&&f(e,["fileData"],bG(o));let s=c(n,["functionCall"]);s!=null&&f(e,["functionCall"],IG(s));let a=c(n,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);let l=c(n,["inlineData"]);l!=null&&f(e,["inlineData"],_m(l));let u=c(n,["text"]);u!=null&&f(e,["text"],u);let d=c(n,["thought"]);d!=null&&f(e,["thought"],d);let p=c(n,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);let h=c(n,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function $G(n){let e={},t=c(n,["handle"]);if(t!=null&&f(e,["handle"],t),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function YA(n){let e={},t=c(n,["languageCode"]);t!=null&&f(e,["languageCode"],t);let i=c(n,["voiceConfig"]);if(i!=null&&f(e,["voiceConfig"],i),c(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function HG(n){let e={},t=c(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let i=c(n,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);let r=c(n,["computerUse"]);r!=null&&f(e,["computerUse"],r);let o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);let s=c(n,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=c(n,["googleMaps"]);a!=null&&f(e,["googleMaps"],MG(a));let l=c(n,["googleSearch"]);l!=null&&f(e,["googleSearch"],kG(l));let u=c(n,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function zG(n){let e={},t=c(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>DG(h))),f(e,["functionDeclarations"],p)}let i=c(n,["retrieval"]);i!=null&&f(e,["retrieval"],i);let r=c(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);let o=c(n,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=c(n,["codeExecution"]);s!=null&&f(e,["codeExecution"],s);let a=c(n,["enterpriseWebSearch"]);a!=null&&f(e,["enterpriseWebSearch"],a);let l=c(n,["googleMaps"]);l!=null&&f(e,["googleMaps"],l);let u=c(n,["googleSearch"]);u!=null&&f(e,["googleSearch"],u);let d=c(n,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function GG(n){let e={},t=c(n,["promptTokenCount"]);t!=null&&f(e,["promptTokenCount"],t);let i=c(n,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);let r=c(n,["candidatesTokenCount"]);r!=null&&f(e,["responseTokenCount"],r);let o=c(n,["toolUsePromptTokenCount"]);o!=null&&f(e,["toolUsePromptTokenCount"],o);let s=c(n,["thoughtsTokenCount"]);s!=null&&f(e,["thoughtsTokenCount"],s);let a=c(n,["totalTokenCount"]);a!=null&&f(e,["totalTokenCount"],a);let l=c(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(x=>x)),f(e,["promptTokensDetails"],v)}let u=c(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(x=>x)),f(e,["cacheTokensDetails"],v)}let d=c(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>x)),f(e,["responseTokensDetails"],v)}let p=c(n,["toolUsePromptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(x=>x)),f(e,["toolUsePromptTokensDetails"],v)}let h=c(n,["trafficType"]);return h!=null&&f(e,["trafficType"],h),e}function WG(n){let e={},t=c(n,["data"]);if(t!=null&&f(e,["data"],t),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function QG(n){let e={},t=c(n,["content"]);t!=null&&f(e,["content"],t);let i=c(n,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],jG(i));let r=c(n,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);let o=c(n,["finishReason"]);o!=null&&f(e,["finishReason"],o);let s=c(n,["avgLogprobs"]);s!=null&&f(e,["avgLogprobs"],s);let a=c(n,["groundingMetadata"]);a!=null&&f(e,["groundingMetadata"],a);let l=c(n,["index"]);l!=null&&f(e,["index"],l);let u=c(n,["logprobsResult"]);u!=null&&f(e,["logprobsResult"],u);let d=c(n,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(v=>v)),f(e,["safetyRatings"],h)}let p=c(n,["urlContextMetadata"]);return p!=null&&f(e,["urlContextMetadata"],p),e}function jG(n){let e={},t=c(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),f(e,["citations"],i)}return e}function YG(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["contents"]);if(r!=null){let o=ci(r);Array.isArray(o)&&(o=o.map(s=>s)),f(t,["contents"],o)}return t}function JG(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),f(e,["tokensInfo"],r)}return e}function ZG(n){let e={},t=c(n,["values"]);t!=null&&f(e,["values"],t);let i=c(n,["statistics"]);return i!=null&&f(e,["statistics"],KG(i)),e}function KG(n){let e={},t=c(n,["truncated"]);t!=null&&f(e,["truncated"],t);let i=c(n,["token_count"]);return i!=null&&f(e,["tokenCount"],i),e}function Nm(n){let e={},t=c(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>a9(o))),f(e,["parts"],r)}let i=c(n,["role"]);return i!=null&&f(e,["role"],i),e}function XG(n){let e={},t=c(n,["controlType"]);t!=null&&f(e,["controlType"],t);let i=c(n,["enableControlImageComputation"]);return i!=null&&f(e,["computeControl"],i),e}function e7(n){let e={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function t7(n,e){let t={},i=c(n,["systemInstruction"]);e!==void 0&&i!=null&&f(e,["systemInstruction"],en(i));let r=c(n,["tools"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>eM(a))),f(e,["tools"],s)}let o=c(n,["generationConfig"]);return e!==void 0&&o!=null&&f(e,["generationConfig"],W7(o)),t}function n7(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["contents"]);if(r!=null){let s=ci(r);Array.isArray(s)&&(s=s.map(a=>Nm(a))),f(t,["contents"],s)}let o=c(e,["config"]);return o!=null&&e7(o),t}function i7(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["contents"]);if(r!=null){let s=ci(r);Array.isArray(s)&&(s=s.map(a=>a)),f(t,["contents"],s)}let o=c(e,["config"]);return o!=null&&t7(o,t),t}function r7(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["totalTokens"]);i!=null&&f(e,["totalTokens"],i);let r=c(n,["cachedContentTokenCount"]);return r!=null&&f(e,["cachedContentTokenCount"],r),e}function o7(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["totalTokens"]);return i!=null&&f(e,["totalTokens"],i),e}function s7(n,e){let t={},i=c(e,["model"]);return i!=null&&f(t,["_url","name"],Oe(n,i)),t}function a7(n,e){let t={},i=c(e,["model"]);return i!=null&&f(t,["_url","name"],Oe(n,i)),t}function l7(n){let e={},t=c(n,["sdkHttpResponse"]);return t!=null&&f(e,["sdkHttpResponse"],t),e}function u7(n){let e={},t=c(n,["sdkHttpResponse"]);return t!=null&&f(e,["sdkHttpResponse"],t),e}function c7(n,e){let t={},i=c(n,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);let r=c(n,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);let o=c(n,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);let s=c(n,["aspectRatio"]);e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s);let a=c(n,["guidanceScale"]);e!==void 0&&a!=null&&f(e,["parameters","guidanceScale"],a);let l=c(n,["seed"]);e!==void 0&&l!=null&&f(e,["parameters","seed"],l);let u=c(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);let d=c(n,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);let p=c(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);let h=c(n,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);let v=c(n,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);let x=c(n,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);let b=c(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b);let N=c(n,["addWatermark"]);e!==void 0&&N!=null&&f(e,["parameters","addWatermark"],N);let k=c(n,["labels"]);e!==void 0&&k!=null&&f(e,["labels"],k);let U=c(n,["editMode"]);e!==void 0&&U!=null&&f(e,["parameters","editMode"],U);let $=c(n,["baseSteps"]);return e!==void 0&&$!=null&&f(e,["parameters","editConfig","baseSteps"],$),t}function d7(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["prompt"]);r!=null&&f(t,["instances[0]","prompt"],r);let o=c(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>p9(l))),f(t,["instances[0]","referenceImages"],a)}let s=c(e,["config"]);return s!=null&&c7(s,t),t}function f7(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Pm(o))),f(e,["generatedImages"],r)}return e}function p7(n,e){let t={},i=c(n,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);let r=c(n,["title"]);e!==void 0&&r!=null&&f(e,["requests[]","title"],r);let o=c(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&f(e,["requests[]","outputDimensionality"],o),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function h7(n,e){let t={},i=c(n,["taskType"]);e!==void 0&&i!=null&&f(e,["instances[]","task_type"],i);let r=c(n,["title"]);e!==void 0&&r!=null&&f(e,["instances[]","title"],r);let o=c(n,["outputDimensionality"]);e!==void 0&&o!=null&&f(e,["parameters","outputDimensionality"],o);let s=c(n,["mimeType"]);e!==void 0&&s!=null&&f(e,["instances[]","mimeType"],s);let a=c(n,["autoTruncate"]);return e!==void 0&&a!=null&&f(e,["parameters","autoTruncate"],a),t}function m7(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["contents"]);if(r!=null){let a=DE(n,r);Array.isArray(a)&&(a=a.map(l=>l)),f(t,["requests[]","content"],a)}let o=c(e,["config"]);o!=null&&p7(o,t);let s=c(e,["model"]);return s!==void 0&&f(t,["requests[]","model"],Oe(n,s)),t}function g7(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["contents"]);if(r!=null){let s=DE(n,r);Array.isArray(s)&&(s=s.map(a=>a)),f(t,["instances[]","content"],s)}let o=c(e,["config"]);return o!=null&&h7(o,t),t}function v7(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["embeddings"],o)}let r=c(n,["metadata"]);return r!=null&&f(e,["metadata"],r),e}function _7(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ZG(s))),f(e,["embeddings"],o)}let r=c(n,["metadata"]);return r!=null&&f(e,["metadata"],r),e}function y7(n){let e={},t=c(n,["endpoint"]);t!=null&&f(e,["name"],t);let i=c(n,["deployedModelId"]);return i!=null&&f(e,["deployedModelId"],i),e}function C7(n){let e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=c(n,["fileUri"]);t!=null&&f(e,["fileUri"],t);let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function E7(n){let e={},t=c(n,["id"]);t!=null&&f(e,["id"],t);let i=c(n,["args"]);i!=null&&f(e,["args"],i);let r=c(n,["name"]);if(r!=null&&f(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function x7(n){let e={},t=c(n,["mode"]);t!=null&&f(e,["mode"],t);let i=c(n,["allowedFunctionNames"]);if(i!=null&&f(e,["allowedFunctionNames"],i),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function w7(n){let e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=c(n,["description"]);t!=null&&f(e,["description"],t);let i=c(n,["name"]);i!=null&&f(e,["name"],i);let r=c(n,["parameters"]);r!=null&&f(e,["parameters"],r);let o=c(n,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);let s=c(n,["response"]);s!=null&&f(e,["response"],s);let a=c(n,["responseJsonSchema"]);return a!=null&&f(e,["responseJsonSchema"],a),e}function S7(n,e,t){let i={},r=c(e,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],Nm(en(r)));let o=c(e,["temperature"]);o!=null&&f(i,["temperature"],o);let s=c(e,["topP"]);s!=null&&f(i,["topP"],s);let a=c(e,["topK"]);a!=null&&f(i,["topK"],a);let l=c(e,["candidateCount"]);l!=null&&f(i,["candidateCount"],l);let u=c(e,["maxOutputTokens"]);u!=null&&f(i,["maxOutputTokens"],u);let d=c(e,["stopSequences"]);d!=null&&f(i,["stopSequences"],d);let p=c(e,["responseLogprobs"]);p!=null&&f(i,["responseLogprobs"],p);let h=c(e,["logprobs"]);h!=null&&f(i,["logprobs"],h);let v=c(e,["presencePenalty"]);v!=null&&f(i,["presencePenalty"],v);let x=c(e,["frequencyPenalty"]);x!=null&&f(i,["frequencyPenalty"],x);let b=c(e,["seed"]);b!=null&&f(i,["seed"],b);let N=c(e,["responseMimeType"]);N!=null&&f(i,["responseMimeType"],N);let k=c(e,["responseSchema"]);k!=null&&f(i,["responseSchema"],AE(k));let U=c(e,["responseJsonSchema"]);if(U!=null&&f(i,["responseJsonSchema"],U),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let $=c(e,["safetySettings"]);if(t!==void 0&&$!=null){let rt=$;Array.isArray(rt)&&(rt=rt.map(Ni=>h9(Ni))),f(t,["safetySettings"],rt)}let H=c(e,["tools"]);if(t!==void 0&&H!=null){let rt=kl(H);Array.isArray(rt)&&(rt=rt.map(Ni=>E9(Ml(Ni)))),f(t,["tools"],rt)}let K=c(e,["toolConfig"]);if(t!==void 0&&K!=null&&f(t,["toolConfig"],C9(K)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let ve=c(e,["cachedContent"]);t!==void 0&&ve!=null&&f(t,["cachedContent"],Lr(n,ve));let De=c(e,["responseModalities"]);De!=null&&f(i,["responseModalities"],De);let Nt=c(e,["mediaResolution"]);Nt!=null&&f(i,["mediaResolution"],Nt);let pe=c(e,["speechConfig"]);if(pe!=null&&f(i,["speechConfig"],ME(pe)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let $e=c(e,["thinkingConfig"]);$e!=null&&f(i,["thinkingConfig"],$e);let wt=c(e,["imageConfig"]);return wt!=null&&f(i,["imageConfig"],Z7(wt)),i}function T7(n,e,t){let i={},r=c(e,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],en(r));let o=c(e,["temperature"]);o!=null&&f(i,["temperature"],o);let s=c(e,["topP"]);s!=null&&f(i,["topP"],s);let a=c(e,["topK"]);a!=null&&f(i,["topK"],a);let l=c(e,["candidateCount"]);l!=null&&f(i,["candidateCount"],l);let u=c(e,["maxOutputTokens"]);u!=null&&f(i,["maxOutputTokens"],u);let d=c(e,["stopSequences"]);d!=null&&f(i,["stopSequences"],d);let p=c(e,["responseLogprobs"]);p!=null&&f(i,["responseLogprobs"],p);let h=c(e,["logprobs"]);h!=null&&f(i,["logprobs"],h);let v=c(e,["presencePenalty"]);v!=null&&f(i,["presencePenalty"],v);let x=c(e,["frequencyPenalty"]);x!=null&&f(i,["frequencyPenalty"],x);let b=c(e,["seed"]);b!=null&&f(i,["seed"],b);let N=c(e,["responseMimeType"]);N!=null&&f(i,["responseMimeType"],N);let k=c(e,["responseSchema"]);k!=null&&f(i,["responseSchema"],AE(k));let U=c(e,["responseJsonSchema"]);U!=null&&f(i,["responseJsonSchema"],U);let $=c(e,["routingConfig"]);$!=null&&f(i,["routingConfig"],$);let H=c(e,["modelSelectionConfig"]);H!=null&&f(i,["modelConfig"],H);let K=c(e,["safetySettings"]);if(t!==void 0&&K!=null){let sr=K;Array.isArray(sr)&&(sr=sr.map(zm=>zm)),f(t,["safetySettings"],sr)}let ve=c(e,["tools"]);if(t!==void 0&&ve!=null){let sr=kl(ve);Array.isArray(sr)&&(sr=sr.map(zm=>eM(Ml(zm)))),f(t,["tools"],sr)}let De=c(e,["toolConfig"]);t!==void 0&&De!=null&&f(t,["toolConfig"],De);let Nt=c(e,["labels"]);t!==void 0&&Nt!=null&&f(t,["labels"],Nt);let pe=c(e,["cachedContent"]);t!==void 0&&pe!=null&&f(t,["cachedContent"],Lr(n,pe));let $e=c(e,["responseModalities"]);$e!=null&&f(i,["responseModalities"],$e);let wt=c(e,["mediaResolution"]);wt!=null&&f(i,["mediaResolution"],wt);let rt=c(e,["speechConfig"]);rt!=null&&f(i,["speechConfig"],XA(ME(rt)));let Ni=c(e,["audioTimestamp"]);Ni!=null&&f(i,["audioTimestamp"],Ni);let NE=c(e,["thinkingConfig"]);NE!=null&&f(i,["thinkingConfig"],NE);let PE=c(e,["imageConfig"]);return PE!=null&&f(i,["imageConfig"],K7(PE)),i}function EA(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["contents"]);if(r!=null){let s=ci(r);Array.isArray(s)&&(s=s.map(a=>Nm(a))),f(t,["contents"],s)}let o=c(e,["config"]);return o!=null&&f(t,["generationConfig"],S7(n,o,t)),t}function xA(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["contents"]);if(r!=null){let s=ci(r);Array.isArray(s)&&(s=s.map(a=>a)),f(t,["contents"],s)}let o=c(e,["config"]);return o!=null&&f(t,["generationConfig"],T7(n,o,t)),t}function wA(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>QG(u))),f(e,["candidates"],l)}let r=c(n,["modelVersion"]);r!=null&&f(e,["modelVersion"],r);let o=c(n,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);let s=c(n,["responseId"]);s!=null&&f(e,["responseId"],s);let a=c(n,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function SA(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["candidates"],u)}let r=c(n,["createTime"]);r!=null&&f(e,["createTime"],r);let o=c(n,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);let s=c(n,["promptFeedback"]);s!=null&&f(e,["promptFeedback"],s);let a=c(n,["responseId"]);a!=null&&f(e,["responseId"],a);let l=c(n,["usageMetadata"]);return l!=null&&f(e,["usageMetadata"],l),e}function b7(n,e){let t={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let i=c(n,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);let r=c(n,["aspectRatio"]);e!==void 0&&r!=null&&f(e,["parameters","aspectRatio"],r);let o=c(n,["guidanceScale"]);if(e!==void 0&&o!=null&&f(e,["parameters","guidanceScale"],o),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=c(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&f(e,["parameters","safetySetting"],s);let a=c(n,["personGeneration"]);e!==void 0&&a!=null&&f(e,["parameters","personGeneration"],a);let l=c(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&f(e,["parameters","includeSafetyAttributes"],l);let u=c(n,["includeRaiReason"]);e!==void 0&&u!=null&&f(e,["parameters","includeRaiReason"],u);let d=c(n,["language"]);e!==void 0&&d!=null&&f(e,["parameters","language"],d);let p=c(n,["outputMimeType"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","mimeType"],p);let h=c(n,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&f(e,["parameters","outputOptions","compressionQuality"],h),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let v=c(n,["imageSize"]);if(e!==void 0&&v!=null&&f(e,["parameters","sampleImageSize"],v),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function I7(n,e){let t={},i=c(n,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);let r=c(n,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);let o=c(n,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);let s=c(n,["aspectRatio"]);e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s);let a=c(n,["guidanceScale"]);e!==void 0&&a!=null&&f(e,["parameters","guidanceScale"],a);let l=c(n,["seed"]);e!==void 0&&l!=null&&f(e,["parameters","seed"],l);let u=c(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);let d=c(n,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);let p=c(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);let h=c(n,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);let v=c(n,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);let x=c(n,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);let b=c(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b);let N=c(n,["addWatermark"]);e!==void 0&&N!=null&&f(e,["parameters","addWatermark"],N);let k=c(n,["labels"]);e!==void 0&&k!=null&&f(e,["labels"],k);let U=c(n,["imageSize"]);e!==void 0&&U!=null&&f(e,["parameters","sampleImageSize"],U);let $=c(n,["enhancePrompt"]);return e!==void 0&&$!=null&&f(e,["parameters","enhancePrompt"],$),t}function D7(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["prompt"]);r!=null&&f(t,["instances[0]","prompt"],r);let o=c(e,["config"]);return o!=null&&b7(o,t),t}function A7(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["prompt"]);r!=null&&f(t,["instances[0]","prompt"],r);let o=c(e,["config"]);return o!=null&&I7(o,t),t}function M7(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>$7(s))),f(e,["generatedImages"],o)}let r=c(n,["positivePromptSafetyAttributes"]);return r!=null&&f(e,["positivePromptSafetyAttributes"],ZA(r)),e}function k7(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Pm(s))),f(e,["generatedImages"],o)}let r=c(n,["positivePromptSafetyAttributes"]);return r!=null&&f(e,["positivePromptSafetyAttributes"],KA(r)),e}function N7(n,e){let t={},i=c(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let r=c(n,["durationSeconds"]);if(e!==void 0&&r!=null&&f(e,["parameters","durationSeconds"],r),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let o=c(n,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);let s=c(n,["resolution"]);e!==void 0&&s!=null&&f(e,["parameters","resolution"],s);let a=c(n,["personGeneration"]);if(e!==void 0&&a!=null&&f(e,["parameters","personGeneration"],a),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);let u=c(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&f(e,["parameters","enhancePrompt"],u),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let d=c(n,["lastFrame"]);e!==void 0&&d!=null&&f(e,["instances[0]","lastFrame"],Rm(d));let p=c(n,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(v=>R9(v))),f(e,["instances[0]","referenceImages"],h)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function P7(n,e){let t={},i=c(n,["numberOfVideos"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);let r=c(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);let o=c(n,["fps"]);e!==void 0&&o!=null&&f(e,["parameters","fps"],o);let s=c(n,["durationSeconds"]);e!==void 0&&s!=null&&f(e,["parameters","durationSeconds"],s);let a=c(n,["seed"]);e!==void 0&&a!=null&&f(e,["parameters","seed"],a);let l=c(n,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);let u=c(n,["resolution"]);e!==void 0&&u!=null&&f(e,["parameters","resolution"],u);let d=c(n,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);let p=c(n,["pubsubTopic"]);e!==void 0&&p!=null&&f(e,["parameters","pubsubTopic"],p);let h=c(n,["negativePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","negativePrompt"],h);let v=c(n,["enhancePrompt"]);e!==void 0&&v!=null&&f(e,["parameters","enhancePrompt"],v);let x=c(n,["generateAudio"]);e!==void 0&&x!=null&&f(e,["parameters","generateAudio"],x);let b=c(n,["lastFrame"]);e!==void 0&&b!=null&&f(e,["instances[0]","lastFrame"],ki(b));let N=c(n,["referenceImages"]);if(e!==void 0&&N!=null){let $=N;Array.isArray($)&&($=$.map(H=>F9(H))),f(e,["instances[0]","referenceImages"],$)}let k=c(n,["mask"]);e!==void 0&&k!=null&&f(e,["instances[0]","mask"],P9(k));let U=c(n,["compressionQuality"]);return e!==void 0&&U!=null&&f(e,["parameters","compressionQuality"],U),t}function R7(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["metadata"]);i!=null&&f(e,["metadata"],i);let r=c(n,["done"]);r!=null&&f(e,["done"],r);let o=c(n,["error"]);o!=null&&f(e,["error"],o);let s=c(n,["response","generateVideoResponse"]);return s!=null&&f(e,["response"],V7(s)),e}function F7(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["metadata"]);i!=null&&f(e,["metadata"],i);let r=c(n,["done"]);r!=null&&f(e,["done"],r);let o=c(n,["error"]);o!=null&&f(e,["error"],o);let s=c(n,["response"]);return s!=null&&f(e,["response"],B7(s)),e}function L7(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["prompt"]);r!=null&&f(t,["instances[0]","prompt"],r);let o=c(e,["image"]);o!=null&&f(t,["instances[0]","image"],Rm(o));let s=c(e,["video"]);s!=null&&f(t,["instances[0]","video"],tM(s));let a=c(e,["source"]);a!=null&&q7(a,t);let l=c(e,["config"]);return l!=null&&N7(l,t),t}function O7(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["prompt"]);r!=null&&f(t,["instances[0]","prompt"],r);let o=c(e,["image"]);o!=null&&f(t,["instances[0]","image"],ki(o));let s=c(e,["video"]);s!=null&&f(t,["instances[0]","video"],nM(s));let a=c(e,["source"]);a!=null&&U7(a,t);let l=c(e,["config"]);return l!=null&&P7(l,t),t}function V7(n){let e={},t=c(n,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(s=>z7(s))),f(e,["generatedVideos"],o)}let i=c(n,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);let r=c(n,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function B7(n){let e={},t=c(n,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(s=>G7(s))),f(e,["generatedVideos"],o)}let i=c(n,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);let r=c(n,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function q7(n,e){let t={},i=c(n,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);let r=c(n,["image"]);e!==void 0&&r!=null&&f(e,["instances[0]","image"],Rm(r));let o=c(n,["video"]);return e!==void 0&&o!=null&&f(e,["instances[0]","video"],tM(o)),t}function U7(n,e){let t={},i=c(n,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);let r=c(n,["image"]);e!==void 0&&r!=null&&f(e,["instances[0]","image"],ki(r));let o=c(n,["video"]);return e!==void 0&&o!=null&&f(e,["instances[0]","video"],nM(o)),t}function $7(n){let e={},t=c(n,["_self"]);t!=null&&f(e,["image"],X7(t));let i=c(n,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);let r=c(n,["_self"]);return r!=null&&f(e,["safetyAttributes"],ZA(r)),e}function Pm(n){let e={},t=c(n,["_self"]);t!=null&&f(e,["image"],JA(t));let i=c(n,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);let r=c(n,["_self"]);r!=null&&f(e,["safetyAttributes"],KA(r));let o=c(n,["prompt"]);return o!=null&&f(e,["enhancedPrompt"],o),e}function H7(n){let e={},t=c(n,["_self"]);t!=null&&f(e,["mask"],JA(t));let i=c(n,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),f(e,["labels"],r)}return e}function z7(n){let e={},t=c(n,["video"]);return t!=null&&f(e,["video"],k9(t)),e}function G7(n){let e={},t=c(n,["_self"]);return t!=null&&f(e,["video"],N9(t)),e}function W7(n){let e={},t=c(n,["modelSelectionConfig"]);t!=null&&f(e,["modelConfig"],t);let i=c(n,["responseJsonSchema"]);i!=null&&f(e,["responseJsonSchema"],i);let r=c(n,["audioTimestamp"]);r!=null&&f(e,["audioTimestamp"],r);let o=c(n,["candidateCount"]);o!=null&&f(e,["candidateCount"],o);let s=c(n,["enableAffectiveDialog"]);s!=null&&f(e,["enableAffectiveDialog"],s);let a=c(n,["frequencyPenalty"]);a!=null&&f(e,["frequencyPenalty"],a);let l=c(n,["logprobs"]);l!=null&&f(e,["logprobs"],l);let u=c(n,["maxOutputTokens"]);u!=null&&f(e,["maxOutputTokens"],u);let d=c(n,["mediaResolution"]);d!=null&&f(e,["mediaResolution"],d);let p=c(n,["presencePenalty"]);p!=null&&f(e,["presencePenalty"],p);let h=c(n,["responseLogprobs"]);h!=null&&f(e,["responseLogprobs"],h);let v=c(n,["responseMimeType"]);v!=null&&f(e,["responseMimeType"],v);let x=c(n,["responseModalities"]);x!=null&&f(e,["responseModalities"],x);let b=c(n,["responseSchema"]);b!=null&&f(e,["responseSchema"],b);let N=c(n,["routingConfig"]);N!=null&&f(e,["routingConfig"],N);let k=c(n,["seed"]);k!=null&&f(e,["seed"],k);let U=c(n,["speechConfig"]);U!=null&&f(e,["speechConfig"],XA(U));let $=c(n,["stopSequences"]);$!=null&&f(e,["stopSequences"],$);let H=c(n,["temperature"]);H!=null&&f(e,["temperature"],H);let K=c(n,["thinkingConfig"]);K!=null&&f(e,["thinkingConfig"],K);let ve=c(n,["topK"]);ve!=null&&f(e,["topK"],ve);let De=c(n,["topP"]);if(De!=null&&f(e,["topP"],De),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Q7(n,e){let t={},i=c(e,["model"]);return i!=null&&f(t,["_url","name"],Oe(n,i)),t}function j7(n,e){let t={},i=c(e,["model"]);return i!=null&&f(t,["_url","name"],Oe(n,i)),t}function Y7(n){let e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=c(n,["enableWidget"]);return t!=null&&f(e,["enableWidget"],t),e}function J7(n){let e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=c(n,["timeRangeFilter"]);return t!=null&&f(e,["timeRangeFilter"],t),e}function Z7(n){let e={},t=c(n,["aspectRatio"]);t!=null&&f(e,["aspectRatio"],t);let i=c(n,["imageSize"]);if(i!=null&&f(e,["imageSize"],i),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function K7(n){let e={},t=c(n,["aspectRatio"]);t!=null&&f(e,["aspectRatio"],t);let i=c(n,["imageSize"]);i!=null&&f(e,["imageSize"],i);let r=c(n,["outputMimeType"]);r!=null&&f(e,["imageOutputOptions","mimeType"],r);let o=c(n,["outputCompressionQuality"]);return o!=null&&f(e,["imageOutputOptions","compressionQuality"],o),e}function X7(n){let e={},t=c(n,["bytesBase64Encoded"]);t!=null&&f(e,["imageBytes"],To(t));let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function JA(n){let e={},t=c(n,["gcsUri"]);t!=null&&f(e,["gcsUri"],t);let i=c(n,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],To(i));let r=c(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function Rm(n){let e={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let t=c(n,["imageBytes"]);t!=null&&f(e,["bytesBase64Encoded"],To(t));let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function ki(n){let e={},t=c(n,["gcsUri"]);t!=null&&f(e,["gcsUri"],t);let i=c(n,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],To(i));let r=c(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function e9(n,e,t){let i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);let o=c(e,["pageToken"]);t!==void 0&&o!=null&&f(t,["_query","pageToken"],o);let s=c(e,["filter"]);t!==void 0&&s!=null&&f(t,["_query","filter"],s);let a=c(e,["queryBase"]);return t!==void 0&&a!=null&&f(t,["_url","models_url"],$A(n,a)),i}function t9(n,e,t){let i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);let o=c(e,["pageToken"]);t!==void 0&&o!=null&&f(t,["_query","pageToken"],o);let s=c(e,["filter"]);t!==void 0&&s!=null&&f(t,["_query","filter"],s);let a=c(e,["queryBase"]);return t!==void 0&&a!=null&&f(t,["_url","models_url"],$A(n,a)),i}function n9(n,e){let t={},i=c(e,["config"]);return i!=null&&e9(n,i,t),t}function i9(n,e){let t={},i=c(e,["config"]);return i!=null&&t9(n,i,t),t}function r9(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);let r=c(n,["_self"]);if(r!=null){let o=HA(r);Array.isArray(o)&&(o=o.map(s=>sE(s))),f(e,["models"],o)}return e}function o9(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);let r=c(n,["_self"]);if(r!=null){let o=HA(r);Array.isArray(o)&&(o=o.map(s=>aE(s))),f(e,["models"],o)}return e}function s9(n){let e={},t=c(n,["maskMode"]);t!=null&&f(e,["maskMode"],t);let i=c(n,["segmentationClasses"]);i!=null&&f(e,["maskClasses"],i);let r=c(n,["maskDilation"]);return r!=null&&f(e,["dilation"],r),e}function sE(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["displayName"]);i!=null&&f(e,["displayName"],i);let r=c(n,["description"]);r!=null&&f(e,["description"],r);let o=c(n,["version"]);o!=null&&f(e,["version"],o);let s=c(n,["_self"]);s!=null&&f(e,["tunedModelInfo"],x9(s));let a=c(n,["inputTokenLimit"]);a!=null&&f(e,["inputTokenLimit"],a);let l=c(n,["outputTokenLimit"]);l!=null&&f(e,["outputTokenLimit"],l);let u=c(n,["supportedGenerationMethods"]);u!=null&&f(e,["supportedActions"],u);let d=c(n,["temperature"]);d!=null&&f(e,["temperature"],d);let p=c(n,["maxTemperature"]);p!=null&&f(e,["maxTemperature"],p);let h=c(n,["topP"]);h!=null&&f(e,["topP"],h);let v=c(n,["topK"]);v!=null&&f(e,["topK"],v);let x=c(n,["thinking"]);return x!=null&&f(e,["thinking"],x),e}function aE(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["displayName"]);i!=null&&f(e,["displayName"],i);let r=c(n,["description"]);r!=null&&f(e,["description"],r);let o=c(n,["versionId"]);o!=null&&f(e,["version"],o);let s=c(n,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>y7(h))),f(e,["endpoints"],p)}let a=c(n,["labels"]);a!=null&&f(e,["labels"],a);let l=c(n,["_self"]);l!=null&&f(e,["tunedModelInfo"],w9(l));let u=c(n,["defaultCheckpointId"]);u!=null&&f(e,["defaultCheckpointId"],u);let d=c(n,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),f(e,["checkpoints"],p)}return e}function a9(n){let e={},t=c(n,["mediaResolution"]);t!=null&&f(e,["mediaResolution"],t);let i=c(n,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);let r=c(n,["executableCode"]);r!=null&&f(e,["executableCode"],r);let o=c(n,["fileData"]);o!=null&&f(e,["fileData"],C7(o));let s=c(n,["functionCall"]);s!=null&&f(e,["functionCall"],E7(s));let a=c(n,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);let l=c(n,["inlineData"]);l!=null&&f(e,["inlineData"],WG(l));let u=c(n,["text"]);u!=null&&f(e,["text"],u);let d=c(n,["thought"]);d!=null&&f(e,["thought"],d);let p=c(n,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);let h=c(n,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function l9(n){let e={},t=c(n,["productImage"]);return t!=null&&f(e,["image"],ki(t)),e}function u9(n,e){let t={},i=c(n,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);let r=c(n,["baseSteps"]);e!==void 0&&r!=null&&f(e,["parameters","baseSteps"],r);let o=c(n,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);let s=c(n,["seed"]);e!==void 0&&s!=null&&f(e,["parameters","seed"],s);let a=c(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);let l=c(n,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);let u=c(n,["addWatermark"]);e!==void 0&&u!=null&&f(e,["parameters","addWatermark"],u);let d=c(n,["outputMimeType"]);e!==void 0&&d!=null&&f(e,["parameters","outputOptions","mimeType"],d);let p=c(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","compressionQuality"],p);let h=c(n,["enhancePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","enhancePrompt"],h);let v=c(n,["labels"]);return e!==void 0&&v!=null&&f(e,["labels"],v),t}function c9(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["source"]);r!=null&&f9(r,t);let o=c(e,["config"]);return o!=null&&u9(o,t),t}function d9(n){let e={},t=c(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>Pm(r))),f(e,["generatedImages"],i)}return e}function f9(n,e){let t={},i=c(n,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);let r=c(n,["personImage"]);e!==void 0&&r!=null&&f(e,["instances[0]","personImage","image"],ki(r));let o=c(n,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>l9(a))),f(e,["instances[0]","productImages"],s)}return t}function p9(n){let e={},t=c(n,["referenceImage"]);t!=null&&f(e,["referenceImage"],ki(t));let i=c(n,["referenceId"]);i!=null&&f(e,["referenceId"],i);let r=c(n,["referenceType"]);r!=null&&f(e,["referenceType"],r);let o=c(n,["maskImageConfig"]);o!=null&&f(e,["maskImageConfig"],s9(o));let s=c(n,["controlImageConfig"]);s!=null&&f(e,["controlImageConfig"],XG(s));let a=c(n,["styleImageConfig"]);a!=null&&f(e,["styleImageConfig"],a);let l=c(n,["subjectImageConfig"]);return l!=null&&f(e,["subjectImageConfig"],l),e}function ZA(n){let e={},t=c(n,["safetyAttributes","categories"]);t!=null&&f(e,["categories"],t);let i=c(n,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);let r=c(n,["contentType"]);return r!=null&&f(e,["contentType"],r),e}function KA(n){let e={},t=c(n,["safetyAttributes","categories"]);t!=null&&f(e,["categories"],t);let i=c(n,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);let r=c(n,["contentType"]);return r!=null&&f(e,["contentType"],r),e}function h9(n){let e={},t=c(n,["category"]);if(t!=null&&f(e,["category"],t),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let i=c(n,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function m9(n){let e={},t=c(n,["image"]);return t!=null&&f(e,["image"],ki(t)),e}function g9(n,e){let t={},i=c(n,["mode"]);e!==void 0&&i!=null&&f(e,["parameters","mode"],i);let r=c(n,["maxPredictions"]);e!==void 0&&r!=null&&f(e,["parameters","maxPredictions"],r);let o=c(n,["confidenceThreshold"]);e!==void 0&&o!=null&&f(e,["parameters","confidenceThreshold"],o);let s=c(n,["maskDilation"]);e!==void 0&&s!=null&&f(e,["parameters","maskDilation"],s);let a=c(n,["binaryColorThreshold"]);e!==void 0&&a!=null&&f(e,["parameters","binaryColorThreshold"],a);let l=c(n,["labels"]);return e!==void 0&&l!=null&&f(e,["labels"],l),t}function v9(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["source"]);r!=null&&y9(r,t);let o=c(e,["config"]);return o!=null&&g9(o,t),t}function _9(n){let e={},t=c(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>H7(r))),f(e,["generatedMasks"],i)}return e}function y9(n,e){let t={},i=c(n,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);let r=c(n,["image"]);e!==void 0&&r!=null&&f(e,["instances[0]","image"],ki(r));let o=c(n,["scribbleImage"]);return e!==void 0&&o!=null&&f(e,["instances[0]","scribble"],m9(o)),t}function XA(n){let e={},t=c(n,["languageCode"]);t!=null&&f(e,["languageCode"],t);let i=c(n,["voiceConfig"]);if(i!=null&&f(e,["voiceConfig"],i),c(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function C9(n){let e={},t=c(n,["functionCallingConfig"]);t!=null&&f(e,["functionCallingConfig"],x7(t));let i=c(n,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],i),e}function E9(n){let e={},t=c(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let i=c(n,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);let r=c(n,["computerUse"]);r!=null&&f(e,["computerUse"],r);let o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);let s=c(n,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=c(n,["googleMaps"]);a!=null&&f(e,["googleMaps"],Y7(a));let l=c(n,["googleSearch"]);l!=null&&f(e,["googleSearch"],J7(l));let u=c(n,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function eM(n){let e={},t=c(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>w7(h))),f(e,["functionDeclarations"],p)}let i=c(n,["retrieval"]);i!=null&&f(e,["retrieval"],i);let r=c(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);let o=c(n,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=c(n,["codeExecution"]);s!=null&&f(e,["codeExecution"],s);let a=c(n,["enterpriseWebSearch"]);a!=null&&f(e,["enterpriseWebSearch"],a);let l=c(n,["googleMaps"]);l!=null&&f(e,["googleMaps"],l);let u=c(n,["googleSearch"]);u!=null&&f(e,["googleSearch"],u);let d=c(n,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function x9(n){let e={},t=c(n,["baseModel"]);t!=null&&f(e,["baseModel"],t);let i=c(n,["createTime"]);i!=null&&f(e,["createTime"],i);let r=c(n,["updateTime"]);return r!=null&&f(e,["updateTime"],r),e}function w9(n){let e={},t=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&f(e,["baseModel"],t);let i=c(n,["createTime"]);i!=null&&f(e,["createTime"],i);let r=c(n,["updateTime"]);return r!=null&&f(e,["updateTime"],r),e}function S9(n,e){let t={},i=c(n,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);let r=c(n,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);let o=c(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&f(e,["defaultCheckpointId"],o),t}function T9(n,e){let t={},i=c(n,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);let r=c(n,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);let o=c(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&f(e,["defaultCheckpointId"],o),t}function b9(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","name"],Oe(n,i));let r=c(e,["config"]);return r!=null&&S9(r,t),t}function I9(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["config"]);return r!=null&&T9(r,t),t}function D9(n,e){let t={},i=c(n,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);let r=c(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&f(e,["parameters","safetySetting"],r);let o=c(n,["personGeneration"]);e!==void 0&&o!=null&&f(e,["parameters","personGeneration"],o);let s=c(n,["includeRaiReason"]);e!==void 0&&s!=null&&f(e,["parameters","includeRaiReason"],s);let a=c(n,["outputMimeType"]);e!==void 0&&a!=null&&f(e,["parameters","outputOptions","mimeType"],a);let l=c(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&f(e,["parameters","outputOptions","compressionQuality"],l);let u=c(n,["enhanceInputImage"]);e!==void 0&&u!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],u);let d=c(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],d);let p=c(n,["labels"]);e!==void 0&&p!=null&&f(e,["labels"],p);let h=c(n,["numberOfImages"]);e!==void 0&&h!=null&&f(e,["parameters","sampleCount"],h);let v=c(n,["mode"]);return e!==void 0&&v!=null&&f(e,["parameters","mode"],v),t}function A9(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["_url","model"],Oe(n,i));let r=c(e,["image"]);r!=null&&f(t,["instances[0]","image"],ki(r));let o=c(e,["upscaleFactor"]);o!=null&&f(t,["parameters","upscaleConfig","upscaleFactor"],o);let s=c(e,["config"]);return s!=null&&D9(s,t),t}function M9(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Pm(o))),f(e,["generatedImages"],r)}return e}function k9(n){let e={},t=c(n,["uri"]);t!=null&&f(e,["uri"],t);let i=c(n,["encodedVideo"]);i!=null&&f(e,["videoBytes"],To(i));let r=c(n,["encoding"]);return r!=null&&f(e,["mimeType"],r),e}function N9(n){let e={},t=c(n,["gcsUri"]);t!=null&&f(e,["uri"],t);let i=c(n,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],To(i));let r=c(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function P9(n){let e={},t=c(n,["image"]);t!=null&&f(e,["_self"],ki(t));let i=c(n,["maskMode"]);return i!=null&&f(e,["maskMode"],i),e}function R9(n){let e={},t=c(n,["image"]);t!=null&&f(e,["image"],Rm(t));let i=c(n,["referenceType"]);return i!=null&&f(e,["referenceType"],i),e}function F9(n){let e={},t=c(n,["image"]);t!=null&&f(e,["image"],ki(t));let i=c(n,["referenceType"]);return i!=null&&f(e,["referenceType"],i),e}function tM(n){let e={},t=c(n,["uri"]);t!=null&&f(e,["uri"],t);let i=c(n,["videoBytes"]);i!=null&&f(e,["encodedVideo"],To(i));let r=c(n,["mimeType"]);return r!=null&&f(e,["encoding"],r),e}function nM(n){let e={},t=c(n,["uri"]);t!=null&&f(e,["gcsUri"],t);let i=c(n,["videoBytes"]);i!=null&&f(e,["bytesBase64Encoded"],To(i));let r=c(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}var L9="Content-Type",O9="X-Server-Timeout",V9="User-Agent",lE="x-goog-api-client",B9="1.30.0",q9=`google-genai-sdk/${B9}`,U9="v1beta1",$9="v1beta",TA=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/,uE=class{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:U9,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:$9,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){let r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(let[s,a]of Object.entries(e.queryParams))r.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){let i=JSON.parse(JSON.stringify(e));for(let[r,o]of Object.entries(t))typeof o=="object"?i[r]=Object.assign(Object.assign({},i[r]),o):o!==void 0&&(i[r]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){let o=new AbortController,s=o.signal;if(t.timeout&&t?.timeout>0){let a=setTimeout(()=>o.abort(),t.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{o.abort()}),e.signal=s}return t&&t.extraBody!==null&&H9(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await bA(r),new md(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await bA(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return Dl(this,arguments,function*(){let r=(t=e?.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";for(;;){let{done:a,value:l}=yield tt(r.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let u=o.decode(l,{stream:!0});try{let p=JSON.parse(u);if("error"in p){let h=JSON.parse(JSON.stringify(p.error)),v=h.status,x=h.code,b=`got status: ${v}. ${JSON.stringify(p)}`;if(x>=400&&x<600)throw new Mm({message:b,status:x})}}catch(p){if(p.name==="ApiError")throw p}s+=u;let d=s.match(TA);for(;d;){let p=d[1];try{let h=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield tt(new md(h)),s=s.slice(d[0].length),d=s.match(TA)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){let e={},t=q9+" "+this.clientOptions.userAgentExtra;return e[V9]=t,e[lE]=t,e[L9]="application/json",e}async getHeadersInternal(e,t){let i=new Headers;if(e&&e.headers){for(let[r,o]of Object.entries(e.headers))i.append(r,o);e.timeout&&e.timeout>0&&i.append(O9,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;let r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let o=this.clientOptions.uploader,s=await o.stat(e);r.sizeBytes=String(s.size);let a=(i=t?.mimeType)!==null&&i!==void 0?i:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;let l={file:r},u=this.getFileName(e),d=Q("upload/v1beta/files",l._url),p=await this.fetchUploadUrl(d,r.sizeBytes,r.mimeType,u,l,t?.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,t,i){var r;let o=this.clientOptions.uploader,s=await o.stat(t),a=String(s.size),l=(r=i?.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),p={};i?.customMetadata&&(p.customMetadata=i.customMetadata),i?.chunkingConfig&&(p.chunkingConfig=i.chunkingConfig);let h=await this.fetchUploadUrl(u,a,l,d,p,i?.httpOptions);return o.uploadToFileSearchStore(t,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};let u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!u?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let d=(a=u?.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}};async function bA(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){let t=n.status,i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};let r=JSON.stringify(i);throw t>=400&&t<600?new Mm({message:r,status:t}):new Error(r)}}function H9(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{let o=JSON.parse(n.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))t=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,s){let a=Object.assign({},o);for(let l in s)if(Object.prototype.hasOwnProperty.call(s,l)){let u=s[l],d=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?a[l]=i(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}let r=i(t,e);n.body=JSON.stringify(r)}var z9="mcp_used/unknown",G9=!1;function iM(n){for(let e of n)if(W9(e)||typeof e=="object"&&"inputSchema"in e)return!0;return G9}function rM(n){var e;let t=(e=n[lE])!==null&&e!==void 0?e:"";n[lE]=(t+` ${z9}`).trimStart()}function W9(n){return n!==null&&typeof n=="object"&&n instanceof cE}function Q9(n,e=100){return Dl(this,arguments,function*(){let i,r=0;for(;r<e;){let o=yield tt(n.listTools({cursor:i}));for(let s of o.tools)yield yield tt(s),r++;if(!o.nextCursor)break;i=o.nextCursor}})}var cE=class n{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new n(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;let o={},s=[];for(let d of this.mcpClients)try{for(var a=!0,l=(t=void 0,hd(Q9(d))),u;u=await l.next(),e=u.done,!e;a=!0){r=u.value,a=!1;let p=r;s.push(p);let h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(p){t={error:p}}finally{try{!a&&!e&&(i=l.return)&&await i.call(l)}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Gz(this.mcpTools,this.config)}async callTool(e){await this.initialize();let t=[];for(let i of e)if(i.name in this.functionNameToMcpClient){let r=this.functionNameToMcpClient[i.name],o;this.config.timeout&&(o={timeout:this.config.timeout});let s=await r.callTool({name:i.name,arguments:i.args},void 0,o);t.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return t}};async function j9(n,e,t){let i=new ZC,r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}var dE=class{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=J9(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`,u=()=>{},d=new Promise($=>{u=$}),p=e.callbacks,h=function(){u({})},v=this.apiClient,x={onopen:h,onmessage:$=>{j9(v,p.onmessage,$)},onerror:(t=p?.onerror)!==null&&t!==void 0?t:function($){},onclose:(i=p?.onclose)!==null&&i!==void 0?i:function($){}},b=this.webSocketFactory.create(l,Y9(s),x);b.connect(),await d;let U={setup:{model:Oe(this.apiClient,e.model)}};return b.send(JSON.stringify(U)),new fE(b,this.apiClient)}},fE=class{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let t=OG(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let t=LG(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){let t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(pd.PLAY)}pause(){this.sendPlaybackControl(pd.PAUSE)}stop(){this.sendPlaybackControl(pd.STOP)}resetContext(){this.sendPlaybackControl(pd.RESET_CONTEXT)}close(){this.conn.close()}};function Y9(n){let e={};return n.forEach((t,i)=>{e[i]=t}),e}function J9(n){let e=new Headers;for(let[t,i]of Object.entries(n))e.append(t,i);return e}var Z9="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function K9(n,e,t){let i=new JC,r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;let o=JSON.parse(r);if(n.isVertexAI()){let s=qG(o);Object.assign(i,s)}else Object.assign(i,o);e(i)}var pE=class{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new dE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d,p=this.apiClient.getHeaders();e.config&&e.config.tools&&iM(e.config.tools)&&rM(p);let h=tW(p);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{let pe=this.apiClient.getApiKey(),$e="BidiGenerateContent",wt="key";pe?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$e="BidiGenerateContentConstrained",wt="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${$e}?${wt}=${pe}`}let v=()=>{},x=new Promise(pe=>{v=pe}),b=e.callbacks,N=function(){var pe;(pe=b?.onopen)===null||pe===void 0||pe.call(b),v({})},k=this.apiClient,U={onopen:N,onmessage:pe=>{K9(k,b.onmessage,pe)},onerror:(t=b?.onerror)!==null&&t!==void 0?t:function(pe){},onclose:(i=b?.onclose)!==null&&i!==void 0?i:function(pe){}},$=this.webSocketFactory.create(d,eW(h),U);$.connect(),await x;let H=Oe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){let pe=this.apiClient.getProject(),$e=this.apiClient.getLocation();H=`projects/${pe}/locations/${$e}/`+H}let K={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[OC.AUDIO]}:e.config.responseModalities=[OC.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let ve=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],De=[];for(let pe of ve)if(this.isCallableTool(pe)){let $e=pe;De.push(await $e.tool())}else De.push(pe);De.length>0&&(e.config.tools=De);let Nt={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?K=FG(this.apiClient,Nt):K=RG(this.apiClient,Nt),delete K.config,$.send(JSON.stringify(K)),new hE($,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},X9={turnComplete:!0},hE=class{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=ci(t.turns),e.isVertexAI()||(i=i.map(r=>Nm(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(let o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Z9)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},X9),e);let t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:BG(e)}:t={realtimeInput:VG(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}};function eW(n){let e={};return n.forEach((t,i)=>{e[i]=t}),e}function tW(n){let e=new Headers;for(let[t,i]of Object.entries(n))e.append(t,i);return e}var IA=10;function DA(n){var e,t,i;if(!((e=n?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(let s of(t=n?.tools)!==null&&t!==void 0?t:[])if(Al(s)){r=!0;break}if(!r)return!0;let o=(i=n?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Al(n){return"callTool"in n&&typeof n.callTool=="function"}function nW(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Al(r)))!==null&&i!==void 0?i:!1}function AA(n){var e;let t=[];return!((e=n?.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(Al(i))return;let o=i;o.functionDeclarations&&o.functionDeclarations.length>0&&t.push(r)}),t}function MA(n){var e;return!(!((e=n?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var mE=class extends Mi{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,o,s,a;let l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!nW(t)||DA(t.config))return await this.generateContentInternal(l);let u=AA(t);if(u.length>0){let b=u.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,p,h=ci(l.contents),v=(o=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:IA,x=0;for(;x<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){let b=d.candidates[0].content,N=[];for(let k of(a=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Al(k)){let $=await k.callTool(d.functionCalls);N.push(...$)}x++,p={role:"user",parts:N},l.contents=ci(l.contents),l.contents.push(b),l.contents.push(p),MA(l.config)&&(h.push(b),h.push(p))}return MA(l.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async t=>{var i,r,o,s,a;if(this.maybeMoveToResponseJsonSchem(t),DA(t.config)){let p=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(p)}let l=AA(t);if(l.length>0){let p=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let u=(o=(r=(i=t?.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(a=(s=t?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let o,s=[];if(i?.generatedImages)for(let l of i.generatedImages)l&&l?.safetyAttributes&&((r=l?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?o=l?.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:i.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},a}),this.list=async t=>{var i;let s={config:Object.assign(Object.assign({},{queryBase:!0}),t?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Fr(bo.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async t=>{let i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));let r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,o,s,a,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((s=(o=t.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=t.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;let o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;let s=await Promise.all(o.map(async l=>Al(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&iM(e.config.tools)){let l=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{},u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),rM(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var t,i,r;let o=new Map;for(let s of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Al(s)){let a=s,l=await a.tool();for(let u of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var t,i,r;let o=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:IA,s=!1,a=0,l=await this.initAfcToolsMap(e);return(function(u,d,p){var h,v;return Dl(this,arguments,function*(){for(var x,b,N,k;a<o;){s&&(a++,s=!1);let K=yield tt(u.processParamsMaybeAddMcpUsage(p)),ve=yield tt(u.generateContentStreamInternal(K)),De=[],Nt=[];try{for(var U=!0,$=(b=void 0,hd(ve)),H;H=yield tt($.next()),x=H.done,!x;U=!0){k=H.value,U=!1;let pe=k;if(yield yield tt(pe),pe.candidates&&(!((h=pe.candidates[0])===null||h===void 0)&&h.content)){Nt.push(pe.candidates[0].content);for(let $e of(v=pe.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(a<o&&$e.functionCall){if(!$e.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has($e.functionCall.name)){let wt=yield tt(d.get($e.functionCall.name).callTool([$e.functionCall]));De.push(...wt)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${$e.functionCall.name}`)}}}}catch(pe){b={error:pe}}finally{try{!U&&!x&&(N=$.return)&&(yield tt(N.call($)))}finally{if(b)throw b.error}}if(De.length>0){s=!0;let pe=new Gs;pe.candidates=[{content:{role:"user",parts:De}}],yield yield tt(pe);let $e=[];$e.push(...Nt),$e.push({role:"user",parts:De});let wt=ci(p.contents).concat($e);p.contents=wt}else break}})})(this,l,e)}async generateContentInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=xA(this.apiClient,e);return a=Q("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=SA(d),h=new Gs;return Object.assign(h,p),h})}else{let u=EA(this.apiClient,e);return a=Q("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=wA(d),h=new Gs;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=xA(this.apiClient,e);return a=Q("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Dl(this,arguments,function*(){var h,v,x,b;try{for(var N=!0,k=hd(p),U;U=yield tt(k.next()),h=U.done,!h;N=!0){b=U.value,N=!1;let $=b,H=SA(yield tt($.json()));H.sdkHttpResponse={headers:$.headers};let K=new Gs;Object.assign(K,H),yield yield tt(K)}}catch($){v={error:$}}finally{try{!N&&!h&&(x=k.return)&&(yield tt(x.call(k)))}finally{if(v)throw v.error}}})})}else{let u=EA(this.apiClient,e);return a=Q("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Dl(this,arguments,function*(){var h,v,x,b;try{for(var N=!0,k=hd(p),U;U=yield tt(k.next()),h=U.done,!h;N=!0){b=U.value,N=!1;let $=b,H=wA(yield tt($.json()));H.sdkHttpResponse={headers:$.headers};let K=new Gs;Object.assign(K,H),yield yield tt(K)}}catch($){v={error:$}}finally{try{!N&&!h&&(x=k.return)&&(yield tt(x.call(k)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=g7(this.apiClient,e);return a=Q("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=_7(d),h=new ym;return Object.assign(h,p),h})}else{let u=m7(this.apiClient,e);return a=Q("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=v7(d),h=new ym;return Object.assign(h,p),h})}}async generateImagesInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=A7(this.apiClient,e);return a=Q("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=k7(d),h=new Cm;return Object.assign(h,p),h})}else{let u=D7(this.apiClient,e);return a=Q("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=M7(d),h=new Cm;return Object.assign(h,p),h})}}async editImageInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI()){let a=d7(this.apiClient,e);return o=Q("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{let u=f7(l),d=new VC;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI()){let a=A9(this.apiClient,e);return o=Q("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{let u=M9(l),d=new BC;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI()){let a=c9(this.apiClient,e);return o=Q("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{let u=d9(l),d=new qC;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI()){let a=v9(this.apiClient,e);return o=Q("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{let u=_9(l),d=new UC;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=j7(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>aE(d))}else{let u=Q7(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>sE(d))}}async listInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=i9(this.apiClient,e);return a=Q("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=o9(d),h=new Em;return Object.assign(h,p),h})}else{let u=n9(this.apiClient,e);return a=Q("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=r9(d),h=new Em;return Object.assign(h,p),h})}}async update(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=I9(this.apiClient,e);return a=Q("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>aE(d))}else{let u=b9(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>sE(d))}}async delete(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=a7(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=u7(d),h=new xm;return Object.assign(h,p),h})}else{let u=s7(this.apiClient,e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=l7(d),h=new xm;return Object.assign(h,p),h})}}async countTokens(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=i7(this.apiClient,e);return a=Q("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=o7(d),h=new wm;return Object.assign(h,p),h})}else{let u=n7(this.apiClient,e);return a=Q("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=r7(d),h=new wm;return Object.assign(h,p),h})}}async computeTokens(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI()){let a=YG(this.apiClient,e);return o=Q("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{let u=JG(l),d=new $C;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=O7(this.apiClient,e);return a=Q("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{let p=F7(d),h=new Sm;return Object.assign(h,p),h})}else{let u=L7(this.apiClient,e);return a=Q("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{let p=R7(d),h=new Sm;return Object.assign(h,p),h})}}};var gE=class extends Mi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=t.name.split("/operations/")[0],o;i&&"httpOptions"in i&&(o=i.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){let t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=t.name.split("/operations/")[0],o;i&&"httpOptions"in i&&(o=i.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=Nz(e);return a=Q("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s}else{let u=kz(e);return a=Q("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI()){let a=Sz(e);return o=Q("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}};function iW(n){let e={},t=c(n,["data"]);if(t!=null&&f(e,["data"],t),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function rW(n){let e={},t=c(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>pW(o))),f(e,["parts"],r)}let i=c(n,["role"]);return i!=null&&f(e,["role"],i),e}function oW(n,e,t){let i={},r=c(e,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);let o=c(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&f(t,["newSessionExpireTime"],o);let s=c(e,["uses"]);t!==void 0&&s!=null&&f(t,["uses"],s);let a=c(e,["liveConnectConstraints"]);t!==void 0&&a!=null&&f(t,["bidiGenerateContentSetup"],fW(n,a));let l=c(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&f(t,["fieldMask"],l),i}function sW(n,e){let t={},i=c(e,["config"]);return i!=null&&f(t,["config"],oW(n,i,t)),t}function aW(n){let e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=c(n,["fileUri"]);t!=null&&f(e,["fileUri"],t);let i=c(n,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function lW(n){let e={},t=c(n,["id"]);t!=null&&f(e,["id"],t);let i=c(n,["args"]);i!=null&&f(e,["args"],i);let r=c(n,["name"]);if(r!=null&&f(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uW(n){let e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=c(n,["enableWidget"]);return t!=null&&f(e,["enableWidget"],t),e}function cW(n){let e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=c(n,["timeRangeFilter"]);return t!=null&&f(e,["timeRangeFilter"],t),e}function dW(n,e){let t={},i=c(n,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);let r=c(n,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);let o=c(n,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);let s=c(n,["topP"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","topP"],s);let a=c(n,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);let l=c(n,["maxOutputTokens"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","maxOutputTokens"],l);let u=c(n,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);let d=c(n,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);let p=c(n,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],kE(p));let h=c(n,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);let v=c(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],v);let x=c(n,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],rW(en(x)));let b=c(n,["tools"]);if(e!==void 0&&b!=null){let ve=kl(b);Array.isArray(ve)&&(ve=ve.map(De=>mW(Ml(De)))),f(e,["setup","tools"],ve)}let N=c(n,["sessionResumption"]);e!==void 0&&N!=null&&f(e,["setup","sessionResumption"],hW(N));let k=c(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","inputAudioTranscription"],k);let U=c(n,["outputAudioTranscription"]);e!==void 0&&U!=null&&f(e,["setup","outputAudioTranscription"],U);let $=c(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&f(e,["setup","realtimeInputConfig"],$);let H=c(n,["contextWindowCompression"]);e!==void 0&&H!=null&&f(e,["setup","contextWindowCompression"],H);let K=c(n,["proactivity"]);return e!==void 0&&K!=null&&f(e,["setup","proactivity"],K),t}function fW(n,e){let t={},i=c(e,["model"]);i!=null&&f(t,["setup","model"],Oe(n,i));let r=c(e,["config"]);return r!=null&&f(t,["config"],dW(r,t)),t}function pW(n){let e={},t=c(n,["mediaResolution"]);t!=null&&f(e,["mediaResolution"],t);let i=c(n,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);let r=c(n,["executableCode"]);r!=null&&f(e,["executableCode"],r);let o=c(n,["fileData"]);o!=null&&f(e,["fileData"],aW(o));let s=c(n,["functionCall"]);s!=null&&f(e,["functionCall"],lW(s));let a=c(n,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);let l=c(n,["inlineData"]);l!=null&&f(e,["inlineData"],iW(l));let u=c(n,["text"]);u!=null&&f(e,["text"],u);let d=c(n,["thought"]);d!=null&&f(e,["thought"],d);let p=c(n,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);let h=c(n,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function hW(n){let e={},t=c(n,["handle"]);if(t!=null&&f(e,["handle"],t),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function mW(n){let e={},t=c(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let i=c(n,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);let r=c(n,["computerUse"]);r!=null&&f(e,["computerUse"],r);let o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);let s=c(n,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=c(n,["googleMaps"]);a!=null&&f(e,["googleMaps"],uW(a));let l=c(n,["googleSearch"]);l!=null&&f(e,["googleSearch"],cW(l));let u=c(n,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function gW(n){let e=[];for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)){let i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){let r=Object.keys(i).map(o=>`${t}.${o}`);e.push(...r)}else e.push(t)}return e.join(",")}function vW(n,e){let t=null,i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){let o=i.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;let r=n.fieldMask;if(t){let o=gW(t);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)o?n.fieldMask=o:delete n.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],a=[];r.length>0&&(a=r.map(u=>s.includes(u)?`generationConfig.${u}`:u));let l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}var vE=class extends Mi{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let a=sW(this.apiClient,e);o=Q("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;let l=vW(a,e.config);return r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}};function _W(n,e){let t={},i=c(n,["displayName"]);return e!==void 0&&i!=null&&f(e,["displayName"],i),t}function yW(n){let e={},t=c(n,["config"]);return t!=null&&_W(t,e),e}function CW(n,e){let t={},i=c(n,["force"]);return e!==void 0&&i!=null&&f(e,["_query","force"],i),t}function EW(n){let e={},t=c(n,["name"]);t!=null&&f(e,["_url","name"],t);let i=c(n,["config"]);return i!=null&&CW(i,e),e}function xW(n){let e={},t=c(n,["name"]);return t!=null&&f(e,["_url","name"],t),e}function wW(n,e){let t={},i=c(n,["customMetadata"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["customMetadata"],o)}let r=c(n,["chunkingConfig"]);return e!==void 0&&r!=null&&f(e,["chunkingConfig"],r),t}function SW(n){let e={},t=c(n,["name"]);t!=null&&f(e,["name"],t);let i=c(n,["metadata"]);i!=null&&f(e,["metadata"],i);let r=c(n,["done"]);r!=null&&f(e,["done"],r);let o=c(n,["error"]);o!=null&&f(e,["error"],o);let s=c(n,["response"]);return s!=null&&f(e,["response"],bW(s)),e}function TW(n){let e={},t=c(n,["fileSearchStoreName"]);t!=null&&f(e,["_url","file_search_store_name"],t);let i=c(n,["fileName"]);i!=null&&f(e,["fileName"],i);let r=c(n,["config"]);return r!=null&&wW(r,e),e}function bW(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["parent"]);i!=null&&f(e,["parent"],i);let r=c(n,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function IW(n,e){let t={},i=c(n,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let r=c(n,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),t}function DW(n){let e={},t=c(n,["config"]);return t!=null&&IW(t,e),e}function AW(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);let r=c(n,["fileSearchStores"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["fileSearchStores"],o)}return e}function MW(n,e){let t={},i=c(n,["mimeType"]);e!==void 0&&i!=null&&f(e,["mimeType"],i);let r=c(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);let o=c(n,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["customMetadata"],a)}let s=c(n,["chunkingConfig"]);return e!==void 0&&s!=null&&f(e,["chunkingConfig"],s),t}function kW(n){let e={},t=c(n,["fileSearchStoreName"]);t!=null&&f(e,["_url","file_search_store_name"],t);let i=c(n,["config"]);return i!=null&&MW(i,e),e}function NW(n){let e={},t=c(n,["sdkHttpResponse"]);return t!=null&&f(e,["sdkHttpResponse"],t),e}function PW(n,e){let t={},i=c(n,["force"]);return e!==void 0&&i!=null&&f(e,["_query","force"],i),t}function RW(n){let e={},t=c(n,["name"]);t!=null&&f(e,["_url","name"],t);let i=c(n,["config"]);return i!=null&&PW(i,e),e}function FW(n){let e={},t=c(n,["name"]);return t!=null&&f(e,["_url","name"],t),e}function LW(n,e){let t={},i=c(n,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let r=c(n,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),t}function OW(n){let e={},t=c(n,["parent"]);t!=null&&f(e,["_url","parent"],t);let i=c(n,["config"]);return i!=null&&LW(i,e),e}function VW(n){let e={},t=c(n,["sdkHttpResponse"]);t!=null&&f(e,["sdkHttpResponse"],t);let i=c(n,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);let r=c(n,["documents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["documents"],o)}return e}var _E=class extends Mi{constructor(e){super(),this.apiClient=e,this.list=async t=>new Fr(bo.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=FW(e);return o=Q("{name}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=RW(e);r=Q("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=OW(e);return o=Q("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{let u=VW(l),d=new HC;return Object.assign(d,u),d})}}};var yE=class extends Mi{constructor(e,t=new _E(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new Fr(bo.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=yW(e);return o=Q("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=xW(e);return o=Q("{name}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=EW(e);r=Q("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=DW(e);return o=Q("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{let u=AW(l),d=new zC;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=kW(e);return o=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{let u=NW(l),d=new GC;return Object.assign(d,u),d})}}async importFile(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=TW(e);return o=Q("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{let u=SW(l),d=new WC;return Object.assign(d,u),d})}}};function BW(n,e){let t={},i=c(n,["name"]);return i!=null&&f(t,["_url","name"],i),t}function qW(n,e){let t={},i=c(n,["name"]);return i!=null&&f(t,["_url","name"],i),t}function UW(n,e,t){let i={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let r=c(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&f(e,["displayName"],r),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let o=c(n,["epochCount"]);e!==void 0&&o!=null&&f(e,["tuningTask","hyperparameters","epochCount"],o);let s=c(n,["learningRateMultiplier"]);if(s!=null&&f(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let a=c(n,["batchSize"]);e!==void 0&&a!=null&&f(e,["tuningTask","hyperparameters","batchSize"],a);let l=c(n,["learningRate"]);if(e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","learningRate"],l),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function $W(n,e,t){let i={},r=c(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let v=c(n,["validationDataset"]);e!==void 0&&v!=null&&f(e,["supervisedTuningSpec"],kA(v))}else if(r==="PREFERENCE_TUNING"){let v=c(n,["validationDataset"]);e!==void 0&&v!=null&&f(e,["preferenceOptimizationSpec"],kA(v))}let o=c(n,["tunedModelDisplayName"]);e!==void 0&&o!=null&&f(e,["tunedModelDisplayName"],o);let s=c(n,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);let a=c(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){let v=c(n,["epochCount"]);e!==void 0&&v!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(a==="PREFERENCE_TUNING"){let v=c(n,["epochCount"]);e!==void 0&&v!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=c(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let v=c(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){let v=c(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=c(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let v=c(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){let v=c(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=c(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let v=c(n,["adapterSize"]);e!==void 0&&v!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){let v=c(n,["adapterSize"]);e!==void 0&&v!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let p=c(n,["labels"]);e!==void 0&&p!=null&&f(e,["labels"],p);let h=c(n,["beta"]);return e!==void 0&&h!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),i}function HW(n,e){let t={},i=c(n,["baseModel"]);i!=null&&f(t,["baseModel"],i);let r=c(n,["preTunedModel"]);r!=null&&f(t,["preTunedModel"],r);let o=c(n,["trainingDataset"]);o!=null&&eQ(o);let s=c(n,["config"]);return s!=null&&UW(s,t),t}function zW(n,e){let t={},i=c(n,["baseModel"]);i!=null&&f(t,["baseModel"],i);let r=c(n,["preTunedModel"]);r!=null&&f(t,["preTunedModel"],r);let o=c(n,["trainingDataset"]);o!=null&&tQ(o,t,e);let s=c(n,["config"]);return s!=null&&$W(s,t,e),t}function GW(n,e){let t={},i=c(n,["name"]);return i!=null&&f(t,["_url","name"],i),t}function WW(n,e){let t={},i=c(n,["name"]);return i!=null&&f(t,["_url","name"],i),t}function QW(n,e,t){let i={},r=c(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let o=c(n,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);let s=c(n,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),i}function jW(n,e,t){let i={},r=c(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let o=c(n,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);let s=c(n,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),i}function YW(n,e){let t={},i=c(n,["config"]);return i!=null&&QW(i,t),t}function JW(n,e){let t={},i=c(n,["config"]);return i!=null&&jW(i,t),t}function ZW(n,e){let t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);let r=c(n,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);let o=c(n,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>oM(a))),f(t,["tuningJobs"],s)}return t}function KW(n,e){let t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);let r=c(n,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);let o=c(n,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>CE(a))),f(t,["tuningJobs"],s)}return t}function XW(n,e){let t={},i=c(n,["name"]);i!=null&&f(t,["model"],i);let r=c(n,["name"]);return r!=null&&f(t,["endpoint"],r),t}function eQ(n,e){let t={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let i=c(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),f(t,["examples","examples"],r)}return t}function tQ(n,e,t){let i={},r=c(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let s=c(n,["gcsUri"]);e!==void 0&&s!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){let s=c(n,["gcsUri"]);e!==void 0&&s!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=c(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let s=c(n,["vertexDatasetResource"]);e!==void 0&&s!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){let s=c(n,["vertexDatasetResource"]);e!==void 0&&s!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function oM(n,e){let t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);let r=c(n,["name"]);r!=null&&f(t,["name"],r);let o=c(n,["state"]);o!=null&&f(t,["state"],qA(o));let s=c(n,["createTime"]);s!=null&&f(t,["createTime"],s);let a=c(n,["tuningTask","startTime"]);a!=null&&f(t,["startTime"],a);let l=c(n,["tuningTask","completeTime"]);l!=null&&f(t,["endTime"],l);let u=c(n,["updateTime"]);u!=null&&f(t,["updateTime"],u);let d=c(n,["description"]);d!=null&&f(t,["description"],d);let p=c(n,["baseModel"]);p!=null&&f(t,["baseModel"],p);let h=c(n,["_self"]);return h!=null&&f(t,["tunedModel"],XW(h)),t}function CE(n,e){let t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);let r=c(n,["name"]);r!=null&&f(t,["name"],r);let o=c(n,["state"]);o!=null&&f(t,["state"],qA(o));let s=c(n,["createTime"]);s!=null&&f(t,["createTime"],s);let a=c(n,["startTime"]);a!=null&&f(t,["startTime"],a);let l=c(n,["endTime"]);l!=null&&f(t,["endTime"],l);let u=c(n,["updateTime"]);u!=null&&f(t,["updateTime"],u);let d=c(n,["error"]);d!=null&&f(t,["error"],d);let p=c(n,["description"]);p!=null&&f(t,["description"],p);let h=c(n,["baseModel"]);h!=null&&f(t,["baseModel"],h);let v=c(n,["tunedModel"]);v!=null&&f(t,["tunedModel"],v);let x=c(n,["preTunedModel"]);x!=null&&f(t,["preTunedModel"],x);let b=c(n,["supervisedTuningSpec"]);b!=null&&f(t,["supervisedTuningSpec"],b);let N=c(n,["preferenceOptimizationSpec"]);N!=null&&f(t,["preferenceOptimizationSpec"],N);let k=c(n,["tuningDataStats"]);k!=null&&f(t,["tuningDataStats"],k);let U=c(n,["encryptionSpec"]);U!=null&&f(t,["encryptionSpec"],U);let $=c(n,["partnerModelTuningSpec"]);$!=null&&f(t,["partnerModelTuningSpec"],$);let H=c(n,["customBaseModel"]);H!=null&&f(t,["customBaseModel"],H);let K=c(n,["experiment"]);K!=null&&f(t,["experiment"],K);let ve=c(n,["labels"]);ve!=null&&f(t,["labels"],ve);let De=c(n,["outputUri"]);De!=null&&f(t,["outputUri"],De);let Nt=c(n,["pipelineJob"]);Nt!=null&&f(t,["pipelineJob"],Nt);let pe=c(n,["serviceAccount"]);pe!=null&&f(t,["serviceAccount"],pe);let $e=c(n,["tunedModelDisplayName"]);$e!=null&&f(t,["tunedModelDisplayName"],$e);let wt=c(n,["veoTuningSpec"]);return wt!=null&&f(t,["veoTuningSpec"],wt),t}function nQ(n,e){let t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);let r=c(n,["name"]);r!=null&&f(t,["name"],r);let o=c(n,["metadata"]);o!=null&&f(t,["metadata"],o);let s=c(n,["done"]);s!=null&&f(t,["done"],s);let a=c(n,["error"]);return a!=null&&f(t,["error"],a),t}function kA(n,e){let t={},i=c(n,["gcsUri"]);i!=null&&f(t,["validationDatasetUri"],i);let r=c(n,["vertexDatasetResource"]);return r!=null&&f(t,["validationDatasetUri"],r),t}var EE=class extends Mi{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Fr(bo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){let r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);let o=Object.assign(Object.assign({},t),{preTunedModel:r});return o.baseModel=void 0,await this.tuneInternal(o)}else{let r=Object.assign({},t);return await this.tuneInternal(r)}else{let r=Object.assign({},t),o=await this.tuneMldevInternal(r),s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:RA.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=WW(e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>CE(d))}else{let u=GW(e);return a=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>oM(d))}}async listInternal(e){var t,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let u=JW(e);return a=Q("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=KW(d),h=new Tm;return Object.assign(h,p),h})}else{let u=YW(e);return a=Q("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=ZW(d),h=new Tm;return Object.assign(h,p),h})}}async cancel(e){var t,i,r,o;let s="",a={};if(this.apiClient.isVertexAI()){let l=qW(e);s=Q("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{let l=BW(e);s=Q("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI()){let a=zW(e,e);return o=Q("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>CE(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=HW(e);return o=Q("tunedModels",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>nQ(l))}}};var xE=class{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},iQ=1024*1024*8,rQ=3,oQ=1e3,sQ=2,km="x-goog-upload-status";async function aQ(n,e,t){var i;let r=await sM(n,e,t),o=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[km])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function lQ(n,e,t){var i;let r=await sM(n,e,t),o=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[km])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=PA(o),a=new KC;return Object.assign(a,s),a}async function sM(n,e,t){var i,r;let o=0,s=0,a=new md(new Response),l="upload";for(o=n.size;s<o;){let u=Math.min(iQ,o-s),d=n.slice(s,s+u);s+u>=o&&(l+=", finalize");let p=0,h=oQ;for(;p<rQ&&(a=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((i=a?.headers)===null||i===void 0)&&i[km]));)p++,await cQ(h),h=h*sQ;if(s+=u,((r=a?.headers)===null||r===void 0?void 0:r[km])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function uQ(n){return{size:n.size,type:n.type}}function cQ(n){return new Promise(e=>setTimeout(e,n))}var wE=class{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aQ(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lQ(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uQ(e)}};var SE=class{create(e,t,i){return new TE(e,t,i)}},TE=class{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var NA="x-goog-api-key",bE=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(NA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(NA,this.apiKey)}}};var dQ="gl-node/",Ws=class{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;let i=xz(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;let r=new bE(this.apiKey);this.apiClient=new uE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:dQ+"web",uploader:new wE,downloader:new xE}),this.models=new mE(this.apiClient),this.live=new pE(this.apiClient,r,new SE),this.batches=new tE(this.apiClient),this.chats=new iE(this.models,this.apiClient),this.caches=new nE(this.apiClient),this.files=new oE(this.apiClient),this.operations=new gE(this.apiClient),this.authTokens=new vE(this.apiClient),this.tunings=new EE(this.apiClient),this.fileSearchStores=new yE(this.apiClient)}};var fQ=["refImageInput"],pQ=()=>({id:"computer",icon:"computer",label:"Meu Computador"}),hQ=()=>({id:"ai",icon:"auto_awesome",label:"Gerar com IA"}),mQ=()=>({id:"pexels",icon:"photo_camera",label:"Banco de Imagens"}),gQ=()=>({id:"freepik",icon:"collections",label:"Freepik"}),vQ=()=>({id:"drive",icon:"cloud",label:"Google Drive"}),_Q=(n,e,t,i,r)=>[n,e,t,i,r],yQ=(n,e)=>e.id,CQ=(n,e)=>e.timestamp;function EQ(n,e){if(n&1){let t=B();m(0,"button",14),A("click",function(){let r=S(t).$implicit,o=C();return T(o.selectSource(r.id))}),m(1,"span",5),y(2),g(),m(3,"span"),y(4),g()()}if(n&2){let t=e.$implicit,i=C();ne("bg-purple-100",i.activeSource()===t.id)("dark:bg-purple-900/40",i.activeSource()===t.id)("text-purple-700",i.activeSource()===t.id)("dark:text-purple-400",i.activeSource()===t.id)("text-gray-600",i.activeSource()!==t.id)("dark:text-gray-300",i.activeSource()!==t.id)("hover:bg-gray-200",i.activeSource()!==t.id)("dark:hover:bg-gray-700",i.activeSource()!==t.id),E(2),ie(t.icon),E(2),ie(t.label)}}function xQ(n,e){if(n&1){let t=B();m(0,"div",10)(1,"label",15),A("dragover",function(r){S(t);let o=C();return T(o.onDragOver(r))})("dragleave",function(r){S(t);let o=C();return T(o.onDragLeave(r))})("drop",function(r){S(t);let o=C();return T(o.onDrop(r))}),m(2,"span",16),y(3,"upload_file"),g(),m(4,"p",17),y(5,"Arraste e solte o arquivo aqui"),g(),m(6,"p",18),y(7,"ou"),g(),m(8,"span",19),y(9,"Selecione o arquivo"),g(),m(10,"p",20),y(11),g()(),m(12,"input",21),A("change",function(r){S(t);let o=C();return T(o.onFileSelected(r))}),g()()}if(n&2){let t=C();E(),ne("border-purple-500",t.draggingOver())("bg-purple-50",t.draggingOver())("dark:bg-purple-900/20",t.draggingOver())("border-gray-300",!t.draggingOver())("dark:border-gray-600",!t.draggingOver()),E(10),Te("Propor\xE7\xE3o recomendada: ",t.imageType()==="banner"?"3:1":"9:16")}}function wQ(n,e){n&1&&(m(0,"p",26),y(1,"Carregando..."),g())}function SQ(n,e){if(n&1){let t=B();m(0,"div",29),A("click",function(){let r=S(t).$implicit,o=C(2);return T(o.selectBankImage(r))}),Re(1,"img",30),g()}if(n&2){let t=e.$implicit;E(),F("src",t,Dt)}}function TQ(n,e){if(n&1){let t=B();m(0,"div",11)(1,"div",22)(2,"span",23),y(3,"search"),g(),m(4,"input",24),Gt("ngModelChange",function(r){S(t);let o=C();return Zt(o.bankSearchTerm,r)||(o.bankSearchTerm=r),T(r)}),A("keyup.enter",function(){S(t);let r=C();return T(r.searchBank())}),g()(),m(5,"div",25),L(6,wQ,2,0,"p",26),m(7,"div",27),Ee(8,SQ,2,1,"div",28,Rs),g()()()}if(n&2){let t=C();E(4),zt("ngModel",t.bankSearchTerm),F("placeholder","Buscar imagens em "+t.activeSource()+"..."),E(2),O(t.isLoading()?6:-1),E(2),xe(t.bankImages())}}function bQ(n,e){n&1&&(m(0,"p",26),y(1,"Carregando..."),g())}function IQ(n,e){if(n&1){let t=B();m(0,"div",29),A("click",function(){let r=S(t).$implicit,o=C(2);return T(o.selectBankImage(r))}),Re(1,"img",30),g()}if(n&2){let t=e.$implicit;E(),F("src",t,Dt)}}function DQ(n,e){if(n&1){let t=B();m(0,"div",11)(1,"div",22)(2,"span",23),y(3,"search"),g(),m(4,"input",24),Gt("ngModelChange",function(r){S(t);let o=C();return Zt(o.bankSearchTerm,r)||(o.bankSearchTerm=r),T(r)}),A("keyup.enter",function(){S(t);let r=C();return T(r.searchBank())}),g()(),m(5,"div",25),L(6,bQ,2,0,"p",26),m(7,"div",27),Ee(8,IQ,2,1,"div",28,Rs),g()()()}if(n&2){let t=C();E(4),zt("ngModel",t.bankSearchTerm),F("placeholder","Buscar imagens em "+t.activeSource()+"..."),E(2),O(t.isLoading()?6:-1),E(2),xe(t.bankImages())}}function AQ(n,e){n&1&&(m(0,"div",32)(1,"span",40),y(2,"auto_awesome"),g(),m(3,"p",41),y(4,"Gere imagens com IA"),g(),m(5,"p",42),y(6,"Descreva a imagem que voc\xEA quer criar no campo abaixo."),g()())}function MQ(n,e){n&1&&(m(0,"div",46)(1,"div",47),y(2,"Carregando..."),g()())}function kQ(n,e){if(n&1){let t=B();m(0,"div",46)(1,"div",48)(2,"span",49),y(3,"error"),g(),m(4,"div")(5,"p"),y(6),g(),m(7,"button",50),A("click",function(){S(t);let r=C().$implicit,o=C(2);return T(o.regenerateImages(r))}),y(8,"Tentar Novamente"),g()()()()}if(n&2){let t=C().$implicit;E(6),ie(t.error)}}function NQ(n,e){if(n&1){let t=B();m(0,"img",54),A("click",function(){let r=S(t).$implicit,o=C(4);return T(o.selectBankImage(r))}),g()}if(n&2){let t=e.$implicit;F("src",t,Dt)}}function PQ(n,e){if(n&1&&(m(0,"div",46)(1,"div",51)(2,"div",52),Ee(3,NQ,1,1,"img",53,Rs),g()()()),n&2){let t=C().$implicit;E(3),xe(t.images)}}function RQ(n,e){if(n&1&&(m(0,"div",43)(1,"div",44)(2,"p"),y(3),g(),m(4,"time",45),y(5),hl(6,"date"),g()()(),L(7,MQ,3,0,"div",46),L(8,kQ,9,1,"div",46),L(9,PQ,5,0,"div",46)),n&2){let t=e.$implicit;E(3),ie(t.prompt),E(2),ie(sC(6,5,t.timestamp,"shortTime")),E(2),O(t.isLoading?7:-1),E(),O(t.error?8:-1),E(),O(t.images.length>0?9:-1)}}function FQ(n,e){n&1&&Re(0,"div",38)}function LQ(n,e){n&1&&(m(0,"span",39),y(1,"send"),g())}function OQ(n,e){if(n&1){let t=B();m(0,"div",12)(1,"div",31),L(2,AQ,7,0,"div",32),Ee(3,RQ,10,8,null,null,CQ),g(),m(5,"div",33)(6,"div",34)(7,"textarea",35),Gt("ngModelChange",function(r){S(t);let o=C();return Zt(o.aiPrompt,r)||(o.aiPrompt=r),T(r)}),A("keydown",function(r){S(t);let o=C();return T(o.handleKeydown(r))})("input",function(r){S(t);let o=C();return T(o.adjustTextareaHeight(r))}),g(),m(8,"div",36)(9,"button",37),A("click",function(){S(t);let r=C();return T(r.generateImage())}),L(10,FQ,1,0,"div",38)(11,LQ,2,0,"span",39),g()()()()()}if(n&2){let t=C();E(2),O(t.aiChatHistory().length===0?2:-1),E(),xe(t.aiChatHistory()),E(4),zt("ngModel",t.aiPrompt),E(2),F("disabled",t.isLoading()||!t.aiPrompt().trim()),E(),O(t.isLoading()?10:11)}}function VQ(n,e){n&1&&(m(0,"div",13)(1,"div",55)(2,"span",56),y(3,"build"),g(),m(4,"p",57),y(5,"Funcionalidade em constru\xE7\xE3o."),g()()())}var Pl=class Pl{constructor(){this.imageType=be.required();this.close=ue();this.imageSelected=ue();this.activeSource=P("computer");this.isLoading=P(!1);this.aiPrompt=P("");this.aiReferenceImage=P(null);this.aiChatHistory=P([]);this.refImageInput=Os("refImageInput");this.bankSearchTerm=P("");this.bankImages=P([]);this.draggingOver=P(!1)}selectSource(e){this.activeSource.set(e),(e==="pexels"||e==="freepik")&&(this.bankImages.set([]),this.bankSearchTerm.set(""),this.loadBankImages("abstract",e))}onFileSelected(e){let t=e.target;t.files&&t.files[0]&&this.processFile(t.files[0])}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.draggingOver.set(!0)}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.draggingOver.set(!1)}onDrop(e){e.preventDefault(),e.stopPropagation(),this.draggingOver.set(!1),e.dataTransfer?.files[0]&&this.processFile(e.dataTransfer.files[0])}processFile(e){let t=new FileReader;t.onload=i=>{this.imageSelected.emit(i.target?.result)},t.readAsDataURL(e)}loadBankImages(e="abstract",t){this.isLoading.set(!0),setTimeout(()=>{let i=[];for(let r=0;r<12;r++){let o=Math.floor(Math.random()*1e3);i.push(`https://picsum.photos/seed/${t}-${e}${o}/400/300`)}this.bankImages.set(i),this.isLoading.set(!1)},500)}searchBank(){let e=this.activeSource();(e==="pexels"||e==="freepik")&&this.loadBankImages(this.bankSearchTerm()||"abstract",e)}selectBankImage(e){this.imageSelected.emit(e)}adjustTextareaHeight(e){let t=e.target;t.style.height="auto",t.style.height=`${t.scrollHeight}px`}handleKeydown(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),this.generateImage())}onReferenceImageSelected(e){let t=e.target;if(t.files&&t.files[0]){let i=t.files[0];if(!i.type.startsWith("image/")){console.error("Invalid file type. Please select an image.");return}let r=new FileReader;r.onload=o=>{let s=o.target?.result,[a,l]=s.split(","),u=a.match(/:(.*?);/)?.[1];l&&u&&this.aiReferenceImage.set({base64:l,mimeType:u})},r.readAsDataURL(i)}t&&(t.value="")}removeReferenceImage(){this.aiReferenceImage.set(null)}async generateImage(){let e=this.aiPrompt().trim();if(!e||this.isLoading())return;this.isLoading.set(!0);let t={timestamp:new Date,prompt:e,images:[],isLoading:!0};this.aiChatHistory.update(i=>[...i,t]),this.aiPrompt.set("");try{let i=localStorage.getItem("GOOGLE_GENAI_API_KEY")||window.ENV?.API_KEY;if(!i)throw new Error("API_KEY not configured. Please set up your API key in the environment settings.");let r=new Ws({apiKey:i}),o=this.aiReferenceImage(),s={model:"imagen-4.0-generate-001",prompt:e,config:{numberOfImages:2,outputMimeType:"image/jpeg",aspectRatio:this.imageType()==="card"?"9:16":"16:9"}};o&&(s.image={imageBytes:o.base64,mimeType:o.mimeType});let a=await r.models.generateImages(s);if(a.generatedImages&&a.generatedImages.length>0){let l=a.generatedImages.map(u=>`data:image/jpeg;base64,${u.image.imageBytes}`);this.aiChatHistory.update(u=>{let d=u[u.length-1];return d&&(d.images=l,d.isLoading=!1),[...u]})}else throw new Error("Nenhuma imagem foi gerada.")}catch(i){console.error("Error generating image:",i),this.aiChatHistory.update(r=>{let o=r[r.length-1];return o&&(o.isLoading=!1,o.error="Ocorreu um erro ao gerar as imagens. Tente novamente."),[...r]})}finally{this.isLoading.set(!1)}}async regenerateImages(e){if(!this.isLoading()){this.isLoading.set(!0),this.aiChatHistory.update(t=>{let i=t.find(r=>r.timestamp===e.timestamp);return i&&(i.isLoading=!0,i.error=void 0,i.images=[]),[...t]});try{let t=localStorage.getItem("GOOGLE_GENAI_API_KEY")||window.ENV?.API_KEY;if(!t)throw new Error("API_KEY not configured. Please set up your API key in the environment settings.");let i=new Ws({apiKey:t}),r={model:"imagen-4.0-generate-001",prompt:e.prompt,config:{numberOfImages:2,outputMimeType:"image/jpeg",aspectRatio:this.imageType()==="card"?"9:16":"16:9"}},o=await i.models.generateImages(r);if(o.generatedImages&&o.generatedImages.length>0){let s=o.generatedImages.map(a=>`data:image/jpeg;base64,${a.image.imageBytes}`);this.aiChatHistory.update(a=>{let l=a.find(u=>u.timestamp===e.timestamp);return l&&(l.images=s,l.isLoading=!1),[...a]})}else throw new Error("Nenhuma imagem foi gerada na regenera\xE7\xE3o.")}catch(t){console.error("Error regenerating image:",t),this.aiChatHistory.update(i=>{let r=i.find(o=>o.timestamp===e.timestamp);return r&&(r.isLoading=!1,r.error="Ocorreu um erro ao regenerar as imagens. Tente novamente."),[...i]})}finally{this.isLoading.set(!1)}}}};Pl.\u0275fac=function(t){return new(t||Pl)},Pl.\u0275cmp=Pe({type:Pl,selectors:[["app-image-upload-modal"]],viewQuery:function(t,i){t&1&&xo(i.refImageInput,fQ,5),t&2&&Fs()},inputs:{imageType:[1,"imageType"]},outputs:{close:"close",imageSelected:"imageSelected"},decls:18,vars:13,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-[60]","animate-fade-in",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-5xl","h-[80vh]","flex","flex-col","m-4","animate-scale-up",3,"click"],[1,"p-4","border-b","dark:border-gray-700","flex","justify-between","items-center","shrink-0"],[1,"text-xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-400",3,"click"],[1,"material-symbols-outlined"],[1,"flex-1","flex","overflow-hidden"],[1,"w-64","bg-gray-50","dark:bg-gray-800/50","border-r","dark:border-gray-700","p-4","space-y-2"],[1,"w-full","flex","items-center","gap-3","p-3","rounded-lg","text-left","text-sm","font-medium","transition-colors",3,"bg-purple-100","dark:bg-purple-900/40","text-purple-700","dark:text-purple-400","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700"],[1,"flex-1","flex","flex-col","overflow-hidden"],[1,"p-6","h-full","flex","flex-col"],[1,"p-6","flex","flex-col","h-full"],[1,"p-6","flex","flex-col","h-full","overflow-hidden"],[1,"h-full","flex","items-center","justify-center","text-gray-500"],[1,"w-full","flex","items-center","gap-3","p-3","rounded-lg","text-left","text-sm","font-medium","transition-colors",3,"click"],["for","computer-upload",1,"flex-1","w-full","flex","flex-col","items-center","justify-center","px-6","py-10","border-2","border-dashed","rounded-md","cursor-pointer","transition-colors",3,"dragover","dragleave","drop"],[1,"material-symbols-outlined","text-5xl","text-gray-400","dark:text-gray-500"],[1,"mt-2","text-lg","text-gray-600","dark:text-gray-300","font-semibold"],[1,"text-gray-500","dark:text-gray-400"],[1,"mt-2","text-sm","text-purple-600","dark:text-purple-400","font-bold"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-2"],["id","computer-upload","type","file","accept","image/*",1,"sr-only",3,"change"],[1,"flex-shrink-0","mb-4","relative"],[1,"material-symbols-outlined","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400"],["type","text",1,"w-full","pl-10","pr-4","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"flex-1","overflow-y-auto"],[1,"text-center","text-gray-500"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],[1,"aspect-w-4","aspect-h-3","bg-gray-200","dark:bg-gray-700","rounded-lg","overflow-hidden","cursor-pointer","group"],[1,"aspect-w-4","aspect-h-3","bg-gray-200","dark:bg-gray-700","rounded-lg","overflow-hidden","cursor-pointer","group",3,"click"],[1,"w-full","h-full","object-cover","transition-transform","group-hover:scale-105",3,"src"],[1,"flex-1","overflow-y-auto","pr-2","space-y-4"],[1,"h-full","flex","flex-col","items-center","justify-center","text-center","text-gray-500"],[1,"flex-shrink-0","pt-4","border-t","dark:border-gray-700"],[1,"relative","bg-gray-100","dark:bg-gray-700","rounded-lg"],["rows","1","placeholder","Ex: Um rob\xF4 andando de skate vermelho",1,"w-full","bg-transparent","p-3","pr-28","resize-none","border-none","focus:ring-0","dark:text-gray-200","placeholder:text-gray-500",3,"ngModelChange","keydown","input","ngModel"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","flex","items-center"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600",3,"click","disabled"],[1,"w-5","h-5","border-2","border-gray-400","border-t-transparent","rounded-full","animate-spin"],[1,"material-symbols-outlined","text-gray-600","dark:text-gray-300"],[1,"material-symbols-outlined","text-6xl"],[1,"mt-2","font-semibold"],[1,"text-sm"],[1,"flex","flex-col","items-end"],[1,"bg-purple-500","text-white","p-3","rounded-lg","max-w-lg","mb-2"],[1,"text-xs","text-purple-200","mt-1"],[1,"flex","justify-start"],[1,"bg-gray-200","dark:bg-gray-700","p-3","rounded-lg","animate-pulse"],[1,"bg-red-100","dark:bg-red-900/50","text-red-700","dark:text-red-300","p-3","rounded-lg","flex","items-start","gap-2"],[1,"material-symbols-outlined","text-base","mt-0.5"],[1,"font-semibold","underline","mt-1",3,"click"],[1,"p-2","bg-gray-100","dark:bg-gray-700","rounded-lg"],[1,"grid","grid-cols-2","gap-2"],[1,"w-48","h-auto","rounded-md","cursor-pointer","hover:ring-2","hover:ring-purple-500",3,"src"],[1,"w-48","h-auto","rounded-md","cursor-pointer","hover:ring-2","hover:ring-purple-500",3,"click","src"],[1,"text-center"],[1,"material-symbols-outlined","text-5xl"],[1,"mt-2"]],template:function(t,i){if(t&1&&(m(0,"div",0),A("click",function(){return i.close.emit()}),m(1,"div",1),A("click",function(o){return o.stopPropagation()}),m(2,"header",2)(3,"h2",3),y(4),g(),m(5,"button",4),A("click",function(){return i.close.emit()}),m(6,"span",5),y(7,"close"),g()()(),m(8,"div",6)(9,"aside",7),Ee(10,EQ,5,18,"button",8,yQ),g(),m(12,"main",9),L(13,xQ,13,11,"div",10)(14,TQ,10,3,"div",11)(15,DQ,10,3,"div",11)(16,OQ,12,4,"div",12)(17,VQ,6,0,"div",13),g()()()()),t&2){let r;E(4),Te("Selecionar Imagem para o ",i.imageType()==="banner"?"Banner":"Card"),E(6),xe(nC(7,_Q,Me(2,pQ),Me(3,hQ),Me(4,mQ),Me(5,gQ),Me(6,vQ))),E(3),O((r=i.activeSource())==="computer"?13:r==="pexels"?14:r==="freepik"?15:r==="ai"?16:17)}},dependencies:[ke,kt,At,Mt,xt,mC],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}"],changeDetection:0});var Fm=Pl;var BQ=["imageToCrop"],qQ=["imageContainer"],UQ=()=>({id:"top-left",cursor:"nwse-resize"}),$Q=()=>({id:"top-middle",cursor:"ns-resize"}),HQ=()=>({id:"top-right",cursor:"nesw-resize"}),zQ=()=>({id:"middle-left",cursor:"ew-resize"}),GQ=()=>({id:"middle-right",cursor:"ew-resize"}),WQ=()=>({id:"bottom-left",cursor:"nesw-resize"}),QQ=()=>({id:"bottom-middle",cursor:"ns-resize"}),jQ=()=>({id:"bottom-right",cursor:"nwse-resize"}),YQ=(n,e,t,i,r,o,s,a)=>[n,e,t,i,r,o,s,a],JQ=(n,e)=>e.id;function ZQ(n,e){if(n&1){let t=B();G(0,"div",21),we("mousedown",function(r){let o=S(t).$implicit,s=C(2);return T(s.startResize(r,o.id))})("touchstart",function(r){let o=S(t).$implicit,s=C(2);return T(s.startResize(r,o.id))}),X()}if(n&2){let t=e.$implicit;Qc(t.id),Ls("cursor",t.cursor)}}function KQ(n,e){if(n&1){let t=B();G(0,"div",16)(1,"div",17),we("mousedown",function(r){S(t);let o=C();return T(o.startMove(r))})("touchstart",function(r){S(t);let o=C();return T(o.startMove(r))}),Ar(2,"div",18)(3,"div",19),Ee(4,ZQ,1,4,"div",20,JQ),X()()}if(n&2){let t=C();Ls("width",t.imageDisplay().width,"px")("height",t.imageDisplay().height,"px")("transform","translate("+t.imageDisplay().x+"px, "+t.imageDisplay().y+"px)"),E(),Ls("transform","translate("+t.cropBox().x+"px, "+t.cropBox().y+"px)")("width",t.cropBox().width,"px")("height",t.cropBox().height,"px"),E(3),xe(iC(20,YQ,Me(12,UQ),Me(13,$Q),Me(14,HQ),Me(15,zQ),Me(16,GQ),Me(17,WQ),Me(18,QQ),Me(19,jQ)))}}function XQ(n,e){n&1&&(G(0,"div",12)(1,"p",22),y(2,"Carregando imagem..."),X()())}var Rl=class Rl{constructor(){this.imageUrl=be.required();this.aspectRatioType=be.required();this.close=ue();this.cropped=ue();this.imageRef=Os.required("imageToCrop");this.imageContainerRef=Os.required("imageContainer");this.image=new Image;this.imageLoaded=P(!1);this.imageDisplay=P({x:0,y:0,width:1,height:1});this.cropBox=P({x:0,y:0,width:200,height:200});this.interactionState=P(null);this.renderer=J(Un);this.unlistenMouseMove=null;this.unlistenMouseUp=null;this.aspectRatio=Fe(()=>this.aspectRatioType()==="banner"?3/1:9/16);it(()=>{let e=this.imageUrl();e&&(this.imageLoaded.set(!1),this.image.crossOrigin="anonymous",this.image.onload=()=>{this.imageLoaded.set(!0),this.initializeCropper()},this.image.src=e)})}ngAfterViewInit(){this.initializeCropper(),this.unlistenMouseMove=this.renderer.listen("window","mousemove",this.onMouseMove.bind(this)),this.unlistenMouseUp=this.renderer.listen("window","mouseup",this.onMouseUp.bind(this))}ngOnDestroy(){this.unlistenMouseMove&&this.unlistenMouseMove(),this.unlistenMouseUp&&this.unlistenMouseUp()}initializeCropper(){if(!this.imageLoaded()||!this.imageContainerRef())return;let e=this.imageContainerRef().nativeElement,{width:t,height:i}=e.getBoundingClientRect(),{naturalWidth:r,naturalHeight:o}=this.image,s=t/i,a=r/o,l,u,d,p;a>s?(l=t,u=l/a,d=0,p=(i-u)/2):(u=i,l=u*a,p=0,d=(t-l)/2),this.imageDisplay.set({x:d,y:p,width:l,height:u});let h=this.aspectRatio(),v=l*.8,x=v/h;x>u*.8&&(x=u*.8,v=x*h);let b=(l-v)/2,N=(u-x)/2;this.cropBox.set({x:b,y:N,width:v,height:x})}startMove(e){e.preventDefault();let t=this.getEventPoint(e);this.interactionState.set({type:"move",startX:t.x,startY:t.y,startCropBox:this.cropBox()})}startResize(e,t){e.preventDefault(),e.stopPropagation();let i=this.getEventPoint(e);this.interactionState.set({type:"resize",handle:t,startX:i.x,startY:i.y,startCropBox:this.cropBox()})}onMouseMove(e){if(!this.interactionState())return;e.preventDefault();let t=this.interactionState(),i=this.getEventPoint(e),r=i.x-t.startX,o=i.y-t.startY;t.type==="move"?this.moveCropBox(r,o):t.type==="resize"&&this.resizeCropBox(r,o,t.handle)}onMouseUp(){this.interactionState.set(null)}moveCropBox(e,t){let{x:i,y:r,width:o,height:s}=this.interactionState().startCropBox,{width:a,height:l}=this.imageDisplay(),u=i+e,d=r+t;u=Math.max(0,Math.min(u,a-o)),d=Math.max(0,Math.min(d,l-s)),this.cropBox.update(p=>V(I({},p),{x:u,y:d}))}resizeCropBox(e,t,i){let{x:r,y:o,width:s,height:a}=this.interactionState().startCropBox,{width:l,height:u}=this.imageDisplay(),d=this.aspectRatio(),p=20;if(i.includes("right")&&(s+=e),i.includes("left")&&(s-=e,r+=e),i.includes("bottom")&&(a+=t),i.includes("top")&&(a-=t,o+=t),i.includes("left")||i.includes("right")){let h=s/d;i.includes("top")&&(o+=a-h),a=h}else{let h=a*d;i.includes("left")&&(r+=s-h),s=h}s<p&&(s=p,a=p/d),a<p&&(a=p,s=p*d),r<0&&(s+=r,r=0),o<0&&(a+=o,o=0),r+s>l&&(s=l-r),o+a>u&&(a=u-o),s/d>a?s=a*d:a=s/d,this.cropBox.set({x:r,y:o,width:s,height:a})}confirmCrop(){if(!this.imageLoaded())return;let{x:e,y:t,width:i,height:r}=this.cropBox(),{width:o,height:s}=this.imageDisplay(),{naturalWidth:a,naturalHeight:l}=this.image,u=a/o,d=e*u,p=t*u,h=i*u,v=r*u,x=this.renderer.createElement("canvas");x.width=Math.round(h),x.height=Math.round(v);let b=x.getContext("2d");b&&(b.drawImage(this.image,d,p,h,v,0,0,x.width,x.height),this.cropped.emit(x.toDataURL("image/jpeg",.9)))}getEventPoint(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};let t=e.touches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY}}};Rl.\u0275fac=function(t){return new(t||Rl)},Rl.\u0275cmp=Pe({type:Rl,selectors:[["app-image-cropper-modal"]],viewQuery:function(t,i){t&1&&(xo(i.imageRef,BQ,5),xo(i.imageContainerRef,qQ,5)),t&2&&Fs(2)},inputs:{imageUrl:[1,"imageUrl"],aspectRatioType:[1,"aspectRatioType"]},outputs:{close:"close",cropped:"cropped"},decls:20,vars:13,consts:[["imageContainer",""],["imageToCrop",""],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-[60]","animate-fade-in",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-4xl","h-[85vh]","flex","flex-col","m-4","animate-scale-up",3,"click"],[1,"p-4","border-b","dark:border-gray-700","flex","justify-between","items-center","shrink-0"],[1,"text-xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-400",3,"click"],[1,"material-symbols-outlined"],[1,"flex-1","p-6","flex","flex-col","items-center","justify-center","bg-gray-100","dark:bg-gray-900","overflow-hidden"],[1,"w-full","h-full","relative",3,"mousedown","touchstart"],["alt","Imagem para recortar","draggable","false","oncontextmenu","return false;",1,"absolute","select-none","pointer-events-none",3,"src"],[1,"absolute",3,"width","height","transform"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"p-4","bg-gray-50","dark:bg-gray-800/50","border-t","dark:border-gray-700","flex","justify-end","items-center","gap-4","shrink-0"],[1,"font-semibold","py-2","px-4","rounded-lg","hover:bg-gray-200","dark:hover:bg-gray-700","transition",3,"click"],[1,"bg-purple-600","text-white","font-bold","py-2","px-6","rounded-lg","hover:bg-purple-700","transition","disabled:opacity-50",3,"click","disabled"],[1,"absolute"],[1,"absolute","cursor-move","select-none",3,"mousedown","touchstart"],[1,"overlay"],[1,"absolute","inset-0","border-2","border-white/70","box-border","pointer-events-none"],[1,"handle",3,"class","cursor"],[1,"handle",3,"mousedown","touchstart"],[1,"text-gray-500"]],template:function(t,i){if(t&1){let r=B();G(0,"div",2),we("click",function(){return S(r),T(i.close.emit())}),G(1,"div",3),we("click",function(s){return S(r),T(s.stopPropagation())}),G(2,"header",4)(3,"h2",5),y(4,"Ajustar Imagem"),X(),G(5,"button",6),we("click",function(){return S(r),T(i.close.emit())}),G(6,"span",7),y(7,"close"),X()()(),G(8,"main",8)(9,"div",9,0),we("mousedown",function(s){return S(r),T(s.preventDefault())})("touchstart",function(s){return S(r),T(s.preventDefault())}),Ar(11,"img",10,1),L(13,KQ,6,29,"div",11)(14,XQ,3,0,"div",12),X()(),G(15,"footer",13)(16,"button",14),we("click",function(){return S(r),T(i.close.emit())}),y(17,"Cancelar"),X(),G(18,"button",15),we("click",function(){return S(r),T(i.confirmCrop())}),y(19,"Confirmar Recorte"),X()()()()}t&2&&(E(11),Ls("width",i.imageDisplay().width,"px")("height",i.imageDisplay().height,"px")("transform","translate("+i.imageDisplay().x+"px, "+i.imageDisplay().y+"px)"),ne("opacity-100",i.imageLoaded())("opacity-0",!i.imageLoaded()),Gc("src",i.imageUrl(),Dt),E(2),O(i.imageLoaded()?13:14),E(5),Gc("disabled",!i.imageLoaded()))},dependencies:[ke],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.overlay[_ngcontent-%COMP%]{position:absolute;box-shadow:0 0 0 2000px #00000080;inset:0;pointer-events:none}.handle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 1px 3px #0003}.handle.top-left[_ngcontent-%COMP%]{top:0;left:0}.handle.top-middle[_ngcontent-%COMP%]{top:0;left:50%}.handle.top-right[_ngcontent-%COMP%]{top:0;left:100%}.handle.middle-left[_ngcontent-%COMP%]{top:50%;left:0}.handle.middle-right[_ngcontent-%COMP%]{top:50%;left:100%}.handle.bottom-left[_ngcontent-%COMP%]{top:100%;left:0}.handle.bottom-middle[_ngcontent-%COMP%]{top:100%;left:50%}.handle.bottom-right[_ngcontent-%COMP%]{top:100%;left:100%}"],changeDetection:0});var Lm=Rl;var Fl=class Fl{constructor(){this.highlightTarget=be(null);this.close=ue();this.typeSelected=ue();this.isHighlighting=P(!1);it(()=>{this.highlightTarget()==="quiz-survey-type"&&(this.isHighlighting.set(!0),setTimeout(()=>this.isHighlighting.set(!1),2e3))})}};Fl.\u0275fac=function(t){return new(t||Fl)},Fl.\u0275cmp=Pe({type:Fl,selectors:[["app-quiz-type-select-modal"]],inputs:{highlightTarget:[1,"highlightTarget"]},outputs:{close:"close",typeSelected:"typeSelected"},decls:28,vars:2,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","animate-fade-in",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-2xl","p-8","m-4","animate-scale-up",3,"click"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"w-12","h-12","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-400","dark:text-gray-500","hover:text-gray-600","dark:hover:text-gray-300",3,"click"],[1,"material-symbols-outlined","text-3xl"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"group","p-6","border-2","border-gray-200","dark:border-gray-700","rounded-lg","hover:border-purple-500","dark:hover:border-purple-400","bg-purple-50/50","dark:bg-purple-900/10","transition-all","duration-300","cursor-pointer","transform","hover:-translate-y-1","flex","flex-col","items-center","text-center",3,"click"],[1,"w-16","h-16","rounded-full","bg-purple-100","dark:bg-purple-900/40","flex","items-center","justify-center","mb-4"],[1,"material-symbols-outlined","text-4xl","text-purple-600","dark:text-purple-400"],[1,"text-xl","font-bold","text-gray-800","dark:text-gray-200","mb-2"],[1,"text-gray-600","dark:text-gray-400"],["id","quiz-survey-type",1,"group","p-6","border-2","border-gray-200","dark:border-gray-700","rounded-lg","hover:border-purple-500","dark:hover:border-purple-400","bg-purple-50/50","dark:bg-purple-900/10","transition-all","duration-300","cursor-pointer","transform","hover:-translate-y-1","flex","flex-col","items-center","text-center",3,"click"],[1,"mt-8","flex","justify-end"],[1,"bg-transparent","text-gray-700","dark:text-gray-300","font-semibold","py-2","px-6","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-700","transition","border","border-gray-300","dark:border-gray-600",3,"click"]],template:function(t,i){t&1&&(G(0,"div",0),we("click",function(){return i.close.emit()}),G(1,"div",1),we("click",function(o){return o.stopPropagation()}),G(2,"div",2)(3,"h2",3),y(4,"Selecione o Tipo de Quiz"),X(),G(5,"button",4),we("click",function(){return i.close.emit()}),G(6,"span",5),y(7,"close"),X()()(),G(8,"div",6)(9,"div",7),we("click",function(){return i.typeSelected.emit("evaluative")}),G(10,"div",8)(11,"span",9),y(12,"quiz"),X()(),G(13,"h3",10),y(14,"Avaliativo"),X(),G(15,"p",11),y(16,"Para validar conhecimento."),X()(),G(17,"div",12),we("click",function(){return i.typeSelected.emit("survey")}),G(18,"div",8)(19,"span",9),y(20,"poll"),X()(),G(21,"h3",10),y(22,"Pesquisa"),X(),G(23,"p",11),y(24,"Para coletar opini\xF5es."),X()()(),G(25,"div",13)(26,"button",14),we("click",function(){return i.close.emit()}),y(27," Voltar "),X()()()()),t&2&&(E(17),ne("highlight-feature",i.isHighlighting()))},dependencies:[ke],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}"],changeDetection:0});var Om=Fl;var Ll=class Ll{constructor(){this.quizType=be.required();this.close=ue();this.back=ue();this.nameSaved=ue();this.quizName=P("")}save(){this.quizName().trim()&&this.nameSaved.emit(this.quizName().trim())}};Ll.\u0275fac=function(t){return new(t||Ll)},Ll.\u0275cmp=Pe({type:Ll,selectors:[["app-quiz-name-modal"]],inputs:{quizType:[1,"quizType"]},outputs:{close:"close",back:"back",nameSaved:"nameSaved"},decls:17,vars:3,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","animate-fade-in",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-md","p-8","m-4","animate-scale-up",3,"click"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"w-12","h-12","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-400","dark:text-gray-500","hover:text-gray-600","dark:hover:text-gray-300",3,"click"],[1,"material-symbols-outlined","text-3xl"],["for","quizName",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","quizName","placeholder","Ex: Quiz de Boas Vindas",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm","focus:outline-none","focus:ring-purple-500","focus:border-purple-500","dark:text-gray-200",3,"ngModelChange","ngModel"],[1,"mt-8","flex","justify-end","gap-4"],[1,"bg-transparent","text-gray-700","dark:text-gray-300","font-semibold","py-2","px-6","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","transition","border","border-gray-300","dark:border-gray-600",3,"click"],[1,"bg-gray-700","text-white","font-bold","py-2","px-6","rounded-full","hover:bg-gray-800","disabled:bg-gray-300","dark:disabled:bg-gray-600","disabled:cursor-not-allowed","transition",3,"click","disabled"]],template:function(t,i){t&1&&(m(0,"div",0),A("click",function(){return i.close.emit()}),m(1,"div",1),A("click",function(o){return o.stopPropagation()}),m(2,"div",2)(3,"h2",3),y(4),g(),m(5,"button",4),A("click",function(){return i.close.emit()}),m(6,"span",5),y(7,"close"),g()()(),m(8,"div")(9,"label",6),y(10,"Nome do Quiz *"),g(),m(11,"input",7),Gt("ngModelChange",function(o){return Zt(i.quizName,o)||(i.quizName=o),o}),g()(),m(12,"div",8)(13,"button",9),A("click",function(){return i.back.emit()}),y(14," Voltar "),g(),m(15,"button",10),A("click",function(){return i.save()}),y(16," Salvar "),g()()()()),t&2&&(E(4),Te(" Novo Quiz (",i.quizType()==="survey"?"Pesquisa":"Avaliativo",") "),E(7),zt("ngModel",i.quizName),E(4),F("disabled",!i.quizName().trim()))},dependencies:[ke,kt,At,Mt,xt],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}"],changeDetection:0});var Vm=Ll;var ej=()=>[];function tj(n,e){if(n&1){let t=B();m(0,"div")(1,"label",12),y(2,"Tipo da Pergunta"),g(),m(3,"div",13)(4,"label",14)(5,"input",15),A("change",function(){S(t);let r=C();return T(r.setQuestionType("multipleChoice"))}),g(),m(6,"span",16),y(7,"M\xFAltipla Escolha"),g()(),m(8,"label",14)(9,"input",17),A("change",function(){S(t);let r=C();return T(r.setQuestionType("openText"))}),g(),m(10,"span",16),y(11,"Texto Aberto"),g()()()()}if(n&2){let t=C();E(5),F("checked",t.question().questionType==="multipleChoice"),E(4),F("checked",t.question().questionType==="openText")}}function nj(n,e){if(n&1){let t=B();m(0,"input",28),A("change",function(){S(t);let r=C().$index,o=C(2);return T(o.setCorrectAlternative(r))}),g()}if(n&2){let t=C().$index,i=C(2);F("name",i.question().id)("checked",i.question().correctAnswerIndex===t)}}function ij(n,e){n&1&&(m(0,"div",25),Re(1,"div",29),g())}function rj(n,e){if(n&1){let t=B();m(0,"div",20),L(1,nj,1,2,"input",24)(2,ij,2,0,"div",25),m(3,"input",26),A("input",function(r){let o=S(t).$index,s=C(2);return T(s.updateAlternative(o,r))}),g(),m(4,"button",27),A("click",function(){let r=S(t).$index,o=C(2);return T(o.removeAlternative(r))}),m(5,"span",22),y(6,"delete"),g()()()}if(n&2){let t=e.$implicit,i=e.$index,r=C(2);E(),O(r.quizType()==="evaluative"?1:2),E(2),F("value",t)("placeholder","Descreva a "+(i+1)+"\xAA op\xE7\xE3o *"),E(),F("disabled",(r.question().alternatives||Me(4,ej)).length<=2)}}function oj(n,e){n&1&&(m(0,"p",23),y(1,"Marque a alternativa correta."),g())}function sj(n,e){if(n&1){let t=B();m(0,"div")(1,"label",18),y(2,"Op\xE7\xF5es de Resposta"),g(),m(3,"div",19),Ee(4,rj,7,5,"div",20,Eo),g(),m(6,"button",21),A("click",function(){S(t);let r=C();return T(r.addAlternative())}),m(7,"span",22),y(8,"add_circle"),g(),y(9," Adicionar Op\xE7\xE3o "),g(),L(10,oj,2,0,"p",23),g()}if(n&2){let t=C();E(4),xe(t.question().alternatives),E(6),O(t.quizType()==="evaluative"?10:-1)}}var Ol=class Ol{constructor(){this.quizType=be.required();this.questionToEdit=be(null);this.close=ue();this.questionSaved=ue();this.question=P({});it(()=>{let e=this.questionToEdit();e?this.question.set(JSON.parse(JSON.stringify(e))):this.question.set({id:`q_${Date.now()}`,questionType:"multipleChoice",questionText:"",alternatives:["",""],correctAnswerIndex:0})})}setQuestionType(e){this.question.update(t=>V(I({},t),{questionType:e}))}updateQuestionText(e){this.question.update(t=>V(I({},t),{questionText:e}))}updateAlternative(e,t){let i=t.target.value;this.question.update(r=>{let o=[...r.alternatives||[]];return o[e]=i,V(I({},r),{alternatives:o})})}addAlternative(){this.question.update(e=>{let t=[...e.alternatives||[],""];return V(I({},e),{alternatives:t})})}removeAlternative(e){this.question.update(t=>{if(!t.alternatives||t.alternatives.length<=2)return t;let i=t.alternatives.filter((r,o)=>o!==e);return t.correctAnswerIndex!==null&&t.correctAnswerIndex!==void 0&&t.correctAnswerIndex>=i.length&&(t.correctAnswerIndex=i.length-1),V(I({},t),{alternatives:i})})}setCorrectAlternative(e){this.question.update(t=>V(I({},t),{correctAnswerIndex:e}))}save(){this.question().questionText.trim()&&(this.question().questionType==="multipleChoice"&&(this.question().alternatives||[]).some(e=>!e.trim())||this.questionSaved.emit(this.question()))}};Ol.\u0275fac=function(t){return new(t||Ol)},Ol.\u0275cmp=Pe({type:Ol,selectors:[["app-add-question-modal"]],inputs:{quizType:[1,"quizType"],questionToEdit:[1,"questionToEdit"]},outputs:{close:"close",questionSaved:"questionSaved"},decls:20,vars:4,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","animate-fade-in",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-2xl","p-8","m-4","animate-scale-up",3,"click"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"w-12","h-12","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-400","dark:text-gray-500","hover:text-gray-600","dark:hover:text-gray-300",3,"click"],[1,"material-symbols-outlined","text-3xl"],[1,"space-y-6","max-h-[60vh]","overflow-y-auto","pr-2"],["for","questionText",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","questionText","rows","3",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm","focus:outline-none","focus:ring-purple-500","focus:border-purple-500",3,"ngModelChange","ngModel"],[1,"mt-8","flex","justify-end","gap-4"],[1,"bg-gray-100","dark:bg-gray-700","text-gray-700","dark:text-gray-300","font-semibold","py-2","px-4","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","transition",3,"click"],[1,"bg-purple-600","text-white","font-bold","py-2","px-4","rounded-full","hover:bg-purple-700","transition",3,"click"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"flex","items-center","gap-6"],[1,"flex","items-center","gap-2","cursor-pointer"],["type","radio","name","questionType","value","multipleChoice",1,"h-4","w-4","text-purple-600","focus:ring-purple-500","border-gray-300",3,"change","checked"],[1,"text-gray-700","dark:text-gray-300"],["type","radio","name","questionType","value","openText",1,"h-4","w-4","text-purple-600","focus:ring-purple-500","border-gray-300",3,"change","checked"],[1,"block","text-sm","font-medium","mb-2","dark:text-gray-300"],[1,"space-y-3"],[1,"flex","items-center","gap-3"],[1,"mt-3","text-sm","font-semibold","text-purple-600","dark:text-purple-400","hover:underline","flex","items-center","gap-1",3,"click"],[1,"material-symbols-outlined","text-base"],[1,"text-xs","text-gray-500","mt-2"],["type","radio",1,"h-5","w-5","text-purple-600","focus:ring-purple-500","shrink-0","cursor-pointer",3,"name","checked"],[1,"w-5","h-5","flex","items-center","justify-center"],["type","text",1,"flex-1","p-2","border","rounded-lg","dark:bg-gray-800","dark:border-gray-600","focus:ring-purple-500","focus:border-purple-500",3,"input","value","placeholder"],[1,"p-2","rounded-full","hover:bg-red-100","dark:hover:bg-red-900/50","text-red-500","disabled:text-gray-400","dark:disabled:text-gray-600","disabled:cursor-not-allowed",3,"click","disabled"],["type","radio",1,"h-5","w-5","text-purple-600","focus:ring-purple-500","shrink-0","cursor-pointer",3,"change","name","checked"],[1,"w-2.5","h-2.5","rounded-full","border","border-gray-400","dark:border-gray-500"]],template:function(t,i){t&1&&(m(0,"div",0),A("click",function(){return i.close.emit()}),m(1,"div",1),A("click",function(o){return o.stopPropagation()}),m(2,"div",2)(3,"h2",3),y(4),g(),m(5,"button",4),A("click",function(){return i.close.emit()}),m(6,"span",5),y(7,"close"),g()()(),m(8,"div",6),L(9,tj,12,2,"div"),m(10,"div")(11,"label",7),y(12,"Descreva a quest\xE3o *"),g(),m(13,"textarea",8),A("ngModelChange",function(o){return i.updateQuestionText(o)}),g()(),L(14,sj,11,1,"div"),g(),m(15,"div",9)(16,"button",10),A("click",function(){return i.close.emit()}),y(17," Cancelar "),g(),m(18,"button",11),A("click",function(){return i.save()}),y(19," Salvar "),g()()()()),t&2&&(E(4),Te(" ",i.questionToEdit()?"Editar":"Nova"," Quest\xE3o "),E(5),O(i.quizType()==="survey"?9:-1),E(4),F("ngModel",i.question().questionText),E(),O(i.question().questionType==="multipleChoice"?14:-1))},dependencies:[ke,kt,At,Mt,xt],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}"],changeDetection:0});var Bm=Ol;var aj=()=>({key:"isActive",label:"Curso ativo",desc:""}),lj=()=>({key:"enableSatisfactionSurvey",label:"Pesquisa de satisfa\xE7\xE3o",desc:""}),uj=()=>({key:"allowRetake",label:"Permitir rematr\xEDcula",desc:""}),cj=()=>({key:"allowRetakeForFailed",label:"Permitir rematr\xEDcula para reprovados",desc:"",dependsOn:"allowRetake"}),dj=()=>({key:"minimumPerformanceRequired",label:"Performance m\xEDnima",desc:""}),fj=()=>({key:"hasCustomMetadata",label:"Data meta personalizada",desc:""}),pj=()=>({key:"isTemporary",label:"Curso tempor\xE1rio",desc:""}),hj=()=>({key:"contentLocking",label:"Trava para avan\xE7o de conte\xFAdo",desc:""}),mj=()=>({key:"hasCustomCertificate",label:"Certificado personalizado",desc:""}),gj=(n,e,t,i,r,o,s,a,l)=>[n,e,t,i,r,o,s,a,l],vj=()=>[],_j=(n,e)=>e.key,aM=(n,e)=>e.id,yj=(n,e)=>e.type;function Cj(n,e){if(n&1){let t=B();m(0,"h2",9),y(1,"Informa\xE7\xF5es"),g(),m(2,"p",10),y(3,"Preencha os campos com todas as informa\xE7\xF5es"),g(),m(4,"div",11)(5,"div",12)(6,"div")(7,"label",13),y(8,"Nome *"),g(),m(9,"input",14),A("ngModelChange",function(r){S(t);let o=C();return T(o.updateField("name",r))}),g(),m(10,"p",15),y(11),g()(),m(12,"div")(13,"label",16),y(14,"C\xF3digo interno"),g(),m(15,"input",17),A("ngModelChange",function(r){S(t);let o=C();return T(o.updateField("internalCode",r))}),g()()(),m(16,"div")(17,"label",18),y(18,"Categoria *"),g(),m(19,"input",19),A("ngModelChange",function(r){S(t);let o=C();return T(o.updateField("category",r))}),g()(),m(20,"div",20)(21,"div")(22,"label",21),y(23,"Idioma *"),g(),m(24,"select",22),A("ngModelChange",function(r){S(t);let o=C();return T(o.updateField("language",r))}),m(25,"option",23),y(26,"Portugu\xEAs (BR)"),g(),m(27,"option",24),y(28,"Ingl\xEAs (US)"),g()()(),m(29,"div")(30,"label",25),y(31,"Tipo *"),g(),m(32,"select",26),A("ngModelChange",function(r){S(t);let o=C();return T(o.updateField("courseType",r))}),m(33,"option",27),y(34,"Tipo 1"),g(),m(35,"option",28),y(36,"Tipo 2"),g()()(),m(37,"div")(38,"label",29),y(39,"Avalia\xE7\xE3o *"),g(),m(40,"select",30),A("ngModelChange",function(r){S(t);let o=C();return T(o.updateField("evaluationType",r))}),m(41,"option",31),y(42,"Avalia\xE7\xE3o 1"),g(),m(43,"option",32),y(44,"Avalia\xE7\xE3o 2"),g()()()(),m(45,"div")(46,"label",33),y(47,"Descri\xE7\xE3o *"),g(),m(48,"textarea",34),A("ngModelChange",function(r){S(t);let o=C();return T(o.updateField("description",r))}),g(),m(49,"p",15),y(50),g()()()}if(n&2){let t=C();E(9),F("ngModel",t.course().name),E(2),Te("",t.course().name.length,"/200"),E(4),F("ngModel",t.course().internalCode),E(4),F("ngModel",t.course().category),E(5),F("ngModel",t.course().language),E(8),F("ngModel",t.course().courseType),E(8),F("ngModel",t.course().evaluationType),E(8),F("ngModel",t.course().description),E(2),Te("",t.course().description.length,"/250")}}function Ej(n,e){if(n&1){let t=B();Re(0,"img",42),m(1,"div",43)(2,"button",44),A("click",function(){S(t);let r=C(3);return T(r.openImageUploadModal("banner"))}),m(3,"span",45),y(4,"edit"),g(),y(5," Alterar Imagem "),g(),m(6,"button",46),A("click",function(){S(t);let r=C(3);return T(r.removeImage("banner"))}),m(7,"span",45),y(8,"delete"),g(),y(9," Remover "),g()()}n&2&&F("src",e,Dt)}function xj(n,e){if(n&1){let t=B();m(0,"div",47),A("click",function(){S(t);let r=C(3);return T(r.openImageUploadModal("banner"))}),m(1,"span",48),y(2,"image"),g(),m(3,"p",49),y(4,"Clique para adicionar uma imagem"),g(),m(5,"p",50),y(6,"A propor\xE7\xE3o da imagem deve ser 3:1"),g()()}}function wj(n,e){if(n&1&&(m(0,"div",39),L(1,Ej,10,1)(2,xj,7,0,"div",41),g()),n&2){let t,i=C(2);E(),O((t=i.bannerPreview())?1:2,t)}}function Sj(n,e){if(n&1){let t=B();Re(0,"img",51),m(1,"div",43)(2,"button",44),A("click",function(){S(t);let r=C(3);return T(r.openImageUploadModal("card"))}),m(3,"span",45),y(4,"edit"),g(),y(5," Alterar Imagem "),g(),m(6,"button",46),A("click",function(){S(t);let r=C(3);return T(r.removeImage("card"))}),m(7,"span",45),y(8,"delete"),g(),y(9," Remover "),g()()}n&2&&F("src",e,Dt)}function Tj(n,e){if(n&1){let t=B();m(0,"div",47),A("click",function(){S(t);let r=C(3);return T(r.openImageUploadModal("card"))}),m(1,"span",48),y(2,"image"),g(),m(3,"p",49),y(4,"Clique para adicionar uma imagem"),g(),m(5,"p",50),y(6,"A propor\xE7\xE3o da imagem deve ser 9:16"),g()()}}function bj(n,e){if(n&1&&(m(0,"div",40),L(1,Sj,10,1)(2,Tj,7,0,"div",41),g()),n&2){let t,i=C(2);E(),O((t=i.cardPreview())?1:2,t)}}function Ij(n,e){if(n&1){let t=B();m(0,"h2",9),y(1,"Imagens"),g(),m(2,"p",10),y(3,"Escolha as imagens para a exibi\xE7\xE3o do banner e para o card do curso"),g(),m(4,"div")(5,"div",35)(6,"nav",36)(7,"button",37),A("click",function(){S(t);let r=C();return T(r.imageTab.set("banner"))}),y(8,"Banner"),g(),m(9,"button",37),A("click",function(){S(t);let r=C();return T(r.imageTab.set("card"))}),y(10,"Card"),g()()(),m(11,"div",38),L(12,wj,3,1,"div",39),L(13,bj,3,1,"div",40),g()()}if(n&2){let t=C();E(7),ne("border-purple-500",t.imageTab()==="banner")("dark:border-purple-400",t.imageTab()==="banner")("text-purple-600",t.imageTab()==="banner")("dark:text-purple-400",t.imageTab()==="banner"),E(2),ne("border-purple-500",t.imageTab()==="card")("dark:border-purple-400",t.imageTab()==="card")("text-purple-600",t.imageTab()==="card")("dark:text-purple-400",t.imageTab()==="card"),E(3),O(t.imageTab()==="banner"?12:-1),E(),O(t.imageTab()==="card"?13:-1)}}function Dj(n,e){if(n&1){let t=B();m(0,"span",62),y(1,"Tempo m\xEDnimo*"),g(),m(2,"input",63),A("ngModelChange",function(r){S(t);let o=C(5);return T(o.updateContentLocking(!0,r))}),g()}if(n&2){let t=C(5);E(2),F("ngModel",t.course().contentLocking.minimumTime)}}function Aj(n,e){if(n&1){let t=B();m(0,"div",55)(1,"div",56)(2,"label",57),y(3),g(),m(4,"span",58),y(5,"info"),g()(),m(6,"div",56),L(7,Dj,3,1),m(8,"label",59)(9,"input",60),A("ngModelChange",function(r){S(t);let o=C().$implicit,s=C(3);return T(o.key==="contentLocking"?s.updateContentLocking(r):s.updateField(o.key,r))}),g(),Re(10,"div",61),g()()()}if(n&2){let t=C().$implicit,i=C(3);ne("ml-8",t.dependsOn),E(2),F("for",t.key),E(),ie(t.label),E(4),O(t.key==="contentLocking"&&i.course().contentLocking.enabled?7:-1),E(2),F("id",t.key)("ngModel",t.key==="contentLocking"?i.course().contentLocking.enabled:i.course()[t.key])}}function Mj(n,e){if(n&1&&L(0,Aj,11,7,"div",54),n&2){let t=e.$implicit,i=C(3);O(!t.dependsOn||i.course()[t.dependsOn]?0:-1)}}function kj(n,e){n&1&&(m(0,"div",53),Ee(1,Mj,1,1,null,null,_j),g()),n&2&&(E(),xe(rC(9,gj,[Me(0,aj),Me(1,lj),Me(2,uj),Me(3,cj),Me(4,dj),Me(5,fj),Me(6,pj),Me(7,hj),Me(8,mj)])))}function Nj(n,e){n&1&&(m(0,"div")(1,"p",64),y(2,"Adicione os grupos que estar\xE3o vinculados a este curso"),g(),m(3,"div",65),Re(4,"input",66),g()())}function Pj(n,e){n&1&&(m(0,"div")(1,"p",64),y(2,"Adicione os contribuidores deste curso"),g(),m(3,"div",65),Re(4,"input",67),g()())}function Rj(n,e){if(n&1){let t=B();m(0,"h2",9),y(1,"Configura\xE7\xF5es"),g(),m(2,"p",10),y(3,"Ative ou desative fun\xE7\xF5es para esse curso"),g(),m(4,"div",52)(5,"nav",36)(6,"button",37),A("click",function(){S(t);let r=C();return T(r.settingsTab.set("settings"))}),y(7,"Configura\xE7\xF5es"),g(),m(8,"button",37),A("click",function(){S(t);let r=C();return T(r.settingsTab.set("groups"))}),y(9,"Grupos"),g(),m(10,"button",37),A("click",function(){S(t);let r=C();return T(r.settingsTab.set("contributors"))}),y(11,"Contribuidores"),g()()(),L(12,kj,3,19,"div",53)(13,Nj,5,0,"div")(14,Pj,5,0,"div")}if(n&2){let t,i=C();E(6),ne("border-purple-500",i.settingsTab()==="settings")("dark:border-purple-400",i.settingsTab()==="settings")("text-purple-600",i.settingsTab()==="settings")("dark:text-purple-400",i.settingsTab()==="settings"),E(2),ne("border-purple-500",i.settingsTab()==="groups")("dark:border-purple-400",i.settingsTab()==="groups")("text-purple-600",i.settingsTab()==="groups")("dark:text-purple-400",i.settingsTab()==="groups"),E(2),ne("border-purple-500",i.settingsTab()==="contributors")("dark:border-purple-400",i.settingsTab()==="contributors")("text-purple-600",i.settingsTab()==="contributors")("dark:text-purple-400",i.settingsTab()==="contributors"),E(2),O((t=i.settingsTab())==="settings"?12:t==="groups"?13:t==="contributors"?14:-1)}}function Fj(n,e){if(n&1){let t=B();m(0,"input",89),A("blur",function(r){S(t);let o=C().$implicit,s=C(2);return T(s.saveTopicTitle(o.id,r))})("keyup.enter",function(r){S(t);let o=C().$implicit,s=C(2);return T(s.saveTopicTitle(o.id,r))})("click",function(r){return S(t),T(r.stopPropagation())})("focus",function(r){return S(t),T(r.target.select())}),g()}if(n&2){let t=C().$implicit;F("value",t.title)}}function Lj(n,e){if(n&1&&(m(0,"h3",83),y(1),g()),n&2){let t=C().$implicit;E(),ie(t.title)}}function Oj(n,e){if(n&1){let t=B();m(0,"div",90),A("click",function(r){return S(t),T(r.stopPropagation())}),m(1,"a",91),A("click",function(){S(t);let r=C().$implicit,o=C(2);return T(o.startTopicEdit(r.id))}),m(2,"span",92),y(3,"edit"),g(),y(4,"Renomear"),g(),m(5,"a",91),A("click",function(){S(t);let r=C().$implicit,o=C(2);return T(o.duplicateTopic(r.id))}),m(6,"span",92),y(7,"content_copy"),g(),y(8,"Duplicar"),g(),Re(9,"div",93),m(10,"a",94),A("click",function(){S(t);let r=C().$implicit,o=C(2);return T(o.removeTopic(r.id))}),m(11,"span",92),y(12,"delete"),g(),y(13,"Excluir T\xF3pico"),g()()}}function Vj(n,e){n&1&&(m(0,"div",110),y(1," Cadastre a sua primeira pergunta "),g())}function Bj(n,e){}function qj(n,e){if(n&1){let t=B();m(0,"div",99)(1,"div",101)(2,"div",71)(3,"span",102),y(4,"poll"),g(),m(5,"div")(6,"p",103),y(7),g(),m(8,"p",104),y(9,"17 de novembro de 2025"),g()(),m(10,"span",105),y(11," Pesquisa "),g()(),m(12,"div",106)(13,"button",107),A("click",function(){S(t);let r=C().$implicit,o=C(4);return T(o.openAddQuestionModal(r))}),m(14,"span",92),y(15,"add"),g(),y(16," Pergunta "),g(),m(17,"select",108)(18,"option"),y(19,"1 dia ap\xF3s a..."),g()(),m(20,"select",108)(21,"option"),y(22,"Manh\xE3"),g()(),m(23,"button",109),A("click",function(){S(t);let r=C().$implicit,o=C(2).$implicit,s=C(2);return T(s.editQuiz(o.id,r.id))}),m(24,"span",92),y(25,"edit"),g()(),m(26,"button",109),A("click",function(){S(t);let r=C().$implicit,o=C(2).$implicit,s=C(2);return T(s.removeContentItem(o.id,r.id))}),m(27,"span",92),y(28,"delete"),g()()()(),L(29,Vj,2,0,"div",110)(30,Bj,0,0),g()}if(n&2){let t=C().$implicit;E(7),ie(t.title),E(22),O(((t.quizData==null?null:t.quizData.questions)||Me(2,vj)).length===0?29:30)}}function Uj(n,e){n&1&&y(0," movie ")}function $j(n,e){n&1&&y(0," headphones ")}function Hj(n,e){n&1&&y(0," image ")}function zj(n,e){n&1&&y(0," description ")}function Gj(n,e){n&1&&y(0," link ")}function Wj(n,e){n&1&&y(0," extension ")}function Qj(n,e){n&1&&y(0," quiz ")}function jj(n,e){if(n&1&&(m(0,"span",115),y(1),g()),n&2){let t=C(2).$implicit;E(),Te("(",(t.quizData==null||t.quizData.questions==null?null:t.quizData.questions.length)??0," quest\xF5es)")}}function Yj(n,e){if(n&1){let t=B();m(0,"button",119),A("click",function(){S(t);let r=C(2).$implicit,o=C(2).$implicit,s=C(2);return T(s.editQuiz(o.id,r.id))}),y(1,"Editar Quiz"),g()}}function Jj(n,e){n&1&&(m(0,"button",117),y(1,"Editar"),g())}function Zj(n,e){if(n&1){let t=B();m(0,"a",91),A("click",function(){S(t);let r=C(3).$implicit,o=C(4);return T(o.previewQuiz(r.quizData))}),m(1,"span",92),y(2,"visibility"),g(),y(3,"Pr\xE9-visualizar"),g()}}function Kj(n,e){n&1&&(m(0,"a",120)(1,"span",92),y(2,"visibility"),g(),y(3,"Pr\xE9-visualizar"),g())}function Xj(n,e){if(n&1){let t=B();m(0,"div",90),A("click",function(r){return S(t),T(r.stopPropagation())}),L(1,Zj,4,0,"a",120)(2,Kj,4,0,"a",120),m(3,"a",91),A("click",function(){S(t);let r=C(2).$implicit,o=C(2).$implicit,s=C(2);return T(s.duplicateContentItem(o.id,r.id))}),m(4,"span",92),y(5,"content_copy"),g(),y(6,"Duplicar"),g(),m(7,"a",120)(8,"span",92),y(9,"low_priority"),g(),y(10,"Mover para..."),g(),Re(11,"div",93),m(12,"a",94),A("click",function(){S(t);let r=C(2).$implicit,o=C(2).$implicit,s=C(2);return T(s.removeContentItem(o.id,r.id))}),m(13,"span",92),y(14,"delete"),g(),y(15,"Excluir"),g()()}if(n&2){let t=C(2).$implicit;E(),O(t.type==="quiz"?1:2)}}function eY(n,e){if(n&1){let t=B();m(0,"div",111),A("dragstart",function(r){S(t);let o=C().$implicit,s=C(2).$implicit,a=C(2);return T(a.onDragStart(r,"content",s.id,o.id))})("dragend",function(r){S(t);let o=C(5);return T(o.onDragEnd(r))}),m(1,"span",112),y(2,"drag_handle"),g(),m(3,"span",113),L(4,Uj,1,0)(5,$j,1,0)(6,Hj,1,0)(7,zj,1,0)(8,Gj,1,0)(9,Wj,1,0)(10,Qj,1,0),g(),m(11,"p",114),y(12),L(13,jj,2,1,"span",115),g(),m(14,"div",116),L(15,Yj,2,0,"button",117)(16,Jj,2,0,"button",117),m(17,"div",84)(18,"button",118),A("click",function(){S(t);let r=C().$implicit,o=C(4);return T(o.toggleContentMenu(r.id))}),m(19,"span",92),y(20,"more_vert"),g()(),L(21,Xj,16,1,"div",86),g()()()}if(n&2){let t,i=C().$implicit,r=C(4);E(4),O((t=i.type)==="video"?4:t==="audio"?5:t==="image"?6:t==="document"?7:t==="web"?8:t==="scorm"?9:t==="quiz"?10:-1),E(8),Te(" ",i.title," "),E(),O(i.type==="quiz"?13:-1),E(2),O(i.type==="quiz"?15:16),E(6),O(r.activeContentMenu()===i.id?21:-1)}}function tY(n,e){if(n&1&&L(0,qj,31,3,"div",99)(1,eY,22,5,"div",100),n&2){let t=e.$implicit;O(t.type==="quiz"&&(t.quizData==null?null:t.quizData.quizType)==="survey"?0:1)}}function nY(n,e){n&1&&(m(0,"div",77)(1,"span",121),y(2,"add"),g(),m(3,"span",122),y(4,"Solte aqui para adicionar"),g()())}function iY(n,e){if(n&1){let t=B();m(0,"a",91),A("click",function(){let r=S(t).$implicit,o=C(3).$implicit,s=C(2);return T(s.handleContentSelected(r.type,o.id))}),m(1,"span",125),y(2),g(),m(3,"span"),y(4),g()()}if(n&2){let t=e.$implicit;E(2),ie(t.icon),E(2),ie(t.label)}}function rY(n,e){if(n&1){let t=B();m(0,"div",123),A("click",function(){S(t);let r=C(4);return T(r.activeAddContentMenu.set(null))}),g(),m(1,"div",124),Ee(2,iY,5,2,"a",120,yj),g()}if(n&2){let t=C(4);E(),ne("bottom-full",t.addContentMenuDirection()==="up")("mb-2",t.addContentMenuDirection()==="up")("top-full",t.addContentMenuDirection()==="down")("mt-2",t.addContentMenuDirection()==="down"),E(),xe(t.contentTypes)}}function oY(n,e){n&1&&(wr(),m(0,"svg",126),Re(1,"circle",127)(2,"path",128),g(),Sr(),m(3,"span"),y(4,"Gerando..."),g())}function sY(n,e){n&1&&(m(0,"span",45),y(1,"auto_awesome"),g(),m(2,"span"),y(3,"Gerar Quiz R\xE1pido"),g())}function aY(n,e){if(n&1){let t=B();m(0,"div",88),Ee(1,tY,2,1,null,null,aM),L(3,nY,5,0,"div",77),m(4,"div",95)(5,"div",96)(6,"button",97),A("click",function(r){S(t);let o=C().$implicit,s=C(2);return T(s.toggleAddContentMenu(o.id,r))}),m(7,"span",45),y(8,"add_circle"),g(),y(9," Adicionar Conte\xFAdo "),g(),L(10,rY,4,8),g(),m(11,"button",98),A("click",function(){S(t);let r=C().$implicit,o=C(2);return T(o.generateQuickQuiz(r))}),L(12,oY,5,0)(13,sY,4,0),g()()()}if(n&2){let t,i=C().$implicit,r=C(2);E(),xe(i.contents),E(2),O(r.dropTargetId()===i.id&&((t=r.draggedItem())==null?null:t.type)==="content"?3:-1),E(7),O(r.activeAddContentMenu()===i.id?10:-1),E(),F("disabled",r.isQuickQuizDisabled(i)),E(),O(r.quickQuizLoadingTopicId()===i.id?12:13)}}function lY(n,e){if(n&1){let t=B();m(0,"div",78),A("dragover",function(r){let o=S(t).$implicit,s=C(2);return T(s.onDragOver(r,o.id))})("dragleave",function(r){S(t);let o=C(2);return T(o.onDragLeave(r))})("drop",function(r){let o=S(t).$implicit,s=C(2);return T(s.onDrop(r,o.id))}),m(1,"header",79),A("dragstart",function(r){let o=S(t).$implicit,s=C(2);return T(s.onDragStart(r,"topic",o.id))})("dragend",function(r){S(t);let o=C(2);return T(o.onDragEnd(r))}),m(2,"span",80),y(3,"drag_handle"),g(),m(4,"div",81),A("click",function(){let r=S(t).$implicit,o=C(2);return T(o.toggleTopicExpansion(r.id))}),L(5,Fj,1,1,"input",82)(6,Lj,2,1,"h3",83),g(),m(7,"div",84)(8,"button",85),A("click",function(){let r=S(t).$implicit,o=C(2);return T(o.toggleTopicMenu(r.id))}),m(9,"span",45),y(10,"more_vert"),g()(),L(11,Oj,14,0,"div",86),g(),m(12,"button",85),A("click",function(){let r=S(t).$implicit,o=C(2);return T(o.toggleTopicExpansion(r.id))}),m(13,"span",87),y(14,"expand_more"),g()()(),L(15,aY,14,4,"div",88),g()}if(n&2){let t=e.$implicit,i=C(2);E(5),O(i.editingTopicId()===t.id?5:6),E(6),O(i.activeTopicMenu()===t.id?11:-1),E(2),ne("rotate-180",!i.isTopicExpanded(t.id)),E(2),O(i.isTopicExpanded(t.id)?15:-1)}}function uY(n,e){n&1&&(m(0,"div",77)(1,"span",121),y(2,"add"),g(),m(3,"span",122),y(4,"Solte aqui para reordenar"),g()())}function cY(n,e){if(n&1){let t=B();m(0,"div")(1,"header",68)(2,"div")(3,"h2",69),y(4,"Conte\xFAdos"),g(),m(5,"p",70),y(6,"Construa a estrutura do seu curso, adicionando t\xF3picos e conte\xFAdos."),g()(),m(7,"div",71)(8,"button",72),A("click",function(){S(t);let r=C();return T(r.previewCourse())}),y(9," Visualizar Como Usu\xE1rio "),g(),m(10,"button",73),A("click",function(){S(t);let r=C();return T(r.addTopic())}),m(11,"span",74),y(12,"add"),g(),y(13," Novo T\xF3pico "),g()()(),m(14,"div",75)(15,"div",53),Ee(16,lY,16,5,"div",76,aM),L(18,uY,5,0,"div",77),g()()()}if(n&2){let t,i=C();E(8),F("disabled",!i.hasContent()),E(8),xe(i.course().topics),E(2),O(i.dropTargetId()&&((t=i.draggedItem())==null?null:t.type)==="topic"?18:-1)}}function dY(n,e){if(n&1){let t=B();m(0,"div",1)(1,"div",129)(2,"span",130),y(3,"circle"),g(),m(4,"span",131),y(5,"Em Cria\xE7\xE3o"),g()(),m(6,"h2",9),y(7,"Curso criado com sucesso"),g(),m(8,"p",132),y(9,"Seu curso ser\xE1 processado e em seguida estar\xE1 pronto para revis\xE3o."),g(),m(10,"button",133),A("click",function(){S(t);let r=C();return T(r.publishCourse())}),y(11,"Publicar curso"),g()()}}function fY(n,e){if(n&1){let t=B();m(0,"app-image-upload-modal",134),A("close",function(){S(t);let r=C();return T(r.showImageUploadModal.set(!1))})("imageSelected",function(r){S(t);let o=C();return T(o.handleImageSelected(r))}),g()}n&2&&F("imageType",e)}function pY(n,e){if(n&1){let t=B();m(0,"app-image-cropper-modal",135),A("close",function(){S(t);let r=C();return T(r.closeCropperModal())})("cropped",function(r){S(t);let o=C();return T(o.handleImageCropped(r))}),g()}if(n&2){let t=C();F("imageUrl",e)("aspectRatioType",t.imageTarget())}}function hY(n,e){if(n&1){let t=B();m(0,"div",4)(1,"div",136),A("click",function(r){return S(t),T(r.stopPropagation())}),m(2,"div",137)(3,"div",138)(4,"span",139),y(5,"photo_library"),g()(),m(6,"h3",140),y(7,"Reaproveitar Imagem"),g(),m(8,"p",141),y(9," Deseja usar esta mesma imagem para o card do curso? Voc\xEA poder\xE1 ajustar o recorte para o formato de card. "),g()(),m(10,"div",142)(11,"button",143),A("click",function(){S(t);let r=C();return T(r.handleDeclineUseForCard())}),y(12," N\xE3o, obrigado "),g(),m(13,"button",144),A("click",function(){S(t);let r=C();return T(r.handleConfirmUseForCard())}),y(14," Sim, usar "),g()()()()}}function mY(n,e){if(n&1){let t=B();m(0,"app-quiz-player",145),A("exitPreview",function(){S(t);let r=C();return T(r.exitQuizPreview())}),g()}n&2&&F("quizData",e)}function gY(n,e){if(n&1){let t=B();m(0,"app-quiz-type-select-modal",146),A("close",function(){S(t);let r=C();return T(r.closeQuizModals())})("typeSelected",function(r){S(t);let o=C();return T(o.handleQuizTypeSelected(r))}),g()}if(n&2){let t=C();F("highlightTarget",t.highlightTarget())}}function vY(n,e){if(n&1){let t=B();m(0,"app-quiz-name-modal",148),A("close",function(){S(t);let r=C(2);return T(r.closeQuizModals())})("back",function(){S(t);let r=C(2);return T(r.backFromQuizName())})("nameSaved",function(r){S(t);let o=C(2);return T(o.handleQuizNameSaved(r))}),g()}n&2&&F("quizType",e)}function _Y(n,e){if(n&1&&L(0,vY,1,1,"app-quiz-name-modal",147),n&2){let t,i=C();O((t=i.quizTypeForCreation())?0:-1,t)}}function yY(n,e){if(n&1){let t=B();m(0,"app-add-question-modal",150),A("close",function(){S(t);let r=C(2);return T(r.closeQuizModals())})("questionSaved",function(r){S(t);let o=C(2);return T(o.handleQuestionSaved(r))}),g()}if(n&2){let t=e,i=C(2);F("quizType",t.quizData==null?null:t.quizData.quizType)("questionToEdit",i.editingQuestion())}}function CY(n,e){if(n&1&&L(0,yY,1,2,"app-add-question-modal",149),n&2){let t,i=C();O((t=i.editingQuizContent())?0:-1,t)}}function EY(n,e){if(n&1){let t=B();m(0,"app-quiz-creation-method-modal",151),A("close",function(){S(t);let r=C();return T(r.closeQuizModals())})("creationMethodSelected",function(r){S(t);let o=C();return T(o.handleQuizCreationMethodSelected(r))}),g()}}function xY(n,e){if(n&1){let t=B();m(0,"app-quiz-ai-assistant-modal",152),A("close",function(){S(t);let r=C();return T(r.closeQuizModals())})("back",function(){S(t);let r=C();return T(r.backFromAiQuiz())})("quizGenerated",function(r){S(t);let o=C();return T(o.handleAiQuizGenerated(r))}),g()}if(n&2){let t=C();F("contextContent",t.contentForAiQuiz())}}function wY(n,e){if(n&1){let t=B();m(0,"app-quiz-editor-modal",154),A("close",function(){S(t);let r=C(2);return T(r.closeQuizModals())})("save",function(r){S(t);let o=C(2);return T(o.handleQuizSaved(r))}),g()}if(n&2){let t=C(2);F("initialPulseData",e)("highlightTarget",t.highlightTarget())}}function SY(n,e){if(n&1&&L(0,wY,1,2,"app-quiz-editor-modal",153),n&2){let t,i=C();O((t=i.quizForContent())?0:-1,t)}}function TY(n,e){n&1&&(m(0,"div",8)(1,"span",155),y(2,"check_circle"),g(),m(3,"span"),y(4,"Curso publicado com sucesso!"),g()())}var Vl=class Vl{constructor(){this.initialCourseData=be.required();this.startAtStep=be(1);this.highlightRequest=be(null);this.exit=ue();this.preview=ue();this.course=P({});this.initialCourseState=P("");this.currentStep=P(1);this.activeAddContentMenu=P(null);this.addContentMenuDirection=P("up");this.editingTopicId=P(null);this.activeTopicMenu=P(null);this.activeContentMenu=P(null);this.expandedTopics=P(new Set);this.draggedItem=P(null);this.dropTargetId=P(null);this.imageTab=P("banner");this.bannerPreview=P(null);this.cardPreview=P(null);this.showImageUploadModal=P(!1);this.showImageCropperModal=P(!1);this.imageTarget=P(null);this.imageToCrop=P(null);this.showUseForCardConfirmModal=P(!1);this.originalImageForCard=P(null);this.settingsTab=P("settings");this.showPublishToast=P(!1);this.quizCreationState=P(null);this.quizForContent=P(null);this.targetTopicIdForQuiz=P(null);this.editingContentIdForQuiz=P(null);this.contentForAiQuiz=P([]);this.quickQuizLoadingTopicId=P(null);this.quizTypeForCreation=P(null);this.editingQuizContent=P(null);this.editingQuestion=P(null);this.highlightTarget=P(null);this.quizToPreview=P(null);this.isDirty=Fe(()=>this.initialCourseState()?JSON.stringify(this.course())!==this.initialCourseState():!1);this.hasContent=Fe(()=>this.course().topics.some(e=>e.contents.length>0));this.steps=[{number:1,name:"Informa\xE7\xF5es",description:"Configure os dados do seu curso"},{number:2,name:"Imagens",description:"Defina as imagens do seu curso"},{number:3,name:"Configura\xE7\xF5es",description:"Ajuste as configura\xE7\xF5es para exibi\xE7\xE3o"},{number:4,name:"Conte\xFAdos",description:"Adicione os conte\xFAdos em seu curso"},{number:5,name:"Finalizar",description:"Publique seu curso"}];this.contentTypes=[{type:"video",label:"V\xEDdeo",icon:"movie"},{type:"audio",label:"\xC1udio/Podcast",icon:"headphones"},{type:"image",label:"Imagem",icon:"image"},{type:"document",label:"Documento",icon:"description"},{type:"web",label:"Link da Web",icon:"link"},{type:"scorm",label:"Conte\xFAdo Interativo (SCORM)",icon:"extension"},{type:"quiz",label:"Quiz",icon:"quiz"}];it(()=>{let e=this.initialCourseData(),t=JSON.parse(JSON.stringify(e));if(this.course.set(t),this.initialCourseState.set(JSON.stringify(t)),this.bannerPreview.set(e.bannerUrl),this.cardPreview.set(e.cardUrl),this.currentStep.set(this.startAtStep()),t.topics){let i=new Set(t.topics.map(r=>r.id));this.expandedTopics.set(i)}}),it(()=>{this.currentStep()===4&&this.course().topics?.length===0&&this.addTopic()},{allowSignalWrites:!0}),it(()=>{let e=this.highlightRequest();if(!e)return;let t=e.target;if(this.highlightTarget.set(t),this.currentStep.set(4),t==="quiz-survey-type")this.targetTopicIdForQuiz.set(this.course().topics[0]?.id||null),this.quizCreationState.set("quizTypeSelect");else{let i=this.course().topics.flatMap(r=>r.contents).find(r=>r.type==="quiz");if(!i){let r=V(I({},JSON.parse(JSON.stringify(Hs))),{type:"quiz",quizType:"evaluative",name:"Quiz de Demonstra\xE7\xE3o",questions:[]});i={id:`content_highlight_${Date.now()}`,type:"quiz",title:r.name,description:"",source:"",quizData:r};let o=this.course().topics[0]?.id;o&&(this.targetTopicIdForQuiz.set(o),this.editingContentIdForQuiz.set(i.id))}i&&i.quizData&&(this.quizForContent.set(JSON.parse(JSON.stringify(i.quizData))),this.quizCreationState.set("editor"))}},{allowSignalWrites:!0})}handleStepChange(e){e>0&&e<=this.steps.length&&this.currentStep.set(e)}handleSaveAndNext(){this.currentStep()<this.steps.length&&(this.initialCourseState.set(JSON.stringify(this.course())),this.currentStep.update(e=>e+1))}updateField(e,t){this.course.update(i=>V(I({},i),{[e]:t}))}updateContentLocking(e,t){this.course.update(i=>{let r=V(I({},i.contentLocking),{enabled:e});return t!==void 0&&(r.minimumTime=t),V(I({},i),{contentLocking:r})})}addTopic(){let e={id:`topic_${Date.now()}`,title:"Novo T\xF3pico",contents:[]};this.course.update(t=>V(I({},t),{topics:[...t.topics,e]})),this.editingTopicId.set(e.id),this.expandedTopics.update(t=>(t.add(e.id),new Set(t)))}removeTopic(e){this.course.update(t=>V(I({},t),{topics:t.topics.filter(i=>i.id!==e)})),this.activeTopicMenu.set(null)}duplicateTopic(e){this.course.update(t=>{let i=[...t.topics],r=i.findIndex(a=>a.id===e);if(r===-1)return t;let o=i[r],s=JSON.parse(JSON.stringify(o));return s.id=`topic_${Date.now()}`,s.title=`${o.title} (C\xF3pia)`,s.contents.forEach(a=>{a.id=`content_${Date.now()}_${Math.random()}`,a.quizData&&a.quizData.questions&&a.quizData.questions.forEach(l=>{l.id=`q_${Date.now()}_${Math.random()}`})}),i.splice(r+1,0,s),V(I({},t),{topics:i})}),this.activeTopicMenu.set(null)}toggleAddContentMenu(e,t){if(this.activeAddContentMenu()===e)this.activeAddContentMenu.set(null);else{let r=t.currentTarget.getBoundingClientRect(),o=300,s=window.innerHeight-r.bottom,a=r.top;s<o&&a>s?this.addContentMenuDirection.set("up"):this.addContentMenuDirection.set("down"),this.activeAddContentMenu.set(e)}}handleContentSelected(e,t){if(!t)return;if(this.activeAddContentMenu.set(null),e==="quiz"){this.targetTopicIdForQuiz.set(t),this.quizCreationState.set("quizTypeSelect");return}let i={video:"V\xEDdeo",audio:"\xC1udio",image:"Imagem",document:"Documento",web:"Link da Web",scorm:"Conte\xFAdo Interativo"}[e],r={id:`content_${Date.now()}`,type:e,title:`Novo ${i}`,description:"",source:""};this.course.update(o=>{let s=o.topics.map(a=>a.id===t?V(I({},a),{contents:[...a.contents,r]}):a);return V(I({},o),{topics:s})})}startTopicEdit(e){this.editingTopicId.set(e),this.activeTopicMenu.set(null)}saveTopicTitle(e,t){let i=t.target.value.trim();i&&this.course.update(r=>{let o=r.topics.map(s=>s.id===e?V(I({},s),{title:i}):s);return V(I({},r),{topics:o})}),this.editingTopicId.set(null)}toggleTopicMenu(e){this.activeTopicMenu.update(t=>t===e?null:e)}toggleTopicExpansion(e){this.expandedTopics.update(t=>(t.has(e)?t.delete(e):t.add(e),new Set(t)))}isTopicExpanded(e){return this.expandedTopics().has(e)}toggleContentMenu(e){this.activeContentMenu.update(t=>t===e?null:e)}removeContentItem(e,t){this.course.update(i=>{let r=i.topics.map(o=>o.id===e?V(I({},o),{contents:o.contents.filter(s=>s.id!==t)}):o);return V(I({},i),{topics:r})}),this.activeContentMenu.set(null)}duplicateContentItem(e,t){this.course.update(i=>{let r=[...i.topics],o=r.findIndex(d=>d.id===e);if(o===-1)return i;let s=[...r[o].contents],a=s.findIndex(d=>d.id===t);if(a===-1)return i;let l=s[a],u=JSON.parse(JSON.stringify(l));return u.id=`content_${Date.now()}`,u.title=`${l.title} (C\xF3pia)`,u.quizData&&u.quizData.questions&&u.quizData.questions.forEach(d=>{d.id=`q_${Date.now()}_${Math.random()}`}),s.splice(a+1,0,u),r[o]=V(I({},r[o]),{contents:s}),V(I({},i),{topics:r})}),this.activeContentMenu.set(null)}openImageUploadModal(e){this.imageTarget.set(e),this.showImageUploadModal.set(!0)}removeImage(e){e==="banner"?(this.bannerPreview.set(null),this.updateField("bannerUrl",null)):e==="card"&&(this.cardPreview.set(null),this.updateField("cardUrl",null))}handleImageSelected(e){this.showImageUploadModal.set(!1),this.imageToCrop.set(e),this.showImageCropperModal.set(!0)}handleImageCropped(e){let t=this.imageTarget(),i=this.imageToCrop();t==="banner"?(this.bannerPreview.set(e),this.updateField("bannerUrl",e),this.closeCropperModal(),i&&(this.originalImageForCard.set(i),this.showUseForCardConfirmModal.set(!0))):t==="card"&&(this.cardPreview.set(e),this.updateField("cardUrl",e),this.closeCropperModal())}closeCropperModal(){this.showImageCropperModal.set(!1),this.imageToCrop.set(null),this.imageTarget.set(null)}handleConfirmUseForCard(){let e=this.originalImageForCard();e&&(this.imageTab.set("card"),this.imageTarget.set("card"),this.imageToCrop.set(e),this.showImageCropperModal.set(!0)),this.closeConfirmModal()}handleDeclineUseForCard(){this.closeConfirmModal()}closeConfirmModal(){this.showUseForCardConfirmModal.set(!1),this.originalImageForCard.set(null)}publishCourse(){this.initialCourseState.set(JSON.stringify(this.course())),this.showPublishToast.set(!0),setTimeout(()=>{this.showPublishToast.set(!1),this.exit.emit()},2500)}onDragStart(e,t,i,r){e.dataTransfer.effectAllowed="move",e.target.classList.add("dragging"),t==="topic"?this.draggedItem.set({type:"topic",topicId:i}):r&&this.draggedItem.set({type:"content",topicId:i,contentId:r})}onDragOver(e,t){e.preventDefault(),this.dropTargetId.set(t)}onDragLeave(e){e.relatedTarget?.closest(".drop-zone")||this.dropTargetId.set(null)}onDrop(e,t){e.preventDefault();let i=this.draggedItem();i&&(this.course.update(r=>{let o=[...r.topics];if(i.type==="topic"){let s=o.findIndex(u=>u.id===i.topicId),a=o.findIndex(u=>u.id===t);if(s===-1||a===-1)return r;let[l]=o.splice(s,1);o.splice(a,0,l)}else{let s=o.findIndex(p=>p.id===i.topicId),a=o.findIndex(p=>p.id===t);if(s===-1||a===-1)return r;let l=I({},o[s]);l.contents=[...l.contents];let u=l.contents.findIndex(p=>p.id===i.contentId);if(u===-1)return r;let[d]=l.contents.splice(u,1);if(i.topicId===t)l.contents.push(d),o[s]=l;else{let p=I({},o[a]);p.contents=[...p.contents,d],o[s]=l,o[a]=p}}return V(I({},r),{topics:o})}),this.onDragEnd(e))}onDragEnd(e){e.target.classList.remove("dragging"),this.draggedItem.set(null),this.dropTargetId.set(null),document.querySelectorAll(".drop-placeholder").forEach(t=>t.remove())}editQuiz(e,t){let r=this.course().topics.find(o=>o.id===e)?.contents.find(o=>o.id===t);r&&r.quizData&&(this.targetTopicIdForQuiz.set(e),this.editingContentIdForQuiz.set(t),this.quizForContent.set(JSON.parse(JSON.stringify(r.quizData))),this.quizCreationState.set("editor"))}isQuickQuizDisabled(e){let t=e.contents.some(r=>r.type!=="quiz"),i=e.contents.some(r=>r.type==="quiz");return!t||i||!!this.quickQuizLoadingTopicId()}async generateQuickQuiz(e){let t=e.contents.filter(o=>o.type!=="quiz");if(t.length===0||this.quickQuizLoadingTopicId())return;this.quickQuizLoadingTopicId.set(e.id);let i=t.map(o=>o.title).join(", "),r=`Gere um quiz com 5 perguntas de m\xFAltipla escolha com 4 alternativas cada sobre o t\xF3pico "${e.title}". O conte\xFAdo de refer\xEAncia inclui: ${i}. As perguntas devem ser relevantes para esses conte\xFAdos. Apenas uma alternativa deve ser a correta. Retorne o resultado em um formato JSON que corresponda ao schema fornecido.`;try{let o=localStorage.getItem("GOOGLE_GENAI_API_KEY")||window.ENV?.API_KEY;if(!o)throw new Error("API_KEY not configured. Please set up your API key in the environment settings.");let s=new Ws({apiKey:o}),a={type:hn.OBJECT,properties:{questions:{type:hn.ARRAY,items:{type:hn.OBJECT,properties:{questionText:{type:hn.STRING,description:"O enunciado da pergunta."},alternatives:{type:hn.ARRAY,items:{type:hn.STRING},description:"Uma lista de 4 poss\xEDveis respostas."},correctAnswerIndex:{type:hn.INTEGER,description:"O \xEDndice (base 0) da alternativa correta."}},required:["questionText","alternatives","correctAnswerIndex"]}}},required:["questions"]},u=(await s.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json",responseSchema:a}})).text.trim();u.startsWith("```json")&&(u=u.substring(7,u.length-3).trim());let d=JSON.parse(u);if(!d.questions||!Array.isArray(d.questions))throw new Error("Formato de resposta da IA inv\xE1lido.");let p=V(I({},JSON.parse(JSON.stringify(Hs))),{type:"quiz",name:`Quiz sobre: ${e.title}`,description:"Este quiz foi gerado por IA sobre o conte\xFAdo do t\xF3pico.",questions:d.questions.map(v=>({id:`q_${Date.now()}_${Math.random().toString(36).substring(2)}`,questionType:"multipleChoice",questionText:v.questionText,alternatives:v.alternatives,correctAnswerIndex:v.correctAnswerIndex,imageUrl:null,imagePosition:"before",isInBank:!1}))}),h={id:`content_${Date.now()}`,type:"quiz",title:p.name,description:p.description,source:`quiz_internal_${Date.now()}`,quizData:p};this.course.update(v=>{let x=v.topics.map(b=>b.id===e.id?V(I({},b),{contents:[...b.contents,h]}):b);return V(I({},v),{topics:x})})}catch(o){console.error("Error generating quick quiz:",o)}finally{this.quickQuizLoadingTopicId.set(null)}}handleQuizTypeSelected(e){this.quizTypeForCreation.set(e),e==="evaluative"?this.quizCreationState.set("method"):this.quizCreationState.set("quizName")}handleQuizNameSaved(e){let t=this.targetTopicIdForQuiz();if(!t)return;let i=V(I({},JSON.parse(JSON.stringify(Hs))),{type:"quiz",quizType:this.quizTypeForCreation(),name:e,questions:[]}),r={id:`content_${Date.now()}`,type:"quiz",title:i.name,description:"",source:`quiz_internal_${Date.now()}`,quizData:i};this.course.update(o=>{let s=o.topics.map(a=>a.id===t?V(I({},a),{contents:[...a.contents,r]}):a);return V(I({},o),{topics:s})}),this.closeQuizModals()}backFromQuizName(){this.quizCreationState.set("quizTypeSelect")}openAddQuestionModal(e,t=null){this.editingQuizContent.set(e),this.editingQuestion.set(t),this.quizCreationState.set("addQuestion")}handleQuestionSaved(e){let t=this.editingQuizContent();!t||!t.quizData||(this.course.update(i=>V(I({},i),{topics:i.topics.map(r=>V(I({},r),{contents:r.contents.map(o=>{if(o.id===t.id){let s=I({},o.quizData),a=[...s.questions||[]],l=a.findIndex(u=>u.id===e.id);return l>-1?a[l]=e:a.push(e),s.questions=a,V(I({},o),{quizData:s})}return o})}))})),this.closeQuizModals())}handleQuizCreationMethodSelected(e){if(e==="manual"){let t=V(I({},JSON.parse(JSON.stringify(Hs))),{type:"quiz",quizType:"evaluative",name:"Novo Quiz"});this.quizForContent.set(t),this.quizCreationState.set("editor")}else{let t=this.targetTopicIdForQuiz();if(t){let r=this.course().topics.find(o=>o.id===t)?.contents.filter(o=>o.type!=="quiz")??[];this.contentForAiQuiz.set(r)}this.quizCreationState.set("ai")}}handleAiQuizGenerated(e){this.quizForContent.set(e),this.quizCreationState.set("editor")}handleQuizSaved(e){let t=this.targetTopicIdForQuiz(),i=this.editingContentIdForQuiz();if(t){if(i)this.course.update(r=>{let o=r.topics.map(s=>{if(s.id===t){let a=s.contents.map(l=>l.id===i?V(I({},l),{title:e.name,description:e.description||"",quizData:e}):l);return V(I({},s),{contents:a})}return s});return V(I({},r),{topics:o})});else{let r={id:`content_${Date.now()}`,type:"quiz",title:e.name,description:e.description||"",source:`quiz_internal_${Date.now()}`,quizData:e};this.course.update(o=>{let s=o.topics.map(a=>a.id===t?V(I({},a),{contents:[...a.contents,r]}):a);return V(I({},o),{topics:s})})}this.closeQuizModals()}}closeQuizModals(){this.quizCreationState.set(null),this.quizForContent.set(null),this.targetTopicIdForQuiz.set(null),this.editingContentIdForQuiz.set(null),this.contentForAiQuiz.set([]),this.quizTypeForCreation.set(null),this.editingQuizContent.set(null),this.editingQuestion.set(null)}backFromAiQuiz(){this.quizCreationState.set("method")}previewQuiz(e){this.quizToPreview.set(e),this.activeContentMenu.set(null)}exitQuizPreview(){this.quizToPreview.set(null)}previewCourse(){this.preview.emit(this.course())}};Vl.\u0275fac=function(t){return new(t||Vl)},Vl.\u0275cmp=Pe({type:Vl,selectors:[["app-course-wizard"]],inputs:{initialCourseData:[1,"initialCourseData"],startAtStep:[1,"startAtStep"],highlightRequest:[1,"highlightRequest"]},outputs:{exit:"exit",preview:"preview"},decls:17,vars:10,consts:[["title","Criar curso interno",3,"stepChange","saveAndNext","publish","exit","steps","currentStep","isDirty"],[1,"flex","flex-col","items-center","justify-center","h-full","text-center"],[3,"imageType"],[3,"imageUrl","aspectRatioType"],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","animate-fade-in"],[3,"quizData"],[3,"highlightTarget"],[3,"contextContent"],[1,"fixed","bottom-5","right-5","bg-gray-900","text-white","py-3","px-5","rounded-lg","shadow-lg","flex","items-center","animate-fade-in-out","z-50"],[1,"text-3xl","font-bold","text-gray-800","dark:text-gray-200","mb-2"],[1,"text-gray-600","dark:text-gray-400","mb-8"],[1,"space-y-6"],[1,"grid","grid-cols-2","gap-6"],["for","name",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","name","maxlength","200",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm","focus:outline-none","focus:ring-purple-500","focus:border-purple-500","dark:text-gray-200",3,"ngModelChange","ngModel"],[1,"text-right","text-xs","text-gray-500","dark:text-gray-400","mt-1"],["for","code",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","code",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm","focus:outline-none","focus:ring-purple-500","focus:border-purple-500","dark:text-gray-200",3,"ngModelChange","ngModel"],["for","category",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","category",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm","focus:outline-none","focus:ring-purple-500","focus:border-purple-500","dark:text-gray-200",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-3","gap-6"],["for","language",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","language",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm","focus:outline-none","focus:ring-purple-500","focus:border-purple-500","dark:text-gray-200",3,"ngModelChange","ngModel"],["value","pt-BR"],["value","en-US"],["for","courseType",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","courseType",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm","focus:outline-none","focus:ring-purple-500","focus:border-purple-500","dark:text-gray-200",3,"ngModelChange","ngModel"],["value","type1"],["value","type2"],["for","evaluationType",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","evaluationType",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm","focus:outline-none","focus:ring-purple-500","focus:border-purple-500","dark:text-gray-200",3,"ngModelChange","ngModel"],["value","eval1"],["value","eval2"],["for","description",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","description","rows","4","maxlength","250",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","shadow-sm","focus:outline-none","focus:ring-purple-500","focus:border-purple-500","dark:text-gray-200",3,"ngModelChange","ngModel"],[1,"border-b","border-gray-200","dark:border-gray-700"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm","text-gray-500","dark:text-gray-400",3,"click"],[1,"mt-6"],[1,"relative","group","w-full","border-2","border-gray-300","dark:border-gray-600","border-dashed","rounded-lg","bg-gray-50","dark:bg-gray-700/50","aspect-[3/1]"],[1,"relative","group","w-full","max-w-sm","border-2","border-gray-300","dark:border-gray-600","border-dashed","rounded-lg","bg-gray-50","dark:bg-gray-700/50","aspect-[9/16]"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","cursor-pointer","hover:border-purple-500","dark:hover:border-purple-500","transition-all","duration-300"],["alt","Banner preview",1,"w-full","h-full","object-cover","rounded-lg",3,"src"],[1,"absolute","inset-0","bg-black/60","opacity-0","group-hover:opacity-100","transition-opacity","flex","items-center","justify-center","gap-4","rounded-lg"],[1,"flex","items-center","gap-2","bg-white/90","text-gray-800","font-semibold","py-2","px-4","rounded-full","hover:bg-white","transition-colors",3,"click"],[1,"material-symbols-outlined"],[1,"flex","items-center","gap-2","bg-white/90","text-red-600","font-semibold","py-2","px-4","rounded-full","hover:bg-white","transition-colors",3,"click"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","cursor-pointer","hover:border-purple-500","dark:hover:border-purple-500","transition-all","duration-300",3,"click"],[1,"material-symbols-outlined","text-6xl","text-gray-400","dark:text-gray-500"],[1,"mt-2","text-sm","text-gray-600","dark:text-gray-300","font-semibold"],[1,"mt-1","text-xs","text-gray-500","dark:text-gray-400"],["alt","Card preview",1,"w-full","h-full","object-cover","rounded-lg",3,"src"],[1,"border-b","border-gray-200","dark:border-gray-700","mb-6"],[1,"space-y-4"],[1,"flex","items-center","justify-between","p-3","bg-white","dark:bg-gray-700/50","border","dark:border-gray-600","rounded-lg",3,"ml-8"],[1,"flex","items-center","justify-between","p-3","bg-white","dark:bg-gray-700/50","border","dark:border-gray-600","rounded-lg"],[1,"flex","items-center"],[1,"font-medium","text-gray-800","dark:text-gray-200","mr-2",3,"for"],["title","Descri\xE7\xE3o detalhada aqui",1,"material-symbols-outlined","text-base","text-gray-500","dark:text-gray-400","cursor-help"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"ngModelChange","id","ngModel"],[1,"w-11","h-6","bg-gray-200","dark:bg-gray-600","rounded-full","peer","peer-focus:ring-2","peer-focus:ring-purple-300","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-0.5","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","peer-checked:bg-purple-600","dark:peer-checked:bg-purple-500"],[1,"text-sm","text-gray-600","dark:text-gray-400","mr-4"],["type","number","min","0","max","100",1,"w-20","text-center","bg-white","dark:bg-gray-600","border","border-gray-300","dark:border-gray-500","rounded-lg","mr-4",3,"ngModelChange","ngModel"],[1,"text-gray-600","dark:text-gray-400","mb-4"],[1,"p-4","bg-white","dark:bg-gray-700/50","border","dark:border-gray-600","rounded-lg"],["type","text","placeholder","Adicione um grupo",1,"w-full","bg-transparent","border","border-gray-300","dark:border-gray-500","rounded-lg","focus:ring-purple-500","focus:border-purple-500"],["type","text","placeholder","Adicione um contribuidor",1,"w-full","bg-transparent","border","border-gray-300","dark:border-gray-500","rounded-lg","focus:ring-purple-500","focus:border-purple-500"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800","dark:text-gray-200","mb-1"],[1,"text-gray-600","dark:text-gray-400"],[1,"flex","items-center","gap-4"],[1,"bg-transparent","text-purple-600","dark:text-purple-400","font-semibold","py-2","px-4","rounded-full","border","border-purple-600","dark:border-purple-400","hover:bg-purple-50","dark:hover:bg-purple-900/20","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","items-center","gap-2","bg-purple-600","text-white","font-semibold","py-2","px-4","rounded-full","hover:bg-purple-700","transition",3,"click"],[1,"material-symbols-outlined","text-xl"],[1,"w-full"],[1,"bg-gray-50","dark:bg-gray-800/50","rounded-lg","border","border-gray-200","dark:border-gray-700"],[1,"drop-placeholder"],[1,"bg-gray-50","dark:bg-gray-800/50","rounded-lg","border","border-gray-200","dark:border-gray-700",3,"dragover","dragleave","drop"],["draggable","true",1,"flex","items-center","p-3","group",3,"dragstart","dragend"],[1,"material-symbols-outlined","text-gray-500","dark:text-gray-400","cursor-grab","p-1"],[1,"flex-grow","mx-2","cursor-pointer",3,"click"],["type","text","cdkFocusInitial","",1,"font-semibold","text-lg","text-gray-800","dark:text-gray-200","bg-white","dark:bg-gray-600","border","border-purple-500","rounded-lg","px-2","py-1","-my-1","w-full","focus:outline-none","focus:ring-2","focus:ring-purple-500",3,"value"],[1,"font-semibold","text-lg","text-gray-800","dark:text-gray-200","px-2","py-1","-my-1","rounded-lg","truncate"],[1,"relative"],[1,"p-2","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-700","text-gray-500","dark:text-gray-400",3,"click"],[1,"absolute","right-0","mt-2","w-56","bg-white","dark:bg-gray-900","rounded-md","shadow-xl","z-10","ring-1","ring-black","ring-opacity-5","dark:ring-1","dark:ring-white","dark:ring-opacity-10"],[1,"material-symbols-outlined","transition-transform"],[1,"p-3","pl-12","space-y-2","drop-zone","border-t","border-gray-200","dark:border-gray-700"],["type","text","cdkFocusInitial","",1,"font-semibold","text-lg","text-gray-800","dark:text-gray-200","bg-white","dark:bg-gray-600","border","border-purple-500","rounded-lg","px-2","py-1","-my-1","w-full","focus:outline-none","focus:ring-2","focus:ring-purple-500",3,"blur","keyup.enter","click","focus","value"],[1,"absolute","right-0","mt-2","w-56","bg-white","dark:bg-gray-900","rounded-md","shadow-xl","z-10","ring-1","ring-black","ring-opacity-5","dark:ring-1","dark:ring-white","dark:ring-opacity-10",3,"click"],[1,"flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","dark:text-gray-300","hover:bg-gray-100","dark:hover:bg-gray-800","cursor-pointer",3,"click"],[1,"material-symbols-outlined","text-base"],[1,"border-t","my-1","dark:border-gray-700"],[1,"flex","items-center","gap-3","px-4","py-2","text-sm","text-red-600","dark:text-red-500","hover:bg-red-50","dark:hover:bg-red-500/10","cursor-pointer",3,"click"],[1,"relative","mt-2","flex","items-center","gap-2"],[1,"relative","flex-grow"],[1,"w-full","text-left","flex","items-center","gap-2","p-2","rounded-full","text-gray-600","dark:text-gray-400","font-medium","hover:bg-purple-50","dark:hover:bg-purple-500/10","hover:text-purple-700","dark:hover:text-purple-400","transition-colors",3,"click"],[1,"flex-shrink-0","flex","items-center","gap-2","p-2","rounded-full","text-purple-600","dark:text-purple-400","font-medium","hover:bg-purple-50","dark:hover:bg-purple-500/10","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","disabled:text-gray-400","disabled:hover:bg-transparent",3,"click","disabled"],[1,"p-4","rounded-lg","bg-white","dark:bg-gray-700","border","dark:border-gray-600"],["draggable","true",1,"flex","items-center","p-2","rounded-md","bg-white","dark:bg-gray-700","border","dark:border-gray-600","group"],[1,"flex","items-center","justify-between"],[1,"material-symbols-outlined","text-2xl","text-purple-600","dark:text-purple-400"],[1,"font-semibold"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"bg-purple-100","text-purple-700","dark:bg-purple-900/50","dark:text-purple-300","text-xs","font-bold","px-2","py-0.5","rounded-full"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","gap-2","text-sm","font-semibold","border","border-gray-300","dark:border-gray-500","rounded-full","px-3","py-1.5","hover:bg-gray-100","dark:hover:bg-gray-600",3,"click"],[1,"text-sm","border","border-gray-300","dark:border-gray-500","rounded-full","px-3","py-1.5","bg-transparent","hover:bg-gray-100","dark:hover:bg-gray-600"],[1,"p-2","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","text-gray-500",3,"click"],[1,"text-center","py-8","text-gray-500","dark:text-gray-400"],["draggable","true",1,"flex","items-center","p-2","rounded-md","bg-white","dark:bg-gray-700","border","dark:border-gray-600","group",3,"dragstart","dragend"],[1,"material-symbols-outlined","mr-2","text-gray-400","dark:text-gray-500","cursor-grab","group-hover:text-gray-600","p-1"],[1,"material-symbols-outlined","mr-3","text-gray-600","dark:text-gray-300"],[1,"flex-grow","text-gray-700","dark:text-gray-300","truncate"],[1,"text-gray-500","text-sm","ml-1"],[1,"flex","items-center","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"font-semibold","text-sm","py-1","px-3","rounded-full","border","bg-white","dark:bg-gray-600","dark:border-gray-500","dark:hover:bg-gray-500","hover:bg-gray-100","transition-colors","mx-2"],[1,"p-2","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","text-gray-500","dark:text-gray-400",3,"click"],[1,"font-semibold","text-sm","py-1","px-3","rounded-full","border","bg-white","dark:bg-gray-600","dark:border-gray-500","dark:hover:bg-gray-500","hover:bg-gray-100","transition-colors","mx-2",3,"click"],[1,"flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","dark:text-gray-300","hover:bg-gray-100","dark:hover:bg-gray-800","cursor-pointer"],[1,"material-symbols-outlined","text-gray-400"],[1,"text-sm","font-medium","text-gray-500"],[1,"fixed","inset-0","z-10",3,"click"],[1,"absolute","left-0","w-72","bg-white","dark:bg-gray-900","rounded-md","shadow-lg","z-20","ring-1","ring-black","ring-opacity-5","dark:ring-1","dark:ring-white","dark:ring-opacity-10","py-1"],[1,"material-symbols-outlined","text-base","w-5","text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"relative","mb-4"],[1,"material-symbols-outlined","text-9xl","text-gray-300","dark:text-gray-600"],[1,"absolute","top-0","right-0","bg-orange-500","text-white","text-xs","font-bold","px-2","py-1","rounded-full"],[1,"text-gray-600","dark:text-gray-400","max-w-md","mb-8"],[1,"bg-purple-600","text-white","font-bold","py-3","px-8","rounded-lg","hover:bg-purple-700","transition",3,"click"],[3,"close","imageSelected","imageType"],[3,"close","cropped","imageUrl","aspectRatioType"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-md","p-8","m-4","animate-scale-up",3,"click"],[1,"text-center"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-purple-100","dark:bg-purple-900/50"],[1,"material-symbols-outlined","text-3xl","text-purple-600","dark:text-purple-500"],[1,"mt-4","text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"mt-2","text-gray-600","dark:text-gray-400"],[1,"mt-8","grid","grid-cols-2","gap-4"],[1,"bg-gray-100","dark:bg-gray-700","text-gray-700","dark:text-gray-300","font-semibold","py-2","px-4","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","transition",3,"click"],[1,"bg-purple-600","text-white","font-bold","py-2","px-4","rounded-full","hover:bg-purple-700","transition",3,"click"],[3,"exitPreview","quizData"],[3,"close","typeSelected","highlightTarget"],[3,"quizType"],[3,"close","back","nameSaved","quizType"],[3,"quizType","questionToEdit"],[3,"close","questionSaved","quizType","questionToEdit"],[3,"close","creationMethodSelected"],[3,"close","back","quizGenerated","contextContent"],[3,"initialPulseData","highlightTarget"],[3,"close","save","initialPulseData","highlightTarget"],[1,"material-symbols-outlined","mr-2"]],template:function(t,i){if(t&1&&(m(0,"app-creation-wizard",0),A("stepChange",function(o){return i.handleStepChange(o)})("saveAndNext",function(){return i.handleSaveAndNext()})("publish",function(){return i.publishCourse()})("exit",function(){return i.exit.emit()}),L(1,Cj,51,9)(2,Ij,14,18)(3,Rj,15,25)(4,cY,19,2,"div")(5,dY,12,0,"div",1),g(),L(6,fY,1,1,"app-image-upload-modal",2),L(7,pY,1,2,"app-image-cropper-modal",3),L(8,hY,15,0,"div",4),L(9,mY,1,1,"app-quiz-player",5),L(10,gY,1,1,"app-quiz-type-select-modal",6)(11,_Y,1,1)(12,CY,1,1)(13,EY,1,0,"app-quiz-creation-method-modal")(14,xY,1,1,"app-quiz-ai-assistant-modal",7)(15,SY,1,1),L(16,TY,5,0,"div",8)),t&2){let r,o,s,a,l;F("steps",i.steps)("currentStep",i.currentStep())("isDirty",i.isDirty()),E(),O((r=i.currentStep())===1?1:r===2?2:r===3?3:r===4?4:r===5?5:-1),E(5),O((o=i.showImageUploadModal()&&i.imageTarget())?6:-1,o),E(),O((s=i.showImageCropperModal()&&i.imageToCrop())?7:-1,s),E(),O(i.showUseForCardConfirmModal()?8:-1),E(),O((a=i.quizToPreview())?9:-1,a),E(),O((l=i.quizCreationState())==="quizTypeSelect"?10:l==="quizName"?11:l==="addQuestion"?12:l==="method"?13:l==="ai"?14:l==="editor"?15:-1),E(6),O(i.showPublishToast()?16:-1)}},dependencies:[ke,kt,am,lm,At,qs,fd,vl,Mt,PC,$s,Us,xt,um,cm,dm,gm,bl,Fm,Lm,Om,Vm,Bm],styles:[".dragging[_ngcontent-%COMP%]{opacity:.5;transform:rotate(2deg);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a}.drop-placeholder[_ngcontent-%COMP%]{@apply my-2 p-4 border-2 border-dashed border-purple-400 bg-purple-50 rounded-lg flex items-center justify-center gap-2;}",".animate-fade-in-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInOut 3s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeInOut{0%,to{opacity:0;transform:translateY(20px)}10%,90%{opacity:1;transform:translateY(0)}}"],changeDetection:0});var qm=Vl;var uM=(n,e)=>e.id,lM=(n,e)=>e.key;function bY(n,e){n&1&&y(0," quiz ")}function IY(n,e){n&1&&y(0," pan_tool ")}function DY(n,e){if(n&1&&y(0),n&2){let t=C(3);Te(" Pergunta: ",t.quizProgressText()," ")}}function AY(n,e){if(n&1&&(m(0,"span",36),L(1,DY,1,1),g()),n&2){let t=C(2);E(),O(t.quizProgressText()?1:-1)}}function MY(n,e){if(n&1&&(m(0,"span",36),y(1),g()),n&2){let t=C(2);E(),Te("",t.lockdownTimer()," seg.")}}function kY(n,e){if(n&1&&(m(0,"div",10)(1,"div",31),wr(),m(2,"svg",32),Re(3,"circle",33)(4,"circle",34),g(),Sr(),m(5,"span",35),L(6,bY,1,0)(7,IY,1,0),g()(),L(8,AY,2,1,"span",36)(9,MY,2,1,"span",36),g()),n&2){let t,i,r=C();E(4),Co("stroke-dasharray",r.circumference)("stroke-dashoffset",r.circumference-r.lockdownProgress()/100*r.circumference),E(2),O(((t=r.activeContent())==null?null:t.type)==="quiz"?6:7),E(2),O(((i=r.activeContent())==null?null:i.type)==="quiz"?8:r.lockdownTimer()>0?9:-1)}}function NY(n,e){if(n&1){let t=B();m(0,"button",8),A("click",function(){S(t);let r=C();return T(r.nextContent())}),m(1,"span",5),y(2,"arrow_forward"),g()()}if(n&2){let t=C();F("disabled",t.activeContentIndex()===t.allContentItems().length-1)}}function PY(n,e){n&1&&y(0," light_mode ")}function RY(n,e){n&1&&y(0," dark_mode ")}function FY(n,e){n&1&&(m(0,"span",50),y(1,"check_circle"),g())}function LY(n,e){if(n&1){let t=B();m(0,"a",45),A("click",function(){let r=S(t).$implicit,o=C(3);return T(o.selectContent(r))}),m(1,"div",46)(2,"span",47),y(3),g(),m(4,"span",48),y(5),g()(),m(6,"div",49),L(7,FY,2,0,"span",50),g()()}if(n&2){let t,i,r,o,s,a,l,u,d,p=e.$implicit,h=C(3),v=h.isAccessible(p.id),x=h.isCompleted(p.id);ne("opacity-40",!v&&!x)("border-purple-600",((t=h.baseActiveContent())==null?null:t.id)===p.id)("font-semibold",((i=h.baseActiveContent())==null?null:i.id)===p.id)("border-transparent",((r=h.baseActiveContent())==null?null:r.id)!==p.id)("hover:text-gray-900",((o=h.baseActiveContent())==null?null:o.id)!==p.id&&v)("dark:hover:text-white",((s=h.baseActiveContent())==null?null:s.id)!==p.id&&v),E(),ne("text-purple-600",((a=h.baseActiveContent())==null?null:a.id)===p.id)("dark:text-purple-400",((l=h.baseActiveContent())==null?null:l.id)===p.id)("text-gray-600",((u=h.baseActiveContent())==null?null:u.id)!==p.id)("dark:text-gray-300",((d=h.baseActiveContent())==null?null:d.id)!==p.id),E(2),ie(h.getContentIcon(p.type)),E(2),ie(p.title),E(2),O(x?7:-1)}}function OY(n,e){if(n&1&&(m(0,"div",42)(1,"div",43),Ee(2,LY,8,23,"a",44,uM),g()()),n&2){let t=C().$implicit;E(2),xe(t.contents)}}function VY(n,e){if(n&1){let t=B();m(0,"div",22)(1,"button",37),A("click",function(){let r=S(t).$implicit,o=C();return T(o.toggleTopicExpansion(r.id))}),m(2,"div",38)(3,"span",39),y(4),g(),m(5,"span",40),y(6),g()(),m(7,"span",41),y(8,"expand_more"),g()(),L(9,OY,4,0,"div",42),g()}if(n&2){let t=e.$implicit,i=e.$index,r=C();E(4),ie(i+1),E(2),ie(t.title),E(),ne("rotate-180",!r.isTopicExpanded(t.id)),E(2),O(r.isTopicExpanded(t.id)?9:-1)}}function BY(n,e){n&1&&(m(0,"div",52),Re(1,"iframe",53),g()),n&2&&(E(),F("src",e,Ay))}function qY(n,e){n&1&&(m(0,"div",24)(1,"span",54),y(2,"videocam_off"),g(),m(3,"p",55),y(4,"Preview de v\xEDdeo n\xE3o dispon\xEDvel."),g(),m(5,"p",56),y(6,"Verifique se o link do YouTube \xE9 v\xE1lido."),g()())}function UY(n,e){if(n&1&&L(0,BY,2,1,"div",52)(1,qY,7,0,"div",24),n&2){let t,i=C(2);O((t=i.safeVideoUrl())?0:1,t)}}function $Y(n,e){if(n&1){let t=B();m(0,"app-quiz-player",58),A("quizCompleted",function(){S(t);let r=C(3);return T(r.handleQuizCompletion())})("progressUpdate",function(r){S(t);let o=C(3);return T(o.handleQuizProgress(r))})("progressTextUpdate",function(r){S(t);let o=C(3);return T(o.handleQuizProgressText(r))}),g()}n&2&&F("quizData",e)("isInlinePlayer",!0)}function HY(n,e){if(n&1&&L(0,$Y,1,2,"app-quiz-player",57),n&2){let t,i=C();O((t=i.quizData)?0:-1,t)}}function zY(n,e){if(n&1&&(m(0,"div",51)(1,"h1",59),y(2),g()()),n&2){let t=C(),i=C();E(2),qh("",i.activeTopicIndex()+1,".",i.activeContentIndexInTopic()+1," ",t.title)}}function GY(n,e){if(n&1&&L(0,UY,2,1)(1,HY,1,1)(2,zY,3,3,"div",51),n&2){let t;O((t=e.type)==="video"?0:t==="quiz"?1:2)}}function WY(n,e){n&1&&(m(0,"div",24)(1,"p"),y(2,"Selecione um conte\xFAdo para come\xE7ar."),g()())}function QY(n,e){if(n&1){let t=B();m(0,"label",64)(1,"input",68),A("change",function(r){let o=S(t).$implicit,s=C(2);return T(s.toggleDebugOption(o.key,r))}),g(),m(2,"span",69),y(3),g()()}if(n&2){let t=e.$implicit,i=C(2);E(),F("checked",i.debugOptions()[t.key]),E(2),ie(t.label)}}function jY(n,e){if(n&1){let t=B();m(0,"label",64)(1,"input",68),A("change",function(r){let o=S(t).$implicit,s=C(2);return T(s.toggleDebugOption(o.key,r))}),g(),m(2,"span",69),y(3),g()()}if(n&2){let t=e.$implicit,i=C(2);E(),F("checked",i.debugOptions()[t.key]),E(2),ie(t.label)}}function YY(n,e){if(n&1){let t=B();m(0,"div",60),A("click",function(r){return S(t),T(r.stopPropagation())}),m(1,"div",61)(2,"h4",62),y(3,"Debug de Estrutura"),g()(),m(4,"div",63),Ee(5,QY,4,2,"label",64,lM),g(),Re(7,"div",65),m(8,"div",61)(9,"h4",62),y(10,"Debug de Quiz"),g()(),m(11,"div",66),Ee(12,jY,4,2,"label",64,lM),g()(),m(14,"div",67),A("click",function(){S(t);let r=C();return T(r.isDebugMenuOpen.set(!1))}),g()}if(n&2){let t=C();E(5),xe(t.debugMenuOptions.structure),E(7),xe(t.debugMenuOptions.quiz)}}function JY(n,e){if(n&1){let t=B();m(0,"div",29)(1,"div",70)(2,"div",71)(3,"span",72),y(4,"warning"),g()(),m(5,"h3",73),y(6,"Abandonar o curso?"),g(),m(7,"p",74),y(8," Tem certeza que deseja sair? Seu progresso n\xE3o ser\xE1 salvo. "),g(),m(9,"div",75)(10,"button",76),A("click",function(){S(t);let r=C();return T(r.cancelExit())}),y(11," Cancelar "),g(),m(12,"button",77),A("click",function(){S(t);let r=C();return T(r.confirmExit())}),y(13," Sair Mesmo Assim "),g()()()()}}function ZY(n,e){if(n&1){let t=B();m(0,"div",78),A("click",function(){S(t);let r=C();return T(r.showContentBlockedModal.set(!1))}),m(1,"div",79),A("click",function(r){return S(t),T(r.stopPropagation())}),m(2,"h3",80),y(3,"Conte\xFAdo Bloqueado"),g(),m(4,"p",81),y(5," Este conte\xFAdo est\xE1 bloqueado. Para acess\xE1-lo, voc\xEA precisa primeiro concluir os conte\xFAdos anteriores. Finalize a visualiza\xE7\xE3o das etapas anteriores para desbloquear este conte\xFAdo. "),g(),m(6,"div",82)(7,"button",83),A("click",function(){S(t);let r=C();return T(r.showContentBlockedModal.set(!1))}),y(8," Fechar "),g()()()()}}var Bl=class Bl{constructor(){this.course=be.required();this.isFullScreen=be(!1);this.theme=be.required();this.exit=ue();this.toggleFullScreen=ue();this.toggleTheme=ue();this.isIndexCollapsed=P(!1);this.isEntireSidebarCollapsed=P(!1);this.showExitConfirmModal=P(!1);this.hasInitialized=P(!1);this.quizProgress=P(0);this.quizProgressText=P("");this.isContentLocked=P(!1);this.lockdownTimer=P(0);this.timerInterval=null;this.circumference=2*Math.PI*14;this.completedContentIds=P(new Set);this.showContentBlockedModal=P(!1);this.lockdownProgress=Fe(()=>{if(this.activeContent()?.type==="quiz")return this.quizProgress();let e=this.course().contentLocking.minimumTime;if(!this.isContentLocked())return 100;if(this.activeContent()?.type==="quiz")return 0;if(e<=0)return 100;let t=this.lockdownTimer(),i=(e-t)/e*100;return Math.min(100,Math.max(0,i))});this.isDebugMenuOpen=P(!1);this.debugOptions=P({});this.debugMenuOptions={structure:[{key:"manyTopics",label:"Muitos T\xF3picos (15+)"},{key:"variedContent",label:"Conte\xFAdos Variados"},{key:"multipleQuizzes",label:"M\xFAltiplos Quizzes"}],quiz:[{key:"longQuestionText",label:"Textos Longos nas Perguntas"},{key:"longAnswerText",label:"Textos Longos nas Respostas"},{key:"imageBeforeText",label:"Pergunta com Imagem (Antes)"},{key:"imageAfterText",label:"Pergunta com Imagem (Depois)"},{key:"manyQuestions",label:"Muitas Perguntas (20)"},{key:"fewQuestions",label:"Poucas Perguntas (1)"},{key:"manyAnswers",label:"Muitas Alternativas (6)"},{key:"fewAnswers",label:"Poucas Alternativas (2)"},{key:"shortTimeLimit",label:"Tempo Curto (1 min)"},{key:"noFeedback",label:"Sem Feedback Imediato"}]};this.displayedCourse=Fe(()=>{let e=this.course(),t=this.debugOptions();return this.debugMenuOptions.structure.map(r=>r.key).some(r=>t[r])?this.applyCourseDebugTransformations(e,t):e});this.allContentItems=Fe(()=>this.displayedCourse().topics.flatMap(e=>e.contents));this.activeContentIndex=P(0);this.baseActiveContent=Fe(()=>{let e=this.allContentItems();return e.length>0?e[this.activeContentIndex()]??null:null});this.activeContent=Fe(()=>{let e=this.baseActiveContent(),t=this.debugOptions();return e?.type!=="quiz"||Object.values(t).every(i=>!i)?e:this.applyQuizDebugTransformations(e,t)});this.activeTopicId=Fe(()=>{let e=this.baseActiveContent();return e?this.displayedCourse().topics.find(t=>t.contents.some(i=>i.id===e.id))?.id??null:null});this.activeTopicIndex=Fe(()=>{let e=this.activeTopicId();return e?this.displayedCourse().topics.findIndex(t=>t.id===e):-1});this.activeContentIndexInTopic=Fe(()=>{let e=this.activeTopicId(),t=this.baseActiveContent()?.id;if(!e||!t)return-1;let i=this.displayedCourse().topics.find(r=>r.id===e);return i?i.contents.findIndex(r=>r.id===t):-1});this.expandedTopics=P(new Set);this.sanitizer=J(Vs);this.safeVideoUrl=Fe(()=>{let e=this.activeContent();if(e?.type==="video"&&e.source&&e.source.includes("youtube.com/watch?v=")){let t=e.source.split("v=")[1]?.split("&")[0];if(t){let i=`https://www.youtube.com/embed/${t}`;return this.sanitizer.bypassSecurityTrustResourceUrl(i)}}return null});it(()=>{let e=this.activeTopicId();e&&this.expandedTopics.update(t=>(t.add(e),new Set(t)))}),it(()=>{let e=this.displayedCourse();if(e?.topics&&!this.hasInitialized()){let t=new Set(e.topics.map(i=>i.id));this.expandedTopics.set(t),e.topics[0]?.contents?.[0]&&this.selectContent(e.topics[0].contents[0]),this.hasInitialized.set(!0)}},{allowSignalWrites:!0}),it(()=>{this.startContentLockTimer()},{allowSignalWrites:!0})}ngOnDestroy(){this.timerInterval&&clearInterval(this.timerInterval)}isCompleted(e){return this.completedContentIds().has(e)}isAccessible(e){if(!this.course().contentLocking.enabled)return!0;let t=this.allContentItems(),i=t.findIndex(o=>o.id===e);if(i<=0)return!0;let r=t[i-1].id;return this.completedContentIds().has(r)}markContentAsCompleted(e){this.completedContentIds.update(t=>(t.add(e),new Set(t)))}startContentLockTimer(){this.timerInterval&&clearInterval(this.timerInterval),this.isContentLocked.set(!1),this.lockdownTimer.set(0);let e=this.course(),t=this.activeContent();if(!t||this.isCompleted(t.id))return;let i=this.activeContentIndex()===this.allContentItems().length-1;if(!e.contentLocking.enabled||i){this.markContentAsCompleted(t.id);return}if(t?.type==="quiz")this.isContentLocked.set(!0);else{let r=e.contentLocking.minimumTime;r>0?(this.isContentLocked.set(!0),this.lockdownTimer.set(r),this.timerInterval=setInterval(()=>{this.lockdownTimer.update(o=>{let s=o-1;return s<=0?(this.timerInterval&&clearInterval(this.timerInterval),this.isContentLocked.set(!1),this.markContentAsCompleted(t.id),0):s})},1e3)):this.markContentAsCompleted(t.id)}}handleQuizCompletion(){let e=this.activeContent();e&&this.markContentAsCompleted(e.id),this.isContentLocked.set(!1)}handleQuizProgress(e){this.quizProgress.set(e)}handleQuizProgressText(e){this.quizProgressText.set(e)}toggleIndex(){this.isIndexCollapsed.update(e=>!e)}toggleEntireSidebar(){this.isEntireSidebarCollapsed.update(e=>!e)}isTopicExpanded(e){return this.expandedTopics().has(e)}toggleTopicExpansion(e){this.expandedTopics.update(t=>(t.has(e)?t.delete(e):t.add(e),new Set(t)))}selectContent(e){if(!this.isAccessible(e.id)){this.showContentBlockedModal.set(!0);return}let t=this.allContentItems().findIndex(i=>i.id===e.id);t!==-1&&this.activeContentIndex.set(t)}nextContent(){this.activeContentIndex()<this.allContentItems().length-1&&this.activeContentIndex.update(e=>e+1)}prevContent(){this.activeContentIndex()>0&&this.activeContentIndex.update(e=>e-1)}confirmExit(){this.showExitConfirmModal.set(!1),this.exit.emit()}cancelExit(){this.showExitConfirmModal.set(!1)}getContentIcon(e){return{video:"smart_display",audio:"volume_up",image:"image",document:"article",web:"link",scorm:"extension",quiz:"quiz"}[e]||"help_outline"}toggleDebugMenu(){this.isDebugMenuOpen.update(e=>!e)}toggleDebugOption(e,t){let i=t.target.checked;this.debugOptions.update(r=>V(I({},r),{[e]:i}))}applyCourseDebugTransformations(e,t){let i=JSON.parse(JSON.stringify(e));if(t.variedContent||t.multipleQuizzes){let r=i.topics.flatMap(o=>o.contents).find(o=>o.type==="quiz");i.topics.forEach(o=>{if(t.variedContent&&o.contents.push({id:`debug_video_${o.id}`,type:"video",title:"Debug: V\xEDdeo de Exemplo",description:"",source:"https://www.youtube.com/watch?v=nO_d_J-h3bY"},{id:`debug_doc_${o.id}`,type:"document",title:"Debug: Documento Importante",description:"",source:""}),t.multipleQuizzes&&r){let s=JSON.parse(JSON.stringify(r));s.id=`debug_quiz_${o.id}`,s.title="Debug: Quiz Adicional",o.contents.push(s)}})}if(t.manyTopics)for(let r=0;r<15;r++)i.topics.push({id:`debug_topic_${r}`,title:`T\xF3pico de Debug ${r+1}`,contents:[{id:`debug_content_${r}`,type:"document",title:`Conte\xFAdo de Exemplo ${r+1}`,description:"",source:""}]});return i}applyQuizDebugTransformations(e,t){let i=JSON.parse(JSON.stringify(e)),r=i.quizData;if(!r)return i;let o=r.questions??[];if(o.length===0&&o.push({id:"default_debug_1",questionText:"Esta \xE9 uma pergunta padr\xE3o.",questionType:"multipleChoice",alternatives:["Alternativa A","Alternativa B"],correctAnswerIndex:0}),t.manyQuestions){let a=o[0];o=Array(20).fill(null).map((l,u)=>V(I({},JSON.parse(JSON.stringify(a))),{id:`debug_many_${u}`,questionText:`Esta \xE9 a pergunta de teste n\xFAmero ${u+1}. Qual \xE9 a resposta correta para este item?`}))}else t.fewQuestions&&(o=o.slice(0,1));o=o.map(a=>{let l=I({},a);t.longQuestionText&&(l.questionText=`<strong>Este \xE9 um enunciado de pergunta excepcionalmente longo para testar o comportamento do layout em situa\xE7\xF5es de overflow de texto.</strong> ${"O objetivo \xE9 verificar se o alinhamento, quebra de linha e espa\xE7amento se mant\xEAm consistentes e leg\xEDveis. ".repeat(5)} A pergunta continua, elaborando sobre um t\xF3pico complexo que exige aten\xE7\xE3o total do usu\xE1rio para garantir que todos os detalhes sejam compreendidos antes de selecionar uma resposta.`),t.imageAfterText?(l.imageUrl=`https://picsum.photos/seed/${a.id}/600/300`,l.imagePosition="after"):t.imageBeforeText&&(l.imageUrl=`https://picsum.photos/seed/${a.id}/600/300`,l.imagePosition="before");let u=[...a.alternatives??[]];if(t.manyAnswers)for(;u.length<6;)u.push(`Nova Alternativa ${u.length+1}`);else t.fewAnswers&&(u=u.slice(0,2),l.correctAnswerIndex&&l.correctAnswerIndex>=2&&(l.correctAnswerIndex=1));return t.longAnswerText&&(u=u.map((d,p)=>`[Alternativa ${p+1}] Esta \xE9 uma op\xE7\xE3o de resposta muito mais longa que o normal, projetada para testar como a interface do usu\xE1rio lida com v\xE1rias linhas de texto dentro de um \xFAnico bot\xE3o de alternativa, garantindo que a legibilidade e a usabilidade n\xE3o sejam comprometidas.`)),l.alternatives=u,l}),i.quizData.questions=o;let s={questionsToDisplay:null,randomizeQuestions:!1,randomizeAlternatives:!1,retakeAttempts:1,showImmediateFeedback:!0,maxTimeMinutes:null};return i.quizData.config||(i.quizData.config=s),t.shortTimeLimit&&(i.quizData.config.maxTimeMinutes=1),t.noFeedback&&(i.quizData.config.showImmediateFeedback=!1),i}};Bl.\u0275fac=function(t){return new(t||Bl)},Bl.\u0275cmp=Pe({type:Bl,selectors:[["app-course-player"]],inputs:{course:[1,"course"],isFullScreen:[1,"isFullScreen"],theme:[1,"theme"]},outputs:{exit:"exit",toggleFullScreen:"toggleFullScreen",toggleTheme:"toggleTheme"},decls:53,vars:47,consts:[[1,"h-screen","w-full","bg-[#f7f7f7]","dark:bg-gray-900","p-2","flex","flex-col"],[1,"flex-shrink-0","w-full","h-16","flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-2","flex-1","min-w-0"],[1,"w-20","flex-shrink-0","flex","items-center","justify-center"],[1,"w-14","h-14","flex","items-center","justify-center","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-800",3,"click"],[1,"material-symbols-outlined"],[1,"text-lg","font-semibold","text-gray-800","dark:text-gray-200","truncate"],[1,"flex-shrink-0","flex","items-center","gap-4"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-sm","font-medium","text-gray-600","dark:text-gray-400","text-center","whitespace-nowrap"],[1,"flex","items-center","gap-2","bg-white","dark:bg-slate-800","rounded-full","py-1","pl-1","pr-3","border","border-gray-200","dark:border-slate-700","shadow-sm"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex-1","flex","gap-2","overflow-hidden"],[1,"flex-shrink-0","flex","gap-2","transition-all","duration-300"],[1,"flex-shrink-0","w-20","bg-white","dark:bg-gray-800","rounded-2xl","flex","flex-col","items-center","py-4"],[1,"w-14","h-14","flex","items-center","justify-center","rounded-full","transition-colors","mb-4",3,"click"],[1,"flex-grow"],[1,"flex","flex-col","gap-2"],[1,"w-14","h-14","flex","items-center","justify-center","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700"],[1,"w-14","h-14","flex","items-center","justify-center","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700",3,"click"],[1,"flex-shrink-0","w-[300px]","flex","flex-col","transition-all","duration-300"],[1,"overflow-y-auto","space-y-2","hide-scrollbar"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","overflow-hidden"],[1,"flex-1","bg-white","dark:bg-gray-900","rounded-2xl","overflow-y-auto","flex","p-4","relative","hide-scrollbar"],[1,"text-center","text-gray-500","dark:text-gray-400"],[1,"absolute","bottom-4","right-4","z-30"],[1,"relative"],[1,"w-14","h-14","flex","items-center","justify-center","bg-gray-800","text-white","rounded-full","shadow-lg","hover:bg-gray-900","transition-all","duration-200","transform","hover:scale-110","opacity-0","hover:opacity-100",3,"click"],[1,"material-symbols-outlined","transition-transform","duration-300"],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","animate-fade-in"],[1,"fixed","inset-0","bg-black/30","flex","items-center","justify-center","z-50","animate-backdrop-fade-in"],[1,"relative","w-8","h-8","flex","items-center","justify-center"],["viewBox","0 0 32 32",1,"w-full","h-full","transform","-rotate-90"],["stroke-width","3","stroke","currentColor","fill","transparent","r","14","cx","16","cy","16",1,"text-gray-200","dark:text-gray-600"],["stroke-width","3","stroke-linecap","round","stroke","currentColor","fill","transparent","r","14","cx","16","cy","16",1,"text-purple-600","dark:text-purple-400","progress-ring"],[1,"absolute","material-symbols-outlined","text-sm","text-gray-400","dark:text-gray-500"],[1,"text-sm","font-semibold","text-gray-600","dark:text-gray-400","whitespace-nowrap"],[1,"w-full","flex","items-center","justify-between","p-4","text-left",3,"click"],[1,"flex","items-center","gap-4","min-w-0"],[1,"flex-shrink-0","w-7","h-7","flex","items-center","justify-center","bg-gray-100","dark:bg-gray-700","rounded-full","font-bold","text-sm","text-gray-600","dark:text-gray-300"],[1,"font-semibold","text-gray-800","dark:text-gray-200","truncate"],[1,"material-symbols-outlined","text-gray-500","dark:text-gray-400","transition-transform"],[1,"pl-8","pr-4","pb-2"],[1,"border-l-2","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","justify-between","pl-5","py-3","-ml-px","border-l-2","transition-all","duration-200","cursor-pointer",3,"opacity-40","border-purple-600","font-semibold","border-transparent","hover:text-gray-900","dark:hover:text-white"],[1,"flex","items-center","justify-between","pl-5","py-3","-ml-px","border-l-2","transition-all","duration-200","cursor-pointer",3,"click"],[1,"flex","items-center","gap-3","min-w-0"],[1,"material-symbols-outlined","text-base","w-5","text-center"],[1,"truncate","text-sm"],[1,"w-6","flex-shrink-0"],[1,"material-symbols-outlined","text-green-500","text-lg"],[1,"text-center","text-gray-700","dark:text-gray-200"],[1,"w-full","h-full"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"w-full","h-full","rounded-lg",3,"src"],[1,"material-symbols-outlined","text-5xl"],[1,"mt-2"],[1,"text-sm","text-gray-400","dark:text-gray-500"],[1,"w-full",3,"quizData","isInlinePlayer"],[1,"w-full",3,"quizCompleted","progressUpdate","progressTextUpdate","quizData","isInlinePlayer"],[1,"text-2xl","font-bold"],[1,"absolute","bottom-full","right-0","mb-4","w-72","bg-white","dark:bg-gray-700","rounded-lg","shadow-2xl","p-4","border","dark:border-gray-600","animate-fade-in-up",3,"click"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-1"],[1,"flex","items-center","gap-3","p-1.5","rounded","hover:bg-gray-100","dark:hover:bg-gray-600","cursor-pointer","text-sm"],[1,"border-t","dark:border-gray-600","my-2"],[1,"space-y-1","max-h-64","overflow-y-auto","pr-2"],[1,"fixed","inset-0","z-[-1]",3,"click"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","dark:border-gray-500","dark:bg-gray-600","text-indigo-600","focus:ring-indigo-500","shrink-0","cursor-pointer",3,"change","checked"],[1,"text-gray-700","dark:text-gray-300","select-none"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","w-full","max-w-md","p-8","m-4","text-center"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-yellow-100","dark:bg-yellow-900/50"],[1,"material-symbols-outlined","text-3xl","text-yellow-600","dark:text-yellow-400"],[1,"mt-4","text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"mt-2","text-gray-600","dark:text-gray-400"],[1,"mt-8","grid","grid-cols-2","gap-4"],[1,"bg-gray-100","dark:bg-gray-700","text-gray-700","dark:text-gray-300","font-semibold","py-2","px-4","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","transition",3,"click"],[1,"bg-red-600","text-white","font-bold","py-2","px-4","rounded-full","hover:bg-red-700","transition",3,"click"],[1,"fixed","inset-0","bg-black/30","flex","items-center","justify-center","z-50","animate-backdrop-fade-in",3,"click"],[1,"bg-white/80","dark:bg-gray-800/80","backdrop-blur-lg","rounded-2xl","shadow-2xl","w-full","max-w-md","p-8","m-4","text-center","animate-scale-up",3,"click"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"mt-4","text-gray-600","dark:text-gray-400"],[1,"mt-8"],[1,"bg-white","dark:bg-gray-700","text-gray-800","dark:text-gray-200","font-bold","py-2","px-6","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-600","transition","shadow-sm","border","dark:border-gray-600",3,"click"]],template:function(t,i){if(t&1&&(m(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"button",4),A("click",function(){return i.toggleEntireSidebar()}),m(5,"span",5),y(6,"menu"),g()()(),m(7,"h1",6),y(8),g()(),m(9,"div",7)(10,"button",8),A("click",function(){return i.prevContent()}),m(11,"span",5),y(12,"arrow_back"),g()(),m(13,"span",9),y(14),g(),L(15,kY,10,4,"div",10)(16,NY,3,1,"button",11),g()(),m(17,"div",12)(18,"div",13)(19,"aside",14)(20,"button",15),A("click",function(){return i.toggleIndex()}),m(21,"span",5),y(22,"list"),g()(),Re(23,"div",16),m(24,"div",17)(25,"button",18)(26,"span",5),y(27,"help_outline"),g()(),m(28,"button",19),A("click",function(){return i.toggleFullScreen.emit()}),m(29,"span",5),y(30),g()(),m(31,"button",19),A("click",function(){return i.toggleTheme.emit()}),m(32,"span",5),L(33,PY,1,0)(34,RY,1,0),g()(),m(35,"button",19),A("click",function(){return i.showExitConfirmModal.set(!0)}),m(36,"span",5),y(37,"logout"),g()()()(),m(38,"nav",20)(39,"div",21),Ee(40,VY,10,5,"div",22,uM),g()()(),m(42,"main",23),L(43,GY,3,1)(44,WY,3,0,"div",24),m(45,"div",25)(46,"div",26)(47,"button",27),A("click",function(){return i.toggleDebugMenu()}),m(48,"span",28),y(49,"science"),g()(),L(50,YY,15,0),g()()()()(),L(51,JY,14,0,"div",29),L(52,ZY,9,0,"div",30)),t&2){let r,o,s,a;ne("fixed",i.isFullScreen())("inset-0",i.isFullScreen())("z-50",i.isFullScreen()),E(8),ie(i.displayedCourse().name),E(2),F("disabled",i.activeContentIndex()===0),E(4),pl("Conte\xFAdo: ",i.activeContentIndex()+1," de ",i.allContentItems().length),E(),O(i.isContentLocked()?15:16),E(3),ne("-ml-[384px]",i.isEntireSidebarCollapsed())("w-0",i.isEntireSidebarCollapsed()),E(2),ne("bg-purple-100",!i.isIndexCollapsed())("dark:bg-purple-900/40",!i.isIndexCollapsed())("text-purple-600",!i.isIndexCollapsed())("dark:text-purple-400",!i.isIndexCollapsed())("hover:bg-gray-100",i.isIndexCollapsed())("dark:hover:bg-gray-700",i.isIndexCollapsed()),E(10),ie(i.isFullScreen()?"fullscreen_exit":"fullscreen"),E(3),O(i.theme()==="dark"?33:34),E(5),ne("-ml-[308px]",i.isIndexCollapsed())("opacity-0",i.isIndexCollapsed())("pointer-events-none",i.isIndexCollapsed()),E(2),xe(i.displayedCourse().topics),E(2),ne("items-center",((r=i.activeContent())==null?null:r.type)!=="video"&&((r=i.activeContent())==null?null:r.type)!=="quiz")("justify-center",((o=i.activeContent())==null?null:o.type)!=="video"&&((o=i.activeContent())==null?null:o.type)!=="quiz")("items-start",((s=i.activeContent())==null?null:s.type)==="quiz"),E(),O((a=i.activeContent())?43:44,a),E(5),ne("rotate-45",i.isDebugMenuOpen()),E(2),O(i.isDebugMenuOpen()?50:-1),E(),O(i.showExitConfirmModal()?51:-1),E(),O(i.showContentBlockedModal()?52:-1)}},dependencies:[ke,bl],styles:["nav[_ngcontent-%COMP%]{transition:margin-left .3s ease-in-out,opacity .3s ease-in-out}nav[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}nav[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}nav[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:10px}nav[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{background:#9ca3af}:is(.dark[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb){background:#4b5563}:is(.dark[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb){background:#374151}.progress-ring[_ngcontent-%COMP%]{transition:stroke-dashoffset .5s linear}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .2s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.hide-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.hide-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.animate-backdrop-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_backdropFadeIn .3s ease-out forwards}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleUp .3s cubic-bezier(.18,.89,.32,1.28) forwards}@keyframes _ngcontent-%COMP%_backdropFadeIn{0%{-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px);background-color:#0000}to{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background-color:#0000004d}}@keyframes _ngcontent-%COMP%_scaleUp{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}"],changeDetection:0});var Um=Bl;var KY=(n,e)=>e.activity,XY=(n,e)=>e.name,eJ=(n,e)=>e.title,tJ=(n,e)=>e.text,nJ=(n,e)=>e.url;function iJ(n,e){if(n&1&&(m(0,"option",11),y(1),g()),n&2){let t=e.$implicit;F("value",t),E(),ie(t)}}function rJ(n,e){if(n&1&&(m(0,"p",22),y(1),g()),n&2){let t=C().$implicit;E(),ie(t.subActivity)}}function oJ(n,e){if(n&1){let t=B();m(0,"button",36),A("click",function(){S(t);let r=C().$implicit,o=C(7);return T(o.internalLinkClick.emit(r.url))}),m(1,"span",37),y(2),g(),m(3,"span",38),y(4),g()()}if(n&2){let t=C().$implicit,i=C(7);E(2),ie(i.getLinkIcon(t.type)),E(2),ie(t.text)}}function sJ(n,e){if(n&1&&(m(0,"a",35)(1,"span",37),y(2),g(),m(3,"span",38),y(4),g()()),n&2){let t=C().$implicit,i=C(7);F("href",t.url,Dt),E(2),ie(i.getLinkIcon(t.type)),E(2),ie(t.text)}}function aJ(n,e){if(n&1&&L(0,oJ,5,2,"button",34)(1,sJ,5,3,"a",35),n&2){let t=e.$implicit;O(t.type==="internal"?0:1)}}function lJ(n,e){if(n&1&&(m(0,"div",33),Ee(1,aJ,2,1,null,null,nJ),g()),n&2){let t=C().$implicit;E(),xe(t.links)}}function uJ(n,e){if(n&1&&(m(0,"li",28)(1,"div",29)(2,"span",30),y(3),g(),m(4,"span",31)(5,"span",32),y(6),g(),y(7),g()(),L(8,lJ,3,0,"div",33),g()),n&2){let t=e.$implicit,i=e.$index;E(2),ne("text-green-600",t.checked)("dark:text-green-500",t.checked)("text-gray-400",!t.checked)("dark:text-gray-500",!t.checked),E(),Te(" ",t.checked?"check_box":"check_box_outline_blank"," "),E(3),Te("",i+1,"."),E(),Te(" ",t.text," "),E(),O(t.links&&t.links.length>0?8:-1)}}function cJ(n,e){if(n&1&&(m(0,"div",25)(1,"p",26),y(2),g(),m(3,"ol",27),Ee(4,uJ,9,12,"li",28,tJ),g()()),n&2){let t=e.$implicit;E(2),ie(t.title),E(2),xe(t.details)}}function dJ(n,e){if(n&1&&(m(0,"div",23)(1,"div",24),y(2),g(),Ee(3,cJ,6,1,"div",25,eJ),g()),n&2){let t=e.$implicit;E(2),ie(t.name),E(),xe(t.stories)}}function fJ(n,e){if(n&1&&(m(0,"div",19)(1,"div",20)(2,"h3",21),y(3),g(),L(4,rJ,2,1,"p",22),g(),Ee(5,dJ,5,1,"div",23,XY),g()),n&2){let t=e.$implicit,i=C(2);E(3),ie(t.activity),E(),O(t.subActivity?4:-1),E(),xe(i.getFilteredVersions(t.versions))}}function pJ(n,e){if(n&1){let t=B();m(0,"div",0)(1,"header",2)(2,"div",3)(3,"h2",4),y(4," Story Mapping: "),m(5,"span",5),y(6),g()()(),m(7,"div",6)(8,"div",7)(9,"span",8),y(10,"filter_alt"),g(),m(11,"select",9),A("ngModelChange",function(r){S(t);let o=C();return T(o.selectedVersion.set(r))}),m(12,"option",10),y(13,"Todas as Vers\xF5es"),g(),Ee(14,iJ,2,2,"option",11,Rs),g(),m(16,"span",12),y(17,"expand_more"),g()(),m(18,"span",13),y(19,"Pressione 'S' para fechar"),g(),m(20,"button",14),A("click",function(){S(t);let r=C();return T(r.close.emit())}),m(21,"span",15),y(22,"close"),g()()()(),m(23,"main",16)(24,"div",17)(25,"div",18),Ee(26,fJ,7,2,"div",19,KY),g()()()()}if(n&2){let t=e,i=C();E(6),ie(t.epic),E(5),F("ngModel",i.selectedVersion()),E(3),xe(i.availableVersions()),E(12),xe(t.activities)}}function hJ(n,e){n&1&&(m(0,"div",1)(1,"p",39),y(2,"Carregando Story Map..."),g()())}var ql=class ql{constructor(){this.data=be();this.close=ue();this.internalLinkClick=ue();this.selectedVersion=P("all");this.availableVersions=Fe(()=>{let e=this.data();if(!e)return[];let t=new Set;return e.activities.forEach(i=>{Object.keys(i.versions).forEach(r=>t.add(r))}),Array.from(t).sort()})}getFilteredVersions(e){let t=this.selectedVersion(),i=Object.entries(e);return(t==="all"?i:i.filter(([o])=>o===t)).map(([o,s])=>({name:o,stories:s}))}getLinkIcon(e){switch(e){case"clickup":return"fact_check";case"internal":return"gps_fixed";default:return"link"}}};ql.\u0275fac=function(t){return new(t||ql)},ql.\u0275cmp=Pe({type:ql,selectors:[["app-story-mapping-modal"]],inputs:{data:[1,"data"]},outputs:{close:"close",internalLinkClick:"internalLinkClick"},decls:2,vars:1,consts:[["role","dialog","aria-modal","true",1,"fixed","inset-0","bg-black/80","z-[100]","flex","flex-col","p-4","animate-fadeIn"],[1,"fixed","inset-0","bg-black/80","z-[100]","flex","items-center","justify-center","p-4","animate-fadeIn"],[1,"flex-shrink-0","bg-white","dark:bg-gray-800","rounded-t-lg","p-4","border-b","border-gray-200","dark:border-gray-700","flex","items-center","justify-between"],[1,"flex-1","min-w-0"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","truncate"],[1,"font-normal","text-gray-700","dark:text-gray-300"],[1,"flex","items-center","gap-2","sm:gap-4"],[1,"relative"],[1,"material-symbols-outlined","absolute","left-3","top-1/2","-translate-y-1/2","pointer-events-none","text-gray-400"],[1,"w-full","pl-9","pr-8","py-2","text-sm","bg-gray-100","dark:bg-gray-700","text-gray-800","dark:text-gray-200","rounded-lg","border-transparent","focus:ring-2","focus:ring-purple-500","focus:border-transparent","appearance-none","cursor-pointer",3,"ngModelChange","ngModel"],["value","all"],[3,"value"],[1,"material-symbols-outlined","absolute","right-3","top-1/2","-translate-y-1/2","pointer-events-none","text-gray-400"],[1,"text-sm","text-gray-500","dark:text-gray-400","hidden","md:block"],["aria-label","Close Story Mapping",1,"w-10","h-10","flex","items-center","justify-center","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors",3,"click"],[1,"material-symbols-outlined"],[1,"flex-1","bg-gray-100","dark:bg-gray-900","rounded-b-lg","overflow-auto"],[1,"inline-block","min-w-full","p-6","sm:p-8","align-top"],[1,"flex","items-start","gap-4","pb-4"],[1,"flex","flex-col","gap-4","w-72","flex-shrink-0"],[1,"p-3","bg-white","dark:bg-gray-700","rounded-md","shadow-md","text-center","sticky","top-0","z-10","h-28","flex","flex-col","justify-center"],[1,"font-bold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-300","mt-1","line-clamp-2"],[1,"flex","flex-col","gap-3"],[1,"font-semibold","text-purple-600","dark:text-purple-400","text-sm","uppercase","tracking-wider","pl-1"],[1,"bg-white","dark:bg-gray-800","p-3","rounded-lg","shadow-sm","border","border-gray-200","dark:border-gray-700/50"],[1,"font-semibold","text-sm","text-gray-900","dark:text-gray-100","mb-2"],[1,"list-none","space-y-1.5","pl-0"],[1,"text-xs"],[1,"flex","items-start"],[1,"material-symbols-outlined","text-base","mr-2","flex-shrink-0","relative","top-px"],[1,"flex-1","text-gray-600","dark:text-gray-400"],[1,"font-medium","text-gray-500","dark:text-gray-500","mr-1.5"],[1,"pl-6","mt-1.5","flex","flex-col","items-start","gap-1"],[1,"inline-flex","items-center","gap-1.5","text-gray-500","dark:text-gray-400","hover:text-purple-600","dark:hover:text-purple-400","transition-colors","group"],["target","_blank","rel","noopener noreferrer",1,"inline-flex","items-center","gap-1.5","text-gray-500","dark:text-gray-400","hover:text-purple-600","dark:hover:text-purple-400","transition-colors","group",3,"href"],[1,"inline-flex","items-center","gap-1.5","text-gray-500","dark:text-gray-400","hover:text-purple-600","dark:hover:text-purple-400","transition-colors","group",3,"click"],[1,"material-symbols-outlined","text-base","text-gray-400","dark:text-gray-500","group-hover:text-purple-500","dark:group-hover:text-purple-400"],[1,"text-xs","group-hover:underline"],[1,"text-white"]],template:function(t,i){if(t&1&&L(0,pJ,28,2,"div",0)(1,hJ,3,0,"div",1),t&2){let r;O((r=i.data())?0:1,r)}},dependencies:[ke,kt,am,lm,vl,Mt,xt],styles:["@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.animate-fadeIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .15s ease-out forwards}"],changeDetection:0});var $m=ql;var mJ=(n,e)=>e.startsWith("app://")?"internal":n.toLowerCase().includes("clickup")?"clickup":"generic",cM=n=>{let e=n.split(`
`),t={epic:"",activities:[]},i=null,r=null,o=null,s=/^- \[([x ])\] (.*)/,a=/^\s*- \[([^\]]+)\]\(([^)]+)\)/;for(let l of e){let u=l.trim();if(u.startsWith("## "))t.epic=u.substring(3).trim(),i=null,r=null,o=null;else if(u.startsWith("### "))i={activity:u.substring(4).trim(),versions:{}},t.activities.push(i),r=null,o=null;else if(u.startsWith("#### ")&&i)i.subActivity=u.substring(5).trim();else if(u.startsWith("##### ")&&i)r=u.substring(6).trim(),i.versions[r]||(i.versions[r]=[]),o=null;else if(u.startsWith("**")&&u.endsWith("**")&&i&&r)o={title:u.substring(2,u.length-2).trim(),details:[]},i.versions[r].push(o);else if(o){let d=u.match(s),p=l.match(a);if(d){let h=d[1].trim()==="x",v=d[2].trim();o.details.push({text:v,checked:h,links:[]})}else if(p&&o.details.length>0){let h=o.details[o.details.length-1];if(h){let v=p[1].trim(),x=p[2].trim(),b=mJ(v,x),N=b==="internal"?x.replace("app://",""):x;h.links.push({text:v,url:N,type:b})}}}}return t};function gJ(n,e){if(n&1){let t=B();m(0,"app-course-wizard",2),A("exit",function(){S(t);let r=C(2);return T(r.exitWizard())})("preview",function(r){S(t);let o=C(2);return T(o.handleCoursePreview(r))}),g()}if(n&2){let t=C(2);F("initialCourseData",e)("startAtStep",t.wizardStartStep())("highlightRequest",t.highlightRequest())}}function vJ(n,e){if(n&1&&L(0,gJ,1,3,"app-course-wizard",1),n&2){let t,i=C();O((t=i.courseData())?0:-1,t)}}function _J(n,e){if(n&1){let t=B();m(0,"app-course-player",4),A("exit",function(){S(t);let r=C(2);return T(r.exitCoursePlayer())})("toggleFullScreen",function(){S(t);let r=C(2);return T(r.toggleFullScreen())})("toggleTheme",function(){S(t);let r=C(2);return T(r.toggleTheme())}),g()}if(n&2){let t=C(2);F("course",e)("isFullScreen",t.isFullScreen())("theme",t.theme())}}function yJ(n,e){if(n&1&&L(0,_J,1,3,"app-course-player",3),n&2){let t,i=C();O((t=i.courseData())?0:-1,t)}}function CJ(n,e){if(n&1){let t=B();m(0,"app-story-mapping-modal",5),A("close",function(){S(t);let r=C();return T(r.toggleStoryMap())})("internalLinkClick",function(r){S(t);let o=C();return T(o.handleInternalLink(r))}),g()}if(n&2){let t=C();F("data",t.storyMapData())}}var EJ=`## GEST\xC3O DE QUIZZES

### NOVO TIPO DE QUIZ
#### Quizes de Pesquisa
##### v1.0
**Como criador, quero criar um quiz de pesquisa de opini\xE3o para coletar informa\xE7\xF5es qualitativas e quantitativas dos usu\xE1rios**
- [ ] Posso criar quizzes com perguntas abertas (Open-Ended Question) ou de m\xFAltipla escolha (Single-Select Multiple Choice).
  - [Navegar para componente](app://quiz-survey-type)
- [ ] N\xE3o h\xE1 limite para a cria\xE7\xE3o desse tipo de quiz.
- [ ] Perguntas abertas ter\xE3o apenas o nome da li\xE7\xE3o e a pergunta.
- [ ] Perguntas de multipla escolha ter\xE3o o nome da li\xE7\xE3o, a pergunta, e suas alternativas.
- [ ] Posso definir at\xE9 5 alternativas para cada pergunta.
- [ ] N\xE3o h\xE1 a possibilidade de escolher qual \xE9 a alternativa correta.
- [ ] As respostas n\xE3o ir\xE3o interferir na performance dos usu\xE1rios respondentes.

**Como usu\xE1rio consumidor de conte\xFAdos, quero responder as pesquisas de opini\xE3o dos cursos que estou consumindo**
- [ ] Posso escrever at\xE9 2000 caracteres nas perguntas abertas (Open-Ended Question).
- [ ] Posso selecionar apenas uma alternativa nas perguntas de multipla escolha (Single-Select Multiple Choice).
- [ ] N\xE3o h\xE1 alternativa correta, portanto, n\xE3o receberei feedback em nenhuma resposta.
- [ ] N\xE3o posso finalizar o curso sem responder as pesquisas.

### NOVAS MEC\xC2NICAS PARA OS QUIZZES
#### Banco de quest\xF5es geral da workspace
##### v1.1
**Durante a cria\xE7\xE3o ou edi\xE7\xE3o de um conte\xFAdo do tipo quiz, quero ADICIONAR as quest\xF5es a um banco para reutiliz\xE1-las em outros quizzes.**
- [ ] Ao criar uma quest\xE3o dentro de um quiz, terei a op\xE7\xE3o de adicion\xE1-la ao banco de quest\xF5es da workspace.
- [ ] Posso adicionar uma quantidade ilimitada de quest\xF5es no banco de quest\xF5es da workspace.
- [ ] Ao reutilizar uma quest\xE3o em outro quiz, terei automaticamente o enunciado da pergunta, suas alternativas e a resposta correta.

**Durante a exclus\xE3o ou edi\xE7\xE3o de um conte\xFAdo do tipo quiz, quero REMOVER as quest\xF5es do banco para deix\xE1-lo mais organizado sem conte\xFAdos obsoletos.**
- [ ] Ao excluir um quiz de um curso, terei a op\xE7\xE3o de remover todas suas quest\xF5es do banco de quest\xF5es da workspace.
- [ ] Ao excluir uma quest\xE3o de um quiz, terei a op\xE7\xE3o de remov\xEA-la do banco de quest\xF5es da workspace.
- [ ] Serei impedido de excluir uma quest\xE3o do banco de quest\xF5es da workspace caso ela esteja vinculada a outro curso, independente do seu status de cria\xE7\xE3o.

**Durante a cria\xE7\xE3o ou edi\xE7\xE3o de um conte\xFAdo do tipo quiz, quero REAPROVEITAR as quest\xF5es presentes no banco de quest\xF5es da workspace para inclu\xED-las no conte\xFAdo.**
- [ ] Posso adicionar uma quantidade ilimitada de quest\xF5es do banco da workspace em um curso.
  - [Navegar para componente](app://quiz-question-bank)
- [ ] Posso adicionar a mesma quest\xE3o em uma quantidade ilimitada de cursos.
- [ ] N\xE3o posso adicionar a mesma quest\xE3o do banco em um mesmo quiz.
- [ ] Posso adicionar diversas quest\xF5es ao mesmo tempo em um mesmo quiz (a\xE7\xE3o em lote de adi\xE7\xE3o).

### CONFIGURA\xC7\xD5ES DO QUIZ
#### Comportamento e Regras
##### v1.1
**Durante a cria\xE7\xE3o ou edi\xE7\xE3o de um quiz, quero que todas as quest\xF5es adicionadas formem um banco de quest\xF5es espec\xEDfico, para que eu possa RANDOMIZ\xC1-LAS e selecionar a quantidade desejada para exibi\xE7\xE3o aos usu\xE1rios.**
- [ ] Todas as quest\xF5es adicionadas ao quiz formar\xE3o o banco de quest\xF5es do quiz.
  - [Navegar para componente](app://quiz-setting-randomize)
- [ ] Posso randomizar a ordem das perguntas desse banco, que ser\xE3o exibidas ao usu\xE1rio na plataforma durante a realiza\xE7\xE3o do quiz.
- [ ] Posso selecionar uma quantidade espec\xEDfica de quest\xF5es dentro do banco para serem apresentadas ao usu\xE1rio durante o consumo do quiz.
- [ ] Cada usu\xE1rio que acessar o quiz ver\xE1 um conjunto de quest\xF5es aleat\xF3rias, com a quantidade definida, extra\xEDdas do banco de quest\xF5es do quiz.
- [ ] Caso o usu\xE1rio inicie o consumo do quiz e saia da classroom, a ordem das quest\xF5es n\xE3o ser\xE1 alterada.

**Durante a cria\xE7\xE3o ou edi\xE7\xE3o de um quiz, quero definir se o FEEDBACK DAS RESPOSTAS ser\xE1 exibido imediatamente ap\xF3s cada quest\xE3o ou apenas ao final do quiz.**
- [ ] Posso definir se o feedback (certo, errado, parcial) da resposta do usu\xE1rio ser\xE1 imediato ou no final do quiz.
  - [Navegar para componente](app://quiz-setting-feedback)
- [ ] O feedback imediato ser\xE1 enviado assim que o usu\xE1rio submeter a resposta.
- [ ] O feedback ao final do quiz ser\xE1 enviado assim que o usu\xE1rio submeter a resposta da \xFAltima quest\xE3o do quiz.
- [ ] O feedback ao final trar\xE1 o total de erros e acertos.

**Durante a cria\xE7\xE3o ou edi\xE7\xE3o de um quiz, quero definir um n\xFAmero de TENTATIVAS m\xE1ximo para que cada usu\xE1rio possa responder todas as quest\xF5es presentes no quiz.**
- [ ] Posso definir um n\xFAmero m\xE1ximo de tentativas de resposta do quiz para o usu\xE1rio. 
  - [Navegar para componente](app://quiz-setting-attempts)
- [ ] Ap\xF3s a ultima pergunta do quiz, o usu\xE1rio ter\xE1 a op\xE7\xE3o de refazer o quiz novamente.
- [ ] O usu\xE1rio poder\xE1 responder todas as quest\xF5es do quiz novamente at\xE9 que o limite de vezes definida pelo admin seja atingido.
- [ ] O hist\xF3rico das respostas n\xE3o ser\xE1 salvo entre as tentativas.

**No editor de quizzes, posso definir um LIMITE DE TEMPO para que o participante finalize todo o conte\xFAdo. Quando esse tempo expira, o quiz ser\xE1 automaticamente encerrado e o usu\xE1rio seguir\xE1 para o pr\xF3ximo conte\xFAdo.**
- [ ] Posso definir o total de minutos que o usu\xE1rio ter\xE1 para responder todo o quiz.
  - [Navegar para componente](app://quiz-setting-time-limit)
- [ ] O tempo n\xE3o pode ser interrompido de forma alguma.
- [ ] Caso o usu\xE1rio saia da p\xE1gina, o tempo dever\xE1 ser retomado de onde foi interrompido.
- [ ] Quando o tempo expirar, o usu\xE1rio n\xE3o poder\xE1 mais responder o quiz.
- [ ] Quando o tempo expirar, o sistema salvar\xE1 as respostas do usu\xE1rio at\xE9 o momento.
- [ ] Caso hajam quest\xF5es sem resposta, o sistema contar\xE1 como resposta incorreta.

### IMPORTA\xC7\xC3O DE QUEST\xD5ES
#### Cria\xE7\xE3o em Lote
##### v1.2
**Durante a cria\xE7\xE3o ou edi\xE7\xE3o de um quiz, quero baixar uma planilha modelo fornecida pelo sistema para preencher e realizar o upload de m\xFAltiplas quest\xF5es de forma r\xE1pida e padronizada durante a cria\xE7\xE3o ou edi\xE7\xE3o de um quiz**
- [ ] Posso realizar o download da planilha modelo durante a cria\xE7\xE3o ou edi\xE7\xE3o do quiz.
  - [Navegar para componente](app://quiz-import)
- [ ] Posso editar as quest\xF5es dentro do quiz ap\xF3s a importa\xE7\xE3o da tabela.
- [ ] Assim como as quest\xF5es criadas manualmente, posso optar por adicionar as quest\xF5es criadas via planilha no banco de quest\xF5es da workspace.
- [ ] N\xE3o posso criar quest\xF5es de pesquisa via planilha.

### QUIZZES COM IMAGENS
#### Enriquecimento Visual
##### v1.1
**Durante a cria\xE7\xE3o ou edi\xE7\xE3o de uma quest\xE3o, quero adicionar uma imagem ao enunciado para fornecer apoio visual e melhorar a compreens\xE3o dos usu\xE1rios.**
- [x] Posso fazer o upload de uma imagem no formul\xE1rio de edi\xE7\xE3o de quest\xE3o.
  - [Navegar para componente](app://quiz-image)
- [x] Posso adicionar imagens em formato JPEG, PNG e WEBP.
- [x] A imagem deve ter um tamanho m\xE1ximo de 2MB e ser\xE1 redimensionada para uma largura m\xE1xima de 640px.
- [x] Posso posicionar a imagem ANTES ou DEPOIS do texto do enunciado.
- [x] Posso remover a imagem a qualquer momento.
`,Ul=class Ul{constructor(){this.document=J($t);this.viewState=P("courseWizard");this.courseData=P(JSON.parse(JSON.stringify(RC)));this.wizardStartStep=P(4);this.isFullScreen=P(!!this.document.fullscreenElement);this.theme=P("light");this.showStoryMap=P(!1);this.storyMapData=P(null);this.highlightRequest=P(null);this.document.addEventListener("fullscreenchange",()=>{this.isFullScreen.set(!!this.document.fullscreenElement)}),this.document.addEventListener("keydown",t=>{if(!t.target.matches('input, textarea, [contenteditable="true"]'))switch(t.key.toLowerCase()){case"s":t.preventDefault(),this.toggleStoryMap();break;case"f":t.preventDefault(),this.toggleFullScreen();break}});let e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;this.theme.set(e?"dark":"light"),it(()=>{this.theme()==="dark"?this.document.documentElement.classList.add("dark"):this.document.documentElement.classList.remove("dark")}),it(()=>{this.showStoryMap()?this.document.body.style.overflow="hidden":this.document.body.style.overflow="auto"})}toggleStoryMap(){let e=this.showStoryMap();if(!e&&!this.storyMapData())try{this.storyMapData.set(cM(EJ)),this.showStoryMap.set(!0)}catch(t){console.error("Failed to parse story map",t)}else this.showStoryMap.set(!e)}handleInternalLink(e){this.toggleStoryMap(),this.highlightRequest.set({target:e,timestamp:Date.now()})}toggleTheme(){this.theme.update(e=>e==="light"?"dark":"light")}toggleFullScreen(){this.document.fullscreenElement?this.document.exitFullscreen&&this.document.exitFullscreen():this.document.documentElement.requestFullscreen()}exitWizard(){this.courseData.set(JSON.parse(JSON.stringify(RC))),this.wizardStartStep.set(1),this.viewState.set("courseWizard")}handleCoursePreview(e){this.courseData.set(e),this.viewState.set("coursePlayer")}exitCoursePlayer(){this.wizardStartStep.set(4),this.viewState.set("courseWizard")}};Ul.\u0275fac=function(t){return new(t||Ul)},Ul.\u0275cmp=Pe({type:Ul,selectors:[["app-root"]],decls:3,vars:2,consts:[[3,"data"],[3,"initialCourseData","startAtStep","highlightRequest"],[3,"exit","preview","initialCourseData","startAtStep","highlightRequest"],[3,"course","isFullScreen","theme"],[3,"exit","toggleFullScreen","toggleTheme","course","isFullScreen","theme"],[3,"close","internalLinkClick","data"]],template:function(t,i){if(t&1&&(L(0,vJ,1,1)(1,yJ,1,1),L(2,CJ,1,1,"app-story-mapping-modal",0)),t&2){let r;O((r=i.viewState())==="courseWizard"?0:r==="coursePlayer"?1:-1),E(2),O(i.showStoryMap()?2:-1)}},dependencies:[ke,qm,Um,$m],encapsulation:2,changeDetection:0});var Hm=Ul;TC(Hm,{providers:[lC()]}).catch(n=>console.error(n));
